/*! For license information please see main.fb0ec017.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,B=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case x:return"Portal";case E:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ae(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ae=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){Ae?Ie?Ie.push(e):Ie=[e]:Ae=e}function Te(){if(Ae){var e=Ae,t=Ie;if(Ie=Ae=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var De=!1;function _e(e,t,n){if(De)return e(t,n);De=!0;try{return Ce(e,t,n)}finally{De=!1,(null!==Ae||null!==Ie)&&(Ne(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Be=null,Fe=!1,Ue=null,je={onError:function(e){Me=!0,Be=e}};function Ve(e,t,n,r,i,a,o,u,s){Me=!1,Be=null,Le.apply(je,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,At,It,Et,St=!1,Tt=[],Ct=null,Nt=null,Dt=null,_t=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function jt(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Dt&&Ft(Dt)&&(Dt=null),_t.forEach(Ut),Rt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function qt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Nt&&Vt(Nt,e),null!==Dt&&Vt(Dt,e),_t.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Bt(n),null===n.blockedOn&&Pt.shift()}var zt=b.ReactCurrentBatchConfig,Qt=!0;function Ht(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Kt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){if(Qt){var i=Jt(e,t,n,r);if(null===i)Qr(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Dt=Mt(Dt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return _t.set(a,Mt(_t.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Jt(e,t,n,r))&&Qr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Qr(e,t,r,null,n)}}var Wt=null;function Jt(e,t,n,r){if(Wt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=B({},cn,{view:0,detail:0}),hn=an(fn),dn=B({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(B({},dn,{dataTransfer:0})),mn=an(B({},fn,{relatedTarget:0})),yn=an(B({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=B({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(B({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function En(){return In}var Sn=B({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(B({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(B({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Dn=an(B({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=B({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(_n),Pn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Bn=l&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Wn(e){Fr(e,0)}function Jn(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];Hn(t,Gn,e,we(e)),_e(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==W(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ar={},Ir={};function Er(e){if(Ar[e])return Ar[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Ar[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Dr=new Map,_r="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Dr.set(e,t),s(t,[e])}for(var Pr=0;Pr<_r.length;Pr++){var Or=_r[Pr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Be;Me=!1,Be=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Br(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Br(i,u,c),a=s}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,jr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}_e((function(){var r=a,i=we(n),o=[];e:{var u=Dr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Sr:case Tr:case Cr:s=yn;break;case Nr:s=Dn;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Wr(o,u,s,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Qn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Bn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),$t=Zt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ai=-1;function Ii(e){return{current:e}}function Ei(e){0>Ai||(e.current=xi[Ai],xi[Ai]=null,Ai--)}function Si(e,t){Ai++,xi[Ai]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Di=Ti;function _i(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(Ni),Ei(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return B({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Di=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),Si(Ci,e)):Ei(Ni),Si(Ni,n)}var Fi=null,Ui=!1,ji=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!ji&&null!==Fi){ji=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge($e,qi),i}finally{kt=t,ji=!1}}return null}var zi=[],Qi=0,Hi=null,Ki=0,Gi=[],Wi=0,Ji=null,Yi=1,Xi="";function Zi(e,t){zi[Qi++]=Ki,zi[Qi++]=Hi,Hi=e,Ki=t}function $i(e,t,n){Gi[Wi++]=Yi,Gi[Wi++]=Xi,Gi[Wi++]=Ji,Ji=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Hi;)Hi=zi[--Qi],zi[Qi]=null,Ki=zi[--Qi],zi[Qi]=null;for(;e===Ji;)Ji=Gi[--Wi],Gi[Wi]=null,Xi=Gi[--Wi],Gi[Wi]=null,Yi=Gi[--Wi],Gi[Wi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=_c(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=_c(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function Aa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function _a(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=B({},f,h);break e;case 2:Da=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ri(t)?Di:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?_i(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,_a(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ri(t)?Di:Ci.current,i.context=_i(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Ba(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===A?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===A&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===A){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===A?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Oc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Bc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=Ja(!0),Xa=Ja(!1),Za={},$a=Ii(Za),eo=Ii(Za),to=Ii(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei($a),Si($a,t)}function io(){Ei($a),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si($a,n))}function oo(e){eo.current===e&&(Ei($a),Ei(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Do(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function _o(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Bo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Bo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Bo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return To().memoizedState}function Vo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Ao(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function zo(e,t){return Vo(8390656,8,e,t)}function Qo(e,t){return qo(2048,8,e,t)}function Ho(e,t){return qo(4,2,e,t)}function Ko(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function Jo(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Jo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Qo,useImperativeHandle:Wo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:jo,useState:function(){return No(Co)},useDebugValue:Jo,useDeferredValue:function(e){return Zo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:_o,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Qo,useImperativeHandle:Wo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Do,useRef:jo,useState:function(){return Do(Co)},useDebugValue:Jo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[Do(Co)[0],To().memoizedState]},useMutableSource:_o,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qu(e,t,i))}function Au(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Qu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Qu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ps,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ps,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ps,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ps,Rs),Rs|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Ri(n)?Di:Ci.current;return a=_i(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qu(e,t,i))}function Cu(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)zu(e,t),za(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=_i(t,c=Ri(n)?Di:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Qa(t,o,r,c),Da=!1;var h=t.memoizedState;o.state=h,Ba(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Da?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Da||qa(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=_i(t,s=Ri(n)?Di:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Qa(t,o,r,s),Da=!1,h=t.memoizedState,o.state=h,Ba(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Da?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Da||qa(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Bi(t,n,!1),Qu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Du(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function _u(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ru,Pu,Ou,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Wi++]=Yi,Gi[Wi++]=Xi,Gi[Wi++]=Ji,Yi=e.id,Xi=e.overflow,Ji=t),(t=Fu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Aa(e.return,t,n)}function Vu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vu(t,!0,n,null,a);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Ku(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),$(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ru(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=J(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Os&&(Os=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Ku(t),null;case 10:return xa(t.type._context),Ku(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Wu(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ju=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Zu=null;function $u(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||$u(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&($u(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&$u(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&$u(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:$u(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:$u(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Zu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Zu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ju;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Ju;var c=Yu;if(Ju=o,(Yu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Zu=s):xs(i);for(;null!==a;)Zu=a,ks(a,t,n),a=a.sibling;Zu=i,Ju=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):bs(e)}}function bs(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function ws(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var As,Is=Math.ceil,Es=b.ReactCurrentDispatcher,Ss=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,Ns=null,Ds=null,_s=0,Rs=0,Ps=Ii(0),Os=0,Ls=null,Ms=0,Bs=0,Fs=0,Us=null,js=null,Vs=0,qs=1/0,zs=null,Qs=!1,Hs=null,Ks=null,Gs=!1,Ws=null,Js=0,Ys=0,Xs=null,Zs=-1,$s=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Zs?Zs:Zs=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==_s?_s&-_s:null!==va.transition?(0===$s&&($s=vt()),$s):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Bs|=n),4===Os&&uc(e,_s)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(qs=Xe()+500,Ui&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?_s:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(sc.bind(null,e)):Vi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&qi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zs=-1,$s=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?_s:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&_s===t||(zs=null,qs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Es.current=o,Cs=i,null!==Ds?t=0:(Ns=null,_s=0,t=Os)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,js,zs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Vs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,js,zs),t);break}wc(e,js,zs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,js,zs),r);break}wc(e,js,zs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=js,js=n,null!==t&&oc(t)),e}function oc(e){null===js?js=e:js.push.apply(js,e)}function uc(e,t){for(t&=~Fs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,js,zs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(qs=Xe()+500,Ui&&qi())}}function lc(e){null!==Ws&&0===Ws.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&qi()}}function fc(){Rs=Ps.current,Ei(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ei(Ni),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,Ds=e=Pc(e.current,null),_s=Rs=t,Os=0,Ls=null,Fs=Bs=Ms=0,js=Us=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function dc(e,t){for(;;){var n=Ds;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ss.current=null,null===n||null===n.return){Os=1,Ls=t,Ds=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=_s,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Os&&(Os=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function pc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function vc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Ns||0===(268435455&Ms)&&0===(268435455&Bs)||uc(Ns,_s)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&_s===t||(zs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Es.current=r,null!==Ds)throw Error(a(261));return Ns=null,_s=0,Os}function yc(){for(;null!==Ds;)kc(Ds)}function gc(){for(;null!==Ds&&!Je();)kc(Ds)}function kc(e){var t=As(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?bc(e):Ds=t,Ss.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Rs)))return void(Ds=n)}else{if(null!==(n=Wu(n,t)))return n.flags&=32767,void(Ds=n);if(null===e)return Os=6,void(Ds=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Os&&(Os=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Ws);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Ds=Ns=null,_s=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Ss.current=null,function(e,t){if(ei=Qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Qt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Qt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Ws=e,Js=i),0===(o=e.pendingLanes)&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Qs)throw Qs=!1,e=Hs,Hs=null,e;0!==(1&Js)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,qi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Ws){var e=bt(Js),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Js=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(as(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Cs=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function Ac(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)Ac(e,e,n);else for(;null!==t;){if(3===t.tag){Ac(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(_s&n)===n&&(4===Os||3===Os&&(130023424&_s)===_s&&500>Xe()-Vs?hc(e,0):Fs|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Nc(e,t){return Ge(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _c(e,t,n,r){return new Dc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=_c(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case A:return Lc(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=_c(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=_c(13,n,t,i)).elementType=N,e.lanes=o,e;case D:return(e=_c(19,n,t,i)).elementType=D,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case _:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=_c(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=_c(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=_c(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=_c(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=_c(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=_c(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_a(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=qc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Qc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}As=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Du(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bu(e,t,n):(Si(uo,1&uo.current),null!==(e=Qu(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Qu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zu(e,t),e=t.pendingProps;var i=_i(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,_a(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===_)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Au(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Du(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Ba(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=_u(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=_u(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Qu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Bu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Qu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Aa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Aa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Au(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zu(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),za(t,r,i),Ha(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}Qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Qc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}Yc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Qc(e,t,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Qc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Bt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(qs=Xe()+500,qi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},At=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,A={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:A.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function _(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:A};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=A.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,I=!1,E=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function D(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?A():(I=!1,E=null)}}else I=!1}if("function"===typeof k)A=function(){k(D)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,R=_.port2;_.port1.onmessage=D,A=function(){R.postMessage(null)}}else A=function(){y(D,0)};function P(e){E=e,I||(I=!0,A())}function O(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".b11a6dc7.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="sequence:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunksequence=self.webpackChunksequence||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r={};!function(){n.d(r,{Z:function(){return B_}});var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ht},SDK_VERSION:function(){return tr},_DEFAULT_ENTRY_NAME:function(){return qn},_addComponent:function(){return Kn},_addOrOverwriteComponent:function(){return Gn},_apps:function(){return Qn},_clearComponents:function(){return Xn},_components:function(){return Hn},_getProvider:function(){return Jn},_registerComponent:function(){return Wn},_removeServiceInstance:function(){return Yn},deleteApp:function(){return ar},getApp:function(){return rr},getApps:function(){return ir},initializeApp:function(){return nr},onLog:function(){return sr},registerVersion:function(){return ur},setLogLevel:function(){return cr}});var t,i=n(791),a=n.t(i,2),o=n(250);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(xx){return!1}}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function y(e){var t=d();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function g(e){if(Array.isArray(e))return e}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(e){if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){return g(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||b(e,t)||w()}function A(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function I(e){return function(e){if(Array.isArray(e))return k(e)}(e)||A(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t,n){return E=d()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i},E.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return E(e,arguments,h(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)},S(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var C,N="popstate";function D(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(xx){}}}function _(e){return{usr:e.state,key:e.key}}function R(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?O(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function O(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function L(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:P(e);return new URL(n,t)}function M(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null;function d(){f=t.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(N,d),h=e,function(){u.removeEventListener(N,d),h=null}},createHref:function(e){return n(u,e)},encodeLocation:function(e){var t=L(P(e));return T({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,n){f=t.Push;var i=R(p.location,e,n);r&&r(i,e);var a=_(i),o=p.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:p.location})},replace:function(e,n){f=t.Replace;var i=R(p.location,e,n);r&&r(i,e);var a=_(i),o=p.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:p.location})},go:function(e){return l.go(e)}};return p}function B(e,t,n){void 0===n&&(n="/");var r=H(("string"===typeof t?O(t):t).pathname||"/",n);if(null==r)return null;var i=F(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=q(i[o],Q(r));return a}function F(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(K(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=X([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(K(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),F(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:V(o,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));var U=/^:\w+$/,j=function(e){return"*"===e};function V(e,t){var n=e.split("/"),r=n.length;return n.some(j)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!j(e)})).reduce((function(e,t){return e+(U.test(t)?3:""===t?1:10)}),r)}function q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=z({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:X([i,l.pathname]),pathnameBase:Z(X([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=X([i,l.pathnameBase]))}return a}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);G("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=x(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return G(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function Q(e){try{return decodeURI(e)}catch(t){return G(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function K(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function G(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(xx){}}}function W(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function J(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Y(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=O(e):(K(!(i=T({},e)).pathname||!i.pathname.includes("?"),W("?","pathname","search",i)),K(!i.pathname||!i.pathname.includes("#"),W("#","pathname","hash",i)),K(!i.search||!i.search.includes("#"),W("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?O(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:$(a),hash:ee(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var X=function(e){return e.join("/").replace(/\/\/+/g,"/")},Z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},$=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ee=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},te=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n)}(S(Error));var ne=c((function e(t,n,r){u(this,e),this.status=t,this.statusText=n||"",this.data=r}));function re(e){return e instanceof ne}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ie=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(I(ie)));function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}var oe="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ue=i.useState,se=i.useEffect,ce=i.useLayoutEffect,le=i.useDebugValue;function fe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!oe(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,a.useSyncExternalStore;var he=i.createContext(null);var de=i.createContext(null);var pe=i.createContext(null);var ve=i.createContext(null);var me=i.createContext(null);var ye=i.createContext(null);var ge=i.createContext({outlet:null,matches:[]});var ke=i.createContext(null);function be(){return null!=i.useContext(ye)}function we(){return be()||K(!1),i.useContext(ye).location}function xe(){be()||K(!1);var e=i.useContext(me),t=e.basename,n=e.navigator,r=i.useContext(ge).matches,a=we().pathname,o=JSON.stringify(J(r).map((function(e){return e.pathnameBase}))),u=i.useRef(!1);i.useEffect((function(){u.current=!0}));var s=i.useCallback((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=Y(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:X([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return s}function Ae(){var e=i.useContext(ge).matches,t=e[e.length-1];return t?t.params:{}}function Ie(){var e=function(){var e,t=i.useContext(ke),n=De(Se.UseRouteError),r=i.useContext(ge),a=r.matches[r.matches.length-1];if(t)return t;return r||K(!1),!a.route.id&&K(!1),null==(e=n.errors)?void 0:e[a.route.id]}(),t=re(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unhandled Thrown Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",i.createElement("code",{style:o},"errorElement")," props on\xa0",i.createElement("code",{style:o},"<Route>")))}var Ee,Se,Te=function(e){f(n,e);var t=y(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return c(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?i.createElement(ke.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(i.Component);function Ce(e){var t=e.routeContext,n=e.match,r=e.children,a=i.useContext(he);return a&&n.route.errorElement&&(a._deepestRenderedBoundaryId=n.route.id),i.createElement(ge.Provider,{value:t},r)}function Ne(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,a=null==n?void 0:n.errors;if(null!=a){var o=r.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||K(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||i.createElement(Ie,null):null,l=function(){return i.createElement(Ce,{match:o,routeContext:{outlet:e,matches:t.concat(r.slice(0,u+1))}},s?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===u)?i.createElement(Te,{location:n.location,component:c,error:s,children:l()}):l()}),null)}function De(e){var t=i.useContext(pe);return t||K(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(Ee||(Ee={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Se||(Se={}));var _e;function Re(e){K(!1)}function Pe(e){var n=e.basename,r=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;be()&&K(!1);var d=r.replace(/^\/*/,"/"),p=i.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=O(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,A=void 0===x?null:x,I=v.key,E=void 0===I?"default":I,S=i.useMemo((function(){var e=H(y,d);return null==e?null:{pathname:e,search:k,hash:w,state:A,key:E}}),[d,y,k,w,A,E]);return null==S?null:i.createElement(me.Provider,{value:p},i.createElement(ye.Provider,{children:o,value:{location:S,navigationType:c}}))}function Oe(e){var n=e.children,r=e.location,a=i.useContext(de);return function(e,n){be()||K(!1);var r,a=i.useContext(pe),o=i.useContext(ge).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,we());if(n){var f,h="string"===typeof n?O(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||K(!1),r=h}else r=l;var d=r.pathname||"/",p=B(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=Ne(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:X([c,e.pathname]),pathnameBase:"/"===e.pathnameBase?c:X([c,e.pathnameBase])})})),o,a||void 0);return n&&v?i.createElement(ye.Provider,{value:{location:ae({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:t.Pop}},v):v}(a&&!n?a.router.routes:Me(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(_e||(_e={}));var Le=new Promise((function(){}));i.Component;function Me(e,t){void 0===t&&(t=[]);var n=[];return i.Children.forEach(e,(function(e,r){if(i.isValidElement(e))if(e.type!==i.Fragment){e.type!==Re&&K(!1),e.props.index&&e.props.children&&K(!1);var a=[].concat(I(t),[r]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Me(e.props.children,a)),n.push(o)}else n.push.apply(n,Me(e.props.children,t))})),n}function Be(e){var t,n=e.basename,r=e.children,a=e.window,o=i.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),M((function(e,t){var n=O(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash;return R("",{pathname:i,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:P(t))}),(function(e,t){D("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),t)));var u=o.current,s=x(i.useState({action:u.action,location:u.location}),2),c=s[0],l=s[1];return i.useLayoutEffect((function(){return u.listen(l)}),[u]),i.createElement(Pe,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:u})}var Fe,Ue;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Fe||(Fe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ue||(Ue={}));var je=(0,i.createContext)({someFunction:function(){},cardClicked:function(){}});function Ve(){Ve=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=A(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function A(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,A(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){He(a,r,i,o,u,"next",e)}function u(e){He(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Ge(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var We=n(184),Je=function(e){return(0,We.jsx)("div",{className:"board-wrapper ".concat(e.canplay?"":"no-play"," ").concat(-1!==e.gameEnd?"end-game":""),children:e.board.map((function(t,n){return(0,We.jsx)("div",{className:"card-row",children:t.map((function(t,r){return(0,We.jsx)("div",{className:"card",onClick:function(){return e.play(n,r)},children:(0,We.jsxs)("div",{className:"content",children:[t.image||t.corner?"":(0,We.jsxs)("div",{className:"suit-wrapper",children:[(0,We.jsx)("span",{className:t.suit+" left suit"}),(0,We.jsx)("span",{className:t.suit+" right suit"})]}),t.number?(0,We.jsx)("div",{className:"number-wrapper",children:(0,We.jsx)("span",{className:t.suit,children:t.number})}):t.image?(0,We.jsx)("img",{className:"face-card",src:t.image,alt:t.suit}):"",-1!==t.team?(0,We.jsx)("div",{className:"coin",children:(0,We.jsx)("img",{alt:"coin",src:0===t.team?"data:image/png;base64,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":1===t.team?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA1fSURBVHgB5ZsJdFTlFccvISuQGDaRNQFSggoupEWJrbhVtKJYKyigbUUEpceNuFSRKkrdCtYCFSVYQBDcahW0agEPUo91IaIWhQSEQEJAEhIJBEISSX937htnCBMy700CeHrPecnMm++99/3v+v/ufNNMmkxqE/mTwdGRI52jF0crjk51BhZxbOPYzZHHkWP/m+2WJpBm0qjiAzlcDGiGRCYKfAXHe0yzSBpJGglwrYIbI5GDrE8U/CymmyMRSoSAmxxoXVFLP8G0V4hH8Qi4VuPwfjlyQOvKG2IWd+3qHgDXaoyqVRPl6IqCzQbCEjcXuQRcmyWWlI4lWQSMqeEODhOwL/s+I1ZajkXRcnZHOC4eBmBfvD4th9bPY00U7I0NgW4A8A8GrF8U7MjDkZaGAC8Uz268l3vPay3yXDuRfVEiffeK3FZMYt8nTSvK0kbU9+FhAEeSoCoAODxFZEmbg8/HHxC5HRr58HZpWqk3kUWFHl97qUSUjae2M7AJALyqROShLSJDS+xxU+HWH7RwnsMxra3IMJQzt7U0ngx3yuchEn3oKV/c3iCeRUHMbW+vHyoQySoJfPYwbj2hG6D5PHMzLs6zvgD8L8vgESiprDkeUGL3+DfnlySJfB0v0hLFDSonPL91UUnhCrWH8PAQV9c+wJ/B4lnyYlkc9RXptp/XX4rE1QY+28fz+pwksgdg9zCRtYCZsVUkhjGlnLs6VeQplHQPiliMxavqeODPAfzO1y5Aw72bjQ0+UeeGtedIRGBVdjv37F5pYDV5lTvnEng/dKfIjhiRlwD0JGA38fo1LJmEFU/GA/qfKPIKbn58NVWGWH+EcLhyp4FcmizyaHsXk8lw+P73UjeGx4tnUUMquE419v4753wLPng9ySyocnm5PVZdVBUwE1e+hDKyDs9Y0N4y+m93iHy8js9QyO/J7C/nQ90L7PrZbgCrjAl+EwTYpwmP9XbhcSIDKF+De4rc1MXOlcYEPh+A5Z50JpqOqyfWmNXV/dUjNKtfkYaSUNgULDoHcB1rAp6hcg/Am6OgjQkBZYYlB1k52MJjxJN8yz3uJBE9hjWWb8A980lIWC+Pie13gi2tiuQTawBbM9vjnBmvYsxF5eamG+NEHgfs73baZ6qE1QmB55RFWYgkuUJbF5sD2JeZPS719nOPWOJvYIXIh84EryPT1gB2fnJg3JBdItMdK6ul2mHBNYw/CYvPOl5k7Dcio8sC42cQxx1qAu8f6UDI8KyLGNNcXEqGsx743sIDxbPopDSbKkCNv3foW13PpLoA5NmgeFOFrHbqL/qReECPxprZAEvkxANBZEQVpRbuvd/ev0DIPAPgzrx/1Gu7x1eX/YDPEVei4Iqo4ds4qnk9iiSziEmdB6h5EI4VLbFIIRZHq2+3smtUMa1rLLlV89xMxrbDPV9i/ARAtHdcdRnXzmxv9VjlLa4fBzFJ4tqXN5L9q8WbZDiAv+8uhil/J+Oe2huK3UekB/U2hf+fMKlHYVDfoIC5JJw/46J94cznUTfv7GLKUemOhaqamUt3qbbsrfH8G8eVp2PtBwmv2cRyiwPG2K7uaeO1ZN3LZz/9kcjEDoH84AZwbaJa2MXiQC03ggl81cIm3oLJlgLmnWQ7dzo19BkstgAW9Y9kIxFbSEbT29n1ParMneMOWPLSWnwzsRsLoEko6b/E9MJNRkmVi9/J0ZN6vnS9yLsQjn9x3AcXX4o3je4q7iUjWsK2rrKkkd0tXs/HcgvzIQffmYt+AWN6D2W8ANhbU3FvLHU7MdkZN8xmXBaT+xXXDNxjCact5w9wv/UAvBblvIqlx+00q2lymoNL98ZDFpD1ryLZrY630qdZWut4JufT8CzZIu6kowsLL2ZSRXEWS69tMrAq6lmnYoVbmPAHWGLlWovrsShnOUoYtstopLq2Wljds2O1ceXLcOVWWHMIxONxLHxiH+PTy3Opx+SALZSxUShrIYo8nuf2RwmbOVfZzKira0lXC4fZjNvuxGHKfpukXxT35hizWHStTerjXCsr1/cgDEho93JsY8zdxOBfC22yH6KMUaUkKeJ/IucvwQNKPjcrqtdsjTZX711p91ZSokyuJ8oa11nkLi9LzF7coHaxhMWwljOxC/GGRBCuWmtkQi2pVtwRbcThq3iL5U589gdirRfAbmdy6zk/jXhelmhJSq2sCwiNVc0F6rYLki2G13D9hgSruaFEFZKCEp7NJ4HtFXdSpIBXhTdW4+tc6N9/cO2f4IJLNh5MDIJFFwSz2toq6L4dxrCUWnbGOt2rjFfra/WOLxxwKVVWdztVGyhVjP5XYlPC+LVx5hVLSHQb4+05A4jnv20J1OuGxQVgla946IWUha1xVlPHY8WsYlsEhJJdTPRzxp7tWEIXCKtaWPn/WYXRTX1/FslswD6ztiawsysCi5C6okqaTUxPwnO2xZq1V9DWSQ2rPrsErJLLQ24lAS1PNgKiwM9C0/0AlYqVkv0uC6rKKIu7Qq7ZGmuW7AOwAQAqb27W1dpcFGONgCxKVAYAJpPAihh/VakpKzaEQrW2D8Lj1mD1IaWWSJsEsF9ycKvL0yymN8cfHHMxxGYHNJ4KmJP2WrwPJSkVAmw+LjkEBW2KtZq8G+BRABpEmIxlEdKe66ZvNWqpnZFPAXQC59JQRNp+Y2hnOo1A5QUXpFsuWEOzIaVBK2vmVW7qYVn48AkiLxLHmY677nKWeereamU/EdLEtphkdW2qsaUZPO8JiMjpTHppojX0ru9qXqHdjCmA7AeBuYtwyS60PFCfnFxpnFwToK7aUqQB8VG+PeJaCmKs16RgP8Itt/L+E1xydUuz6sn7zBorW1mbtmuVZen+jmXehESMwOJz2higKSjhEkrYCYTHH1HAGVhxFHV8HtdOxtpX7grd1nm3lSlZu6HdasKYuJJ/39cULnvP62MtBjXJnAGIPCx6JuA7brdsej+8Ogt190OZ84mtcwEwq425sG85yX/1vp0xVnPXcmISoEd3N1KiBOV5vOcxvGgYYdMDS14KSenPfU6pNC/SMnmbY9IRJUZVGxRf/ylXXIuuinz9J+JnZhubtMrdAD2NJt1HTGYuE/4QZa5DAYN7WKLS2JsMiKGl5iVKJopR+nrG/ALlnI8lr+1hK6c38IIluPhzG2y9/RfuPRLwfWFjaX2Nyely9Axif2ZhmBPPUwtvE0/yaj4uSQJ6H3DLkmzFpJm4PxOfy2fpWOlBsu2XuPyMAlvWqft/htvPgT+vbGlxW9HM8TRkIh6yDKB3kFNuwGrDALUYxQ3mnmei3AtQSA7XbY+x1u3FhMX44tBZPKTkqIU9biPQ2BuDpeZR+LtVWek5jwm9+bWB1XXwR0zu6cLAGvYBrHQ2GboL8bYpzlZNShs3OESiF9fdV2TNPD1/C6RlfCdz12E7rfSp1+STkb+E7U3ZVn+9Dil5Uc4XTxHsnVCXnoabpuOu87Bcm++sBs8m4WQXBGLrdTLysmQD8fxxRkM12ej49UGNOV01aYtW176DsOxp+4y6XoEyF7UR76I9an8P2Stg7SpO7myLhuzNAW1rl2LC9sB7jddbupl1Nd2qC5ZF21JRFZLMuM8cK2s2/nWxUVgNgcHlFsM6LjdBvMsK/eMHvEg8iU5I6d2P9xxM5HU1dXqlvVYefBtKKQH0Y7j3gtZWzpR27nGef+92awb45WqnAzK1g/FpHfsn8sEpbhcLwfKe/nEe6NWtY53/hXEHn7/Yqe3a8hmeSoJjITHuG1OCljO1vFq3wLmBKksTmL8P3a/SpvZBopGSGx1iku12we+XHP93TMFLsFniWrT2Ko3UNs7MoPhSdvUicZqZbnF7cZkRik8T7BsHP4nI532x03O9idh9t6W91s81oel9XiZU3iJTTytymaAkFLYgwL5NXy6trO52XbG9HkcJyWQlNRQykAHQa3pa5k4j6VzjfDekyUcbdh8DtCTarP2204DoWm21WCuMJrDoA9ZWiliKgje01V1ke7DyU8TlICfmNNG80s5WMEox58CyXsI689va5PU7pFy84Wb9yrTAkt3TQb1rTWaK8X1o6u5oW4BELE8Ev6nz/bBqola14aJtqx759kbrUb3fMtDjOqvCvhFU6cfrgVi/V6V1NLRboZS0b4UpSTudY0ttrCa5ic5iJjPSDaZv1N21F+r7YX3Y89LoG8/+SalaR+m5rNyWiyoa5yPSzH0zAN+22hSSH2/NwpW5pjxPEnJXTz0x4tsukCVHRCZQemZAXMqDvK01wKfg8qPKxLtMCrVLr4k2tbiVfGr0m0m2I0BpqrIqvxd4kno3tTThtqWjJofdthQlhxfdH9Fom7OPgOhc7zjcgAYA+xjYjfLDAB3W1sOGLCzODRR0nhy7onMbGc7m0jAAq+iNfHHhcZHRpLLI5hbej0K8bBDXXXq6ce1obzhVgLor3pURIvkJwBiJeE+XZ1E2OEmOzE8AgsW3kU33dh0pa0f865bGWI3I/9HPeOqKz9UHim2SaYwfaumxSBrxV2qNDDhYfJtllKVlOP/1vf4sL9RP8bRDoqVFe+TaNs6RJvop3v8ACjRz2fHdXo8AAAAASUVORK5CYII=":"data:image/png;base64,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"})}):"",t.overlay?(0,We.jsx)("div",{className:"overlay ".concat(0===t.team?"red":1===t.team?"blue":"green")}):null]})},n+r)}))},n)}))})},Ye=n.p+"static/media/king-heart.cd748137724ba82efc7e.png",Xe=n.p+"static/media/king-club.0ad9bab77c0b64120032.png",Ze=n.p+"static/media/king-diamond.3c5e99e9e35179b72e22.png",$e=n.p+"static/media/king-spade.0b912cbebb81c427c348.png",et=n.p+"static/media/queen-heart.3b2041f3296f2fd71002.png",tt=n.p+"static/media/queen-club.34002a0a0b35659a2899.png",nt=n.p+"static/media/queen-diamond.75cb275a5c092ea4dac0.png",rt=n.p+"static/media/queen-spade.8640d9029af71819eda4.png",it=n.p+"static/media/jack-heart.bff2e008fd4a3f257250.png",at={J:{club:n.p+"static/media/jack-club.de6a36e15fdfa5a38496.png",heart:it,diamond:n.p+"static/media/jack-diamond.31d676fa664c9e59b643.png",spade:n.p+"static/media/jack-spade.bead2d7f5ee1f2abc794.png"},Q:{club:tt,heart:et,diamond:nt,spade:rt},K:{club:Xe,heart:Ye,diamond:Ze,spade:$e}},ot=[{suit:"heart",number:2,position:{0:[4,4],1:[7,1]}},{suit:"heart",number:3,position:{0:[5,4],1:[8,1]}},{suit:"heart",number:4,position:{0:[5,5],1:[8,2]}},{suit:"heart",number:5,position:{0:[4,5],1:[8,3]}},{suit:"heart",number:6,position:{0:[3,5],1:[8,4]}},{suit:"heart",number:7,position:{0:[3,4],1:[8,5]}},{suit:"heart",number:8,position:{0:[3,3],1:[8,6]}},{suit:"heart",number:9,position:{0:[4,3],1:[8,7]}},{suit:"heart",number:10,position:{0:[5,3],1:[8,8]}},{suit:"heart",number:"J",image:!0},{suit:"heart",number:"Q",image:!0,position:{0:[6,3],1:[7,8]}},{suit:"heart",number:"K",image:!0,position:{0:[6,4],1:[6,8]}},{suit:"heart",number:"A",position:{0:[6,5],1:[5,8]}},{suit:"diamond",number:2,position:{0:[9,4],1:[2,7]}},{suit:"diamond",number:3,position:{0:[3,7],1:[9,3]}},{suit:"diamond",number:4,position:{0:[9,2],1:[4,7]}},{suit:"diamond",number:5,position:{0:[9,1],1:[5,7]}},{suit:"diamond",number:6,position:{0:[8,0],1:[6,7]}},{suit:"diamond",number:7,position:{0:[7,7],1:[7,0]}},{suit:"diamond",number:8,position:{0:[6,0],1:[7,6]}},{suit:"diamond",number:9,position:{0:[5,0],1:[7,5]}},{suit:"diamond",number:10,position:{0:[4,0],1:[7,4]}},{suit:"diamond",number:"J",image:!0},{suit:"diamond",number:"Q",image:!0,position:{0:[3,0],1:[7,3]}},{suit:"diamond",number:"K",image:!0,position:{0:[2,0],1:[7,2]}},{suit:"diamond",number:"A",position:{0:[1,0],1:[6,2]}},{suit:"club",number:2,position:{0:[6,6],1:[4,8]}},{suit:"club",number:3,position:{0:[5,6],1:[3,8]}},{suit:"club",number:4,position:{0:[4,6],1:[2,8]}},{suit:"club",number:5,position:{0:[3,6],1:[1,8]}},{suit:"club",number:6,position:{0:[2,6],1:[0,8]}},{suit:"club",number:7,position:{0:[2,5],1:[0,7]}},{suit:"club",number:8,position:{0:[2,4],1:[0,6]}},{suit:"club",number:9,position:{0:[2,3],1:[0,5]}},{suit:"club",number:10,position:{0:[2,2],1:[0,4]}},{suit:"club",number:"J",image:!0},{suit:"club",number:"Q",image:!0,position:{0:[0,3],1:[3,2]}},{suit:"club",number:"K",image:!0,position:{0:[0,2],1:[4,2]}},{suit:"club",number:"A",position:{0:[0,1],1:[5,2]}},{suit:"spade",number:2,position:{0:[6,1],1:[1,9]}},{suit:"spade",number:3,position:{0:[5,1],1:[2,9]}},{suit:"spade",number:4,position:{0:[4,1],1:[3,9]}},{suit:"spade",number:5,position:{0:[3,1],1:[4,9]}},{suit:"spade",number:6,position:{0:[2,1],1:[5,9]}},{suit:"spade",number:7,position:{0:[1,1],1:[6,9]}},{suit:"spade",number:8,position:{0:[1,2],1:[7,9]}},{suit:"spade",number:9,position:{0:[1,3],1:[8,9]}},{suit:"spade",number:10,position:{0:[9,8],1:[1,4]}},{suit:"spade",number:"J",image:!0},{suit:"spade",number:"Q",image:!0,position:{0:[9,7],1:[1,5]}},{suit:"spade",number:"K",image:!0,position:{0:[9,6],1:[1,6]}},{suit:"spade",number:"A",position:{0:[9,5],1:[1,7]}}],ut=n.p+"static/media/king-heart.486ef35bbe1ba2ae7192.png",st=n.p+"static/media/king-club.f80d2775c891b905f185.png",ct=n.p+"static/media/king-diamond.1863b1f37f0b8a7ff698.png",lt=n.p+"static/media/king-spade.f2031dcf7672f64ee103.png",ft=n.p+"static/media/queen-heart.7e51548c2e204e71add4.png",ht=n.p+"static/media/queen-club.54b9e7ff9c336c1690ad.png",dt=n.p+"static/media/queen-diamond.1dabf77b521c06d537df.png",pt=n.p+"static/media/queen-spade.b95c16d6f88cae583af7.png",vt="data:image/png;base64,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",mt="diamond",yt="spade",gt="club",kt="heart",bt={spade:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAABPCAYAAAC3SqYdAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQTSURBVHgB7ZpHaBRRGMf/sTfsomJbK3pSsIK9oIigWBERRFAURLzYTh4U1IsnD4IoHkRRPFhRseBBERXbwYaKGDEmUbGBLSYZvz9vh2wmM9mZnTc7JfODHwmzu/Pm48289833HpCSkpJSGO0RAs0QDsPE9QiBsAKeKc5DE+K6WAvV04mnj/hbNMQdaAKshQqWvhSbI+HcR13AdCkSzCTUD5ZeRULhjHAHDQOmy5FAVsE+WPpa7IgEkRHL4Bww3YeE0FK8gcaDNQ0l+9LNXrgLlv4QJyDGsMeYURke5K0/GDFksfgH3oI1fSX2RoyYIn5FYcGaPhG7IwaMET/CX7CmzMo6I8KMFCugJ1jTW4joHM1gP0BvsKY3xA6IEEEGa3oFIZWFrIyG/tvYyYtiO4QIk4RKFCdY0/NiG4TAVPEzihus6WkUOei58D/P+vUEVJ4eOMugcl4jAh5BwCWiNagrwEXF/Qio3LxJrAJgRNDd0AyD/QfAiLDboYmViG7PWl0NnzCp+AbAiIk14ngUCN9SngMwYuZbsRsKYBcAI6Yegkcy4hcAYV+4H2fYBeY0f60TuyDebHT7xbZiKeLVm072sAZn18MTxf5IBjOtB+wCHo7kkLEesAu4J5JDX+sBu4CTtEDdoA5mF3AVkkOJ9YBdwJUoDrUInu/WAy1svvQJwXNUHAi1FDMLwVHq5ktdxWoENzeehBo9b4pDoHohqLZmwyUXAroArgxyjh8LtaJAtgTU1jt4KN4vDOAC+MzOz56fCcHDnPZOBtDeNnjkhOYL2JNz7kVQC24mLLk+1tjWIxSwStFJfKHpAg6jfkl1a/Z47iJZL/GZhrbKxaEoEG4TfOrzAtizrS3nPZ79bLrlONeD7/poi2OE79SYt0Yhgxjnc6cak7lfa4PNZ8wNWHqt8dgeF9v6QCMLoEbWfA3zjuD7dCeH8/DWNYuCRxtpjyuSl5F/jwgfOw6yrmrTJfAO915Mzv5tnW30l/geasW+LM/vl4insv/zN/2z53CChQgW5gZBTTMcC1gy5vz9AGqwq0aEOYv6PRTrbUr56IeG61LaVw2ixE40fAaZEbVCAhkA5909rgtuceIcnEda7g/ROqWEzWbkn86uoUgL3EGzAmracpM8HIP9O3psYKbl9X33EtQ7eaxgQsPp5i+8p6T0DdR+zVjANxVWMwwNclEsg4gyCuoZ/Ak9wZoy7z4ojoMGCsmlTZjXzhGnQdWOhvo8nxveimfE2+I9uCzS5eL2ApnAc3d7BiqJHwG1QhH2iMrRn5vJ+brJef4iNHEAem/TICyHC9z2ML/H91j2KssyXFJl/stEgUszzVC3RFNi0el8JobDd2pzPjODqsmRzzbr2hwzuAWyIvt/SkpKSkpKSko0+A+Ni+MfiaW18wAAAABJRU5ErkJggg==",club:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA8CAYAAAA34qk1AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOfSURBVHgB7ZpbiE1RGMf/MzGENJJCjXGdGuT64EE0YsqDSMjICw9e5sWLPCgm5UGJokiS5pHkEt5cJpdQLiVijNsguU2uYS7G8f1b++TMcvbM3md/+5y9T/tXv86cfXZn7W/vNWt931oHSEiIJSUIn9lijThDHCqWid3iJ/GWeNN5jS2zxMtiyoPXxWmIIdvEP/AWZKa7xf6ICXvgP8BMDyMG1CNYkGm3IsKUi6+gE+gPcRwiynroBJl2PyLKJegG+k0cgIgxSOyEbqB0PpQohQ6cA8OYFqZDCa1ARyMcxkAJrUDLEQ4joIRWoN0Ihy9QQivQlwiHR4ggb6A74jJpiFzXJUehywnxI5TwU49ywFkEM4l3iF/FVvGJ8/kw8ZnzGpQumKmFXZdz9FJxojhK/C4+EG+LzVBksLjdaSBbF3so7hOrYcosjW57VqwQd8IMSNnO4QB4Bkp17GSYp+T1An/6OLc3WRy0+zh/BwKslnDpQ3uACdNjyIEq8TWAVMzcAh+wCzQBBb3gXOX/s+f8eDVQ8AsO4jl45C5Q8IsNIqe+ajsoO2HgKDsT8Ybrxivtg3agC1AcVNoH7EA1spooMNw+YAfaD8VBmX3ADrQTxUG7fcAOVK1acKHDaSPsOvO9fcAO9CrCZbPYItbBLGeGxX0vJzUhnPntAkzWdQdm0GsIqR1uR46HB2pDajy9oseybi5M+XcyhLYOwQcXlRtf53wvR8N34hrnPZ/sW8V2WmGKc89UOhcUtGHukWbujE2CWT1oyDjGzaQWhba4xlSLHGDl/iFAw1xqqbe+c63zmb2+xBvQHKAt3tCNCMBYmBHMb8MsDLLlzI3O55/x/xYGk5UGuC/ZuMml1hooMARmzajNQ6McaDYhS2biBPYi49w5Lu2x6Ocg1ddSCj/nWlUFPOBnnYUXukRcLE6BuQGEyy3XxCviDZhulI1l4umM99zC3wB3+AuW5TA7agw+vWN3D+aXLKw72xBBzqPnE2H3rUKRwV6Qrfs1oogYCPfp4xfMTYg9HAO4tdDXqDkBMYZB7oL36WgkYgjnROacfubDxzDzdmxgrnkKuWU4rFXrEGFY104VD8KkfqmAsqRbAVPhFByOpvNg0jZu4/1G8ABtn4tHxFX4l6DkDd7p4zBTQyqPMuNi5nUAeRilF4pPYWpIZjYsjboA5CtYpoCsqPbCJ1q/wC5xLLVegZ7rUn21l7L+znya3XDPoxMSEhISIsVf8X64NcTej04AAAAASUVORK5CYII=",heart:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVBSURBVHgB5Zt7bBRFHMe/t9S2mijBRzWof1mhQgsKJMZHVAyCDZLKwxpiIlESTcRESUh8vxLxEeMj/mX4z7+QKIrBF6jxgYIJNgWpDdrEqFCEtCLFGCOFWz9zc9v02nvs3e1O27tPMtnZ3bmd/e7Mzs78fr9LKAS/SVOOS0sT0lxfmsZ2Oocb2NYmpX/Z9rL/O6njpLR1trSTY0mVAfV4XdICrjOf3ZnpNJVUR/qPdNjemnqoaHut9G2TdKjQdRP5Tv6AQE+6h+ydpHqF50fS+nekTU8XKZzy3nLpXupd41uRYfmH9AHp+WZpb65CWQUjdAonHiWtZXeSSoTff8JN39VsW6MgPdJ5NN0bZJepRKjvFPVuOE16km7Yr9H3lMl+uivdcgvZJkVD9ylpEd38YL5CiL0IsdvIzlAEIHw/om9FxE/Dj2cI5kzToPS57LsSJd/XSDdS+d9ZT0qT6229cxUtvbxPC2al2tHiBRk6fQNi31P0Yg3z6DWP5TrJKPSMohdruBCBW3ZKZwcHhgTzoj6r6LrxKOhi6xjJrhx5nGNX0M3uV3xMP0t6PNjxgkrZrFaMIGoSoh8ceZz3+zmVMTCG5IG96YedEpy0T8BTzCC6fbfUHOx3k6fShYofL/15lWdGR7atcoCZTJwhrRy2v0oOHrSBh30Hg/K53gnpanZOlyMQeTsp4dsvxGK5ow6tbTW+my41nEsYM+ZRuc908DI5hCc8xwhuTMgt1Hk9k4JBuaexBrEXyzEInsOLe6YcQ71NTIB0gRzDQ75WdsXjut4GI9jZgDWsYue9Kk2dRzOfVPVwwnwDj6p6+NNLWEtFtXDAdOlfVSWgtd+08C+qEtDaZVq4S1UCgnd5fJO+Uqq1Kx4fwd1eIy8yO3tU4dCinRjLeoKl2YeqfIyB0K5FmcVvVmV3a9OdN5lMSjD2nT2o/UyVy67AOD9kbUDwm6pQWIquD/JDgt+VNiL6O1UendPwgAQ7GWt/LBGtvh3AXNsE4sKnRW9gdP46OJBhQMNz9TGCN6hyeGu4WEM2i+FTpCOa+Byk8R4aeXCU4BYrdm25/t2xJH3v97XYSVUGWW3CDOEb2byoCQot+zIatmY7l9MIXmsdXNs08fiCBf4TuU7mHY3TDuodsiEOEwHjFp2fzwGf181xqdRHgSVk/9D4pxfjXFuhaIOCfp0ZNmjEiO7X+KUP92Pb5dLPhQqGcmThQe9I2LiLYxp/mHtahs+mI0zh0J47JiU7KNzOCDig8cMA99NON/4m7A+KnkLi070JJ/bb/HCyxpYBGuA2XrlPi/lR0b5ZUwFPdQXZvzRGUP8xxpUVxYo1lLxIoKWvS6YWWTpHDkHsUQaopSPnyGEp2ftuKkyP3n1yRx+CbylVrKHsZeA+nNsJO42L1QuJ0CN4/haHHY1zEcm6F8P2bC70kR9PjJfBTHxa88VQhiWyhb6JyEnauXfUog9x3ZtnpTpT+UQWQcN71WViKhUihLcIemmRhVGJNURuytmXmphpOxc+X+VxmFdkUUsquDc6Io+RMjdYY8ORyhm9zWi8JGqxhliCwsxI6tnJyXEViZm60juWt6SCbKMntig4861kgnC3X0R4kinLDa2aadfgsRBr2B8tvZnWejhseW5mHWLfV4zEHufIt/MVNi+FKPoqYl9XzDgJ7KzDxuTnn+h/iR3qETnAmYcBY9NUvtO7s8zGDtRL1zRmManGgZMWNpj/FPF01yjT3p3kAax2JXZMYN79AslPp9fkGOdOs/Q/WDqpeJDWvaq5GgLjaNmV3W6Dw4f4HyP1NlNgQ3AHAAAAAElFTkSuQmCC",diamond:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA8CAYAAAAzF3kIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAU4SURBVHgB3ZtbaBxVGMf/30ySphdq1F53N7Ob3U3rFfHFViooIvRBRKW0Ei2tFKRSq8VStTQWMbQigWBjVah3Kl5oi1SlDy0SCuqD9QL2RU12NnvPBW9pbGM3O3P8xkKxSbrZmT1nkuYHSSYz5+zOf8853+3MAj4ihCDMZMxg5GkBzEyRvwaWLUgEjGFzqbENPqLBJ2pp5Ckeunkg2tITj8+CT/gisHdhZAkJ2n7hP7FMO1t8HD7hi0Crzn7RBuZePEHUetowroYPKBeYNowb2HxuuvSsWDjXot3wAeUCSxY6CVQz7oIQj6UWh5ugGKUCu0PhhyFwz2Uuz7N08SYUo8wn/RwMXlsH/VsWGMPl39yyCC3N+cxhKELZCNaKmp3lxDmw09c1gXYzGr0KilAiMBUI30oQOypsHhHn7XYoQvoUzfHULAr9Bx6dsKuOgtbE+tKfQjLSR5DFdbgWB0effSDT2BiAZKQKTASNjSxuIzzArmTBqEXvCcn3pEMSPY2NMbLpE/p/xOKe2O/zGor7/x76CpKQsgYTi2OLdH20i8OxG1E9I0R4NJrPHIIEqp4OIhKpJ730riRxDrM5L95vhkI3QwJVC+wdtZ5nmfdCKmKRsOijXyQYnaoE9gSNdfxpt0IBRHSTbtEbh6q0E57XoBkKr4EtnHWiNJ4VEEfjheyD8IinmzMDxh0s7gP4kI2w+3ggGQi3C6z1NJKuOyVDTbdxdewID/018I9VZ+YX9H3DQ11wiaspmg2F4hypnOJczpdsfCy8Lluj+fRLbvpUPMV6gpGVRVvrmipxDjxz9qaC4TY3fSoaQdPgNVeiY/wW8zENIKG9Gu1LVVR+nFQgu4K1nLMd5MN6TCPY+Lw+OKd218pE4kz5dmVg6/UEj1qnkBizyoRv/viwVbvhlgFzsEyb8TjldXYFXCzCk5juEMwS1d+5PNedn/jyGHojkQaraDtZwWpcIfCAsLjah+IF85ux18ZZUXGOZtE0nZLlIIzOnuj8OIHRwd6BepTu58OXcUUgfhI2VscKmS8nulreyISM9dz5IOA9ZlUJ39QXc6yGliUDp8+WaVMec2n4EXY8b2PauQkc/r6QaVnHtdVJ2k1O75LIXZZuf0gC0otCXmCj0h4vZJ6rpG1FoVpTf+qkgLaGg8E/McUIor0/rlqxq9L2rtZWgoNtcuJRoBFTgCVo97K+9B43fVzlc/FcLgG9xhnJIfgMB9p7mvvcZRIOnqxjlnPCom2d5MPZ8AHO6l/jrN5TVOUpI2/M9Z6yobXwehiFagQOeBXn4Lnk0FxIfabZYivUciK6edMWVEHVDvxCvUQ8A/mk9SLdHvkt3YcqkBKhJAPG5+yb7oM0aLBo04rr+1MpVImUqhjVaRv4dwaS0HTaIEPcf68FCTSlUn/Zun03H55DlQhb7GjKpo5DEtLqms3ZrClI4wqAE0l5g9fLiXh/tgMSkVq4jedT72ugj+EB/lRyHCVthmSkV6ZLVHKC4DTcoqGtSdK6u/RlJdOcz+eAmvV8aFfcibAvnsu8BQUo2VuIFZJfc2r1TiVtBVvfGh2uirluULZ5QrO0Z/nPwOQt7W3hTEZZGqZMoOM6eCt6klCOjnGceRQKUbr9xfvsR9g6Trgj5DzGBdK3QzHK9/csu2YnTRAAsPCOWD7ZDcUoF7i8P/mdIIx5gokyo7rohA/48sRv7Xnh+MaRiyeE3XldNlvATIL3Ol7gH5EMGqafXy3w7an7hn/qXuFazh/s/duoinh1WpMIhLf6+ZUC35mKb738C8jRtsl/mA4lAAAAAElFTkSuQmCC"},wt=[[{corner:!0,image:vt},{number:"A",suit:"club",used:!1,team:-1},{suit:"club",used:!1,team:-1,image:st},{suit:"club",used:!1,team:-1,image:ht},{number:"10",suit:"club",used:!1,team:-1},{number:"9",suit:"club",used:!1,team:-1},{number:"8",suit:"club",used:!1,team:-1},{number:"7",suit:"club",used:!1,team:-1},{number:"6",suit:"club",used:!1,team:-1},{corner:!0,image:vt}],[{number:"A",suit:"diamond",used:!1,team:-1},{number:"7",suit:"spade",used:!1,team:-1},{number:"8",suit:"spade",used:!1,team:-1},{number:"9",suit:"spade",used:!1,team:-1},{number:"10",suit:"spade",used:!1,team:-1},{suit:yt,used:!1,team:-1,image:pt},{suit:yt,used:!1,team:-1,image:lt},{number:"A",suit:"spade",used:!1,team:-1},{number:"5",suit:"club",used:!1,team:-1},{number:"2",suit:"spade",used:!1,team:-1}],[{suit:"diamond",used:!1,team:-1,image:ct},{number:"6",suit:"spade",used:!1,team:-1},{number:10,suit:"club",used:!1,team:-1},{number:9,suit:"club",used:!1,team:-1},{number:8,suit:"club",used:!1,team:-1},{number:7,suit:"club",used:!1,team:-1},{number:6,suit:"club",used:!1,team:-1},{number:2,suit:"diamond",used:!1,team:-1},{number:4,suit:"club",used:!1,team:-1},{number:3,suit:"spade",used:!1,team:-1}],[{suit:"diamond",used:!1,team:-1,image:dt},{number:5,suit:"spade",used:!1,team:-1},{suit:"club",used:!1,team:-1,image:ht},{number:8,suit:"heart",used:!1,team:-1},{number:7,suit:"heart",used:!1,team:-1},{number:6,suit:"heart",used:!1,team:-1},{number:5,suit:"club",used:!1,team:-1},{number:3,suit:"diamond",used:!1,team:-1},{number:3,suit:"club",used:!1,team:-1},{number:4,suit:"spade",used:!1,team:-1}],[{number:10,suit:mt,used:!1,team:-1},{number:4,suit:yt,used:!1,team:-1},{suit:gt,used:!1,team:-1,image:st},{number:9,suit:kt,used:!1,team:-1},{number:2,suit:kt,used:!1,team:-1},{number:5,suit:kt,used:!1,team:-1},{number:4,suit:gt,used:!1,team:-1},{number:4,suit:mt,used:!1,team:-1},{number:2,suit:"club",used:!1,team:-1},{number:5,suit:yt,used:!1,team:-1}],[{number:9,suit:mt,used:!1,team:-1},{number:3,suit:yt,used:!1,team:-1},{number:"A",suit:gt,used:!1,team:-1},{number:10,suit:kt,used:!1,team:-1},{number:3,suit:kt,used:!1,team:-1},{number:4,suit:kt,used:!1,team:-1},{number:3,suit:"club",used:!1,team:-1},{number:5,suit:mt,used:!1,team:-1},{number:"A",suit:kt,used:!1,team:-1},{number:6,suit:yt,used:!1,team:-1}],[{number:8,suit:mt,used:!1,team:-1},{number:2,suit:yt,used:!1,team:-1},{number:"A",suit:mt,used:!1,team:-1},{suit:kt,used:!1,team:-1,image:ft},{suit:kt,used:!1,team:-1,image:ut},{number:"A",suit:kt,used:!1,team:-1},{number:2,suit:gt,used:!1,team:-1},{number:6,suit:mt,used:!1,team:-1},{suit:kt,used:!1,team:-1,image:ut},{number:7,suit:yt,used:!1,team:-1}],[{number:7,suit:mt,used:!1,team:-1},{number:2,suit:kt,used:!1,team:-1},{suit:"diamond",used:!1,team:-1,image:ct},{suit:mt,used:!1,team:-1,image:dt},{number:10,suit:mt,used:!1,team:-1},{number:9,suit:mt,used:!1,team:-1},{number:8,suit:mt,used:!1,team:-1},{number:7,suit:mt,used:!1,team:-1},{suit:kt,used:!1,team:-1,image:ft},{number:8,suit:yt,used:!1,team:-1}],[{number:"6",suit:"diamond",used:!1,team:-1},{number:"3",suit:"heart",used:!1,team:-1},{number:"4",suit:"heart",used:!1,team:-1},{number:"5",suit:"heart",used:!1,team:-1},{number:"6",suit:"heart",used:!1,team:-1},{number:"7",suit:"heart",used:!1,team:-1},{number:"8",suit:"heart",used:!1,team:-1},{number:"9",suit:"heart",used:!1,team:-1},{number:"10",suit:"heart",used:!1,team:-1},{number:"9",suit:yt,used:!1,team:-1}],[{corner:!0,image:vt},{number:"5",suit:"diamond",used:!1,team:-1},{number:"4",suit:"diamond",used:!1,team:-1},{number:"3",suit:"diamond",used:!1,team:-1},{number:"2",suit:"diamond",used:!1,team:-1},{number:"A",suit:"spade",used:!1,team:-1},{suit:yt,used:!1,team:-1,image:lt},{suit:yt,used:!1,team:-1,image:pt},{number:"10",suit:"spade",used:!1,team:-1},{corner:!0,image:vt}]],xt=n.p+"static/media/deck.f860f28f5f51bbcc176e.png",At={0:"Red",1:"Blue",2:"Green"},It=function(e){return(0,We.jsxs)("div",{className:"player-card",children:[e.card.image?(0,We.jsx)("img",{src:at[e.card.number][e.card.suit],className:"card-image",alt:e.card.suit}):(0,We.jsxs)("div",{className:"content-wrapper",children:[(0,We.jsx)("span",{className:e.card.suit+" number top-left",children:e.card.number}),(0,We.jsx)("span",{className:e.card.suit+" number bottom-right",children:e.card.number}),(0,We.jsx)("img",{src:bt[e.card.suit],className:"suit top",alt:e.card.suit}),(0,We.jsx)("img",{src:bt[e.card.suit],className:"suit bottom",alt:e.card.suit})]}),e.card.discard?(0,We.jsx)("div",{className:"discard-wrapper",onClick:function(){return e.discard(e.card)},children:(0,We.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADRSURBVHgBlZI9CsJAEIXHNKIIKghqIQRPYGuX3sojWFraeyevIHgPE1HRSsUqIqhvySwMk83GPPjYmcm8/ckukVtrEDN3sKIKikDIcYfznGoi3nDjP5qDh02m4FuBiV6ZxFZ9SlzFkGf9lKwaWkMgzPYMS7DjeMzjFixUX878Bm2w51rM4xn0fGbb1ASpqpu8Req82mxmHYGrqp8ou8ZLmTkgsTUhY375zAfQcJgTMNB1bX6CPrlVB0ef+QaGlP04oy6PqfheqIiKH4d5PDPZ/AMyCEGBgwr8/gAAAABJRU5ErkJggg==",className:"delete",alt:e.card.suit})}):""]})},Et=function(e){var t=x((0,i.useState)(!1),2),n=t[0],r=t[1],a=x((0,i.useState)(!1),2),o=a[0],u=a[1],s=x((0,i.useState)(!1),2),c=s[0],l=s[1];return(0,We.jsxs)("div",{className:"control-wrapper",children:[(0,We.jsx)("div",{className:"turn-span",children:(0,We.jsx)("p",{className:"turn ".concat(e.canplay?"can-play":""," ").concat(0===e.currentTeam?"red":1===e.currentTeam?"blue":"green"),children:"".concat(e.players[e.teams[e.currentTeam][e.currentPlayer[e.currentTeam]]],"'s Turn")})}),(0,We.jsx)("div",{className:"current-cards",children:e.cards[e.player].map((function(t,n){return(0,We.jsx)(It,{discard:e.discardCard,card:t},n)}))}),(0,We.jsxs)("div",{className:"bottom-section",children:[(0,We.jsxs)("div",{className:"score-wrapper ".concat(-1!==e.gameEnd?"ended":""),children:[0!==e.skipTeam&&(0,We.jsxs)("div",{className:"team team-red",onClick:function(){r(!n)},children:[(0,We.jsxs)("div",{className:"name",children:[(0,We.jsxs)("span",{className:"team-name",children:["Team Red",(0,We.jsx)("span",{className:"drop-down-arrow",children:n?"\u25b2":"\u25bc"})]}),n&&(0,We.jsx)("div",{className:"players",children:e.teams[0].map((function(t){return(0,We.jsxs)("span",{className:"player",children:[e.players[t]," ",e.player===t?" (You)":""]})}))})]}),(0,We.jsx)("span",{className:"score",children:e.scores[0]})]}),1!==e.skipTeam&&(0,We.jsxs)("div",{className:"team team-blue",onClick:function(){u(!o)},children:[(0,We.jsxs)("div",{className:"name",children:[(0,We.jsxs)("span",{className:"team-name",children:["Team Blue",(0,We.jsx)("span",{className:"drop-down-arrow",children:o?"\u25b2":"\u25bc"})]}),o&&(0,We.jsx)("div",{className:"players",children:e.teams[1].map((function(t){return(0,We.jsxs)("span",{className:"player",children:[e.players[t]," ",e.player===t?" (You)":""]})}))})]}),(0,We.jsx)("span",{className:"score",children:e.scores[1]})]}),2!==e.skipTeam&&(0,We.jsxs)("div",{className:"team team-green",onClick:function(){l(!c)},children:[(0,We.jsxs)("div",{className:"name",children:[(0,We.jsxs)("span",{className:"team-name",children:["Team Green",(0,We.jsx)("span",{className:"drop-down-arrow",children:c?"\u25b2":"\u25bc"})]}),c&&(0,We.jsx)("div",{className:"players",children:e.teams[2].map((function(t){return(0,We.jsxs)("span",{className:"player",children:[e.players[t]," ",e.player===t?" (You)":""]})}))})]}),(0,We.jsx)("span",{className:"score",children:e.scores[2]})]})]}),-1===e.gameEnd?(0,We.jsxs)("div",{className:"deck-wrapper",children:[(0,We.jsxs)("div",{className:"pending",children:[(0,We.jsx)("p",{className:"pending-cards",children:"Remaining Cards in Deck"}),(0,We.jsxs)("div",{className:"deck",children:[(0,We.jsx)("div",{className:"count",children:(0,We.jsx)("span",{children:e.remainingCards})}),(0,We.jsx)("img",{src:xt,alt:"deck"})]})]}),(0,We.jsxs)("div",{className:"pending",children:[(0,We.jsx)("p",{className:"pending-cards",children:"Last Card Played"}),e.lastCard?(0,We.jsx)(It,{card:e.lastCard}):(0,We.jsx)("div",{className:"deck"})]})]}):(0,We.jsxs)("div",{className:"end-wrapper",children:[(0,We.jsx)("h3",{children:"Game Over!!!"}),(0,We.jsxs)("p",{className:"message",children:[(0,We.jsxs)("span",{style:{color:At[e.gameEnd]},children:["Team ",At[e.gameEnd]]})," won the game!",(0,We.jsx)("br",{})," Would you like a re-match?"]}),(0,We.jsx)("button",{onClick:function(){return e.reset()},className:"restart",children:"Restart"})]})]})]})};function St(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function Tt(){return Tt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=St(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Tt.apply(this,arguments)}var Ct=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Nt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ct(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Dt=function(e){return function(e){var t=Ct(e);return Nt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},_t=function(e){try{return Nt.decodeString(e,!0)}catch(xx){console.error("base64Decode failed: ",xx)}return null};function Rt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Rt(e[n],t[n]));return e}function Pt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ot(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(xx){return!1}}function Lt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Mt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Bt(){var e=Pt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ft(){return"object"===typeof indexedDB}function Ut(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var jt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Vt=function(){try{return jt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(xx){return}var t=e&&_t(e[1]);return t&&JSON.parse(t)}}()}catch(xx){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(xx))}},qt=function(){var e;return null===(e=Vt())||void 0===e?void 0:e.config},zt=function(){function e(){var t=this;u(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return c(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Qt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Dt(JSON.stringify({alg:"none",type:"JWT"})),Dt(JSON.stringify(a)),""].join(".")}var Ht=function(e){f(n,e);var t=y(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(v(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(v(a),Kt.prototype.create),a}return c(n)}(S(Error)),Kt=function(){function e(t,n,r){u(this,e),this.service=t,this.serviceName=n,this.errors=r}return c(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Gt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ht(n,a,t);return o}}]),e}();function Gt(e,t){return e.replace(Wt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Wt=/\{\$([^}]+)}/g;function Jt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Yt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Xt(u)&&Xt(s)){if(!Yt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Xt(e){return null!==e&&"object"===typeof e}function Zt(e){for(var t=[],n=function(){var e=x(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function $t(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=x(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function en(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function tn(e,t){var n=new nn(e,t);return n.subscribe.bind(n)}var nn=function(){function e(t,n){var r=this;u(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return c(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ge(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=rn),void 0===r.error&&(r.error=rn),void 0===r.complete&&(r.complete=rn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(xx){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(xx){"undefined"!==typeof console&&console.error&&console.error(xx)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function rn(){}var an=144e5;function on(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(an,r+i)}function un(e){return e&&e._delegate?e._delegate:e}var sn=function(){function e(t,n,r){u(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return c(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),cn="[DEFAULT]",ln=function(){function e(t,n){u(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return c(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new zt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(xx){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(xx){if(r)return null;throw xx}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:cn})}catch(xx){}var t,n=Ge(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=x(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(xx){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(I(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),I(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ge(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=x(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ge(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(By){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===cn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(By){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;return this.component?this.component.multipleInstances?e:cn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var fn,hn,dn=function(){function e(t){u(this,e),this.name=t,this.providers=new Map}return c(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ln(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),pn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(hn||(hn={}));var vn={debug:hn.DEBUG,verbose:hn.VERBOSE,info:hn.INFO,warn:hn.WARN,error:hn.ERROR,silent:hn.SILENT},mn=hn.INFO,yn=(qe(fn={},hn.DEBUG,"log"),qe(fn,hn.VERBOSE,"log"),qe(fn,hn.INFO,"info"),qe(fn,hn.WARN,"warn"),qe(fn,hn.ERROR,"error"),fn),gn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=yn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},kn=function(){function e(t){u(this,e),this.name=t,this._logLevel=mn,this._logHandler=gn,this._userLogHandler=null,pn.push(this)}return c(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in hn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?vn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hn.DEBUG].concat(t)),this._logHandler.apply(this,[this,hn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,hn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hn.INFO].concat(t)),this._logHandler.apply(this,[this,hn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hn.WARN].concat(t)),this._logHandler.apply(this,[this,hn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,hn.ERROR].concat(t)),this._logHandler.apply(this,[this,hn.ERROR].concat(t))}}]),e}();var bn,wn;var xn=new WeakMap,An=new WeakMap,In=new WeakMap,En=new WeakMap,Sn=new WeakMap;var Tn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return An.get(e);if("objectStoreNames"===t)return e.objectStoreNames||In.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Cn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(wn||(wn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(_n(this),n),Dn(xn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dn(e.apply(_n(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[_n(this),t].concat(r));return In.set(a,t.sort?t.sort():[t]),Dn(a)}}function Nn(e){return"function"===typeof e?Cn(e):(e instanceof IDBTransaction&&function(e){if(!An.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));An.set(e,t)}}(e),t=e,(bn||(bn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Tn):e);var t}function Dn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Dn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&xn.set(t,e)})).catch((function(){})),Sn.set(t,e),t}(e);if(En.has(e))return En.get(e);var t=Nn(e);return t!==e&&(En.set(e,t),Sn.set(t,e)),t}var _n=function(e){return Sn.get(e)};var Rn,Pn,On=["get","getKey","getAll","getAllKeys","count"],Ln=["put","add","delete","clear"],Mn=new Map;function Bn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Mn.get(t))return Mn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ln.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||On.includes(n))){var a=function(){var e=Ke(Ve().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Mn.set(t,a),a}}}Tn=function(e){return Qe(Qe({},e),{},{get:function(t,n,r){return Bn(t,n)||e.get(t,n,r)},has:function(t,n){return!!Bn(t,n)||e.has(t,n)}})}(Tn);var Fn=function(){function e(t){u(this,e),this.container=t}return c(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Un="@firebase/app",jn="0.8.4",Vn=new kn("@firebase/app"),qn="[DEFAULT]",zn=(qe(Rn={},Un,"fire-core"),qe(Rn,"@firebase/app-compat","fire-core-compat"),qe(Rn,"@firebase/analytics","fire-analytics"),qe(Rn,"@firebase/analytics-compat","fire-analytics-compat"),qe(Rn,"@firebase/app-check","fire-app-check"),qe(Rn,"@firebase/app-check-compat","fire-app-check-compat"),qe(Rn,"@firebase/auth","fire-auth"),qe(Rn,"@firebase/auth-compat","fire-auth-compat"),qe(Rn,"@firebase/database","fire-rtdb"),qe(Rn,"@firebase/database-compat","fire-rtdb-compat"),qe(Rn,"@firebase/functions","fire-fn"),qe(Rn,"@firebase/functions-compat","fire-fn-compat"),qe(Rn,"@firebase/installations","fire-iid"),qe(Rn,"@firebase/installations-compat","fire-iid-compat"),qe(Rn,"@firebase/messaging","fire-fcm"),qe(Rn,"@firebase/messaging-compat","fire-fcm-compat"),qe(Rn,"@firebase/performance","fire-perf"),qe(Rn,"@firebase/performance-compat","fire-perf-compat"),qe(Rn,"@firebase/remote-config","fire-rc"),qe(Rn,"@firebase/remote-config-compat","fire-rc-compat"),qe(Rn,"@firebase/storage","fire-gcs"),qe(Rn,"@firebase/storage-compat","fire-gcs-compat"),qe(Rn,"@firebase/firestore","fire-fst"),qe(Rn,"@firebase/firestore-compat","fire-fst-compat"),qe(Rn,"fire-js","fire-js"),qe(Rn,"firebase","fire-js-all"),Rn),Qn=new Map,Hn=new Map;function Kn(e,t){try{e.container.addComponent(t)}catch(xx){Vn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),xx)}}function Gn(e,t){e.container.addOrOverwriteComponent(t)}function Wn(e){var t=e.name;if(Hn.has(t))return Vn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Hn.set(t,e);var n,r=Ge(Qn.values());try{for(r.s();!(n=r.n()).done;){Kn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Jn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Yn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qn;Jn(e,t).clearInstance(n)}function Xn(){Hn.clear()}var Zn=(qe(Pn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),qe(Pn,"bad-app-name","Illegal App name: '{$appName}"),qe(Pn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),qe(Pn,"app-deleted","Firebase App named '{$appName}' already deleted"),qe(Pn,"no-options","Need to provide options, when not being deployed to hosting via source."),qe(Pn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qe(Pn,"invalid-log-argument","First argument to `onLog` must be null or a function."),qe(Pn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),qe(Pn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),qe(Pn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),qe(Pn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Pn),$n=new Kt("app","Firebase",Zn),er=function(){function e(t,n,r){var i=this;u(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sn("app",(function(){return i}),"PUBLIC"))}return c(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}]),e}(),tr="9.14.0";function nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:qn,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw $n.create("bad-app-name",{appName:String(a)});if(n||(n=qt()),!n)throw $n.create("no-options");var o=Qn.get(a);if(o){if(Yt(n,o.options)&&Yt(i,o.config))return o;throw $n.create("duplicate-app",{appName:a})}var u,s=new dn(a),c=Ge(Hn.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new er(n,i,s);return Qn.set(a,f),f}function rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=Qn.get(e);if(!t&&e===qn)return nr();if(!t)throw $n.create("no-app",{appName:e});return t}function ir(){return Array.from(Qn.values())}function ar(e){return or.apply(this,arguments)}function or(){return or=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Qn.has(n)){e.next=6;break}return Qn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),or.apply(this,arguments)}function ur(e,t,n){var r,i=null!==(r=zn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Vn.warn(u.join(" "))}Wn(new sn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function sr(e,t){if(null!==e&&"function"!==typeof e)throw $n.create("invalid-log-argument");!function(e,t){var n,r=Ge(pn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=vn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:hn[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function cr(e){var t;t=e,pn.forEach((function(e){e.setLogLevel(t)}))}var lr="firebase-heartbeat-store",fr=null;function hr(){return fr||(fr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Dn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Dn(u.result),e.oldVersion,e.newVersion,Dn(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(lr)}}).catch((function(e){throw $n.create("idb-open",{originalErrorMessage:e.message})}))),fr}function dr(e){return pr.apply(this,arguments)}function pr(){return pr=Ke(Ve().mark((function e(t){var n,r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hr();case 3:return r=e.sent,e.abrupt("return",r.transaction(lr).objectStore(lr).get(yr(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Ht?Vn.warn(e.t0.message):(i=$n.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Vn.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),pr.apply(this,arguments)}function vr(e,t){return mr.apply(this,arguments)}function mr(){return mr=Ke(Ve().mark((function e(t,n){var r,i,a,o,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hr();case 3:return i=e.sent,a=i.transaction(lr,"readwrite"),o=a.objectStore(lr),e.next=8,o.put(n,yr(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Ht?Vn.warn(e.t0.message):(u=$n.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Vn.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),mr.apply(this,arguments)}function yr(e){return"".concat(e.name,"!").concat(e.options.appId)}var gr=function(){function e(t){var n=this;u(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new xr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return c(e,[{key:"triggerHeartbeat",value:function(){var e=Ke(Ve().mark((function e(){var t,n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=kr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ke(Ve().mark((function e(){var t,n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=kr(),n=br(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Dt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function kr(){return(new Date).toISOString().substring(0,10)}function br(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ge(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ar(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ar(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var wr,xr=function(){function e(t){u(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return c(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ft()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Ut().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,dr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",vr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",vr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(I(r.heartbeats),I(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ar(e){return Dt(JSON.stringify({version:2,heartbeats:e})).length}wr="",Wn(new sn("platform-logger",(function(e){return new Fn(e)}),"PRIVATE")),Wn(new sn("heartbeat",(function(e){return new gr(e)}),"PRIVATE")),ur(Un,jn,wr),ur(Un,jn,"esm2017"),ur("fire-js","");var Ir,Er="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Sr={},Tr=Tr||{},Cr=Er||self;function Nr(){}function Dr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function _r(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Rr="closure_uid_"+(1e9*Math.random()>>>0),Pr=0;function Or(e,t,n){return e.call.apply(e.bind,arguments)}function Lr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Mr(e,t,n){return(Mr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Or:Lr).apply(null,arguments)}function Br(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Fr(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ur(){this.s=this.s,this.o=this.o}Ur.prototype.s=!1,Ur.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Rr)&&e[Rr]||(e[Rr]=++Pr)}(this)},Ur.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Vr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function qr(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Dr(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function zr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}zr.prototype.h=function(){this.defaultPrevented=!0};var Qr=function(){if(!Cr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Cr.addEventListener("test",Nr,t),Cr.removeEventListener("test",Nr,t)}catch(Cx){}return e}();function Hr(e){return/^[\s\xa0]*$/.test(e)}var Kr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Gr(e,t){return e<t?-1:e>t?1:0}function Wr(){var e=Cr.navigator;return e&&(e=e.userAgent)?e:""}function Jr(e){return-1!=Wr().indexOf(e)}function Yr(e){return Yr[" "](e),e}Yr[" "]=Nr;var Xr,Zr=Jr("Opera"),$r=Jr("Trident")||Jr("MSIE"),ei=Jr("Edge"),ti=ei||$r,ni=Jr("Gecko")&&!(-1!=Wr().toLowerCase().indexOf("webkit")&&!Jr("Edge"))&&!(Jr("Trident")||Jr("MSIE"))&&!Jr("Edge"),ri=-1!=Wr().toLowerCase().indexOf("webkit")&&!Jr("Edge");function ii(){var e=Cr.document;return e?e.documentMode:void 0}e:{var ai="",oi=function(){var e=Wr();return ni?/rv:([^\);]+)(\)|;)/.exec(e):ei?/Edge\/([\d\.]+)/.exec(e):$r?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ri?/WebKit\/(\S+)/.exec(e):Zr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(oi&&(ai=oi?oi[1]:""),$r){var ui=ii();if(null!=ui&&ui>parseFloat(ai)){Xr=String(ui);break e}}Xr=ai}var si,ci={};function li(){return function(e){var t=ci;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Kr(String(Xr)).split("."),n=Kr("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Gr(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Gr(0==a[2].length,0==o[2].length)||Gr(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Cr.document&&$r){var fi=ii();si=fi||(parseInt(Xr,10)||void 0)}else si=void 0;var hi=si;function di(e,t){if(zr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ni){e:{try{Yr(t.nodeName);var i=!0;break e}catch(Ox){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:pi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&di.X.h.call(this)}}Fr(di,zr);var pi={2:"touch",3:"pen",4:"mouse"};di.prototype.h=function(){di.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var vi="closure_listenable_"+(1e6*Math.random()|0),mi=0;function yi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++mi,this.ba=this.ea=!1}function gi(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ki(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function bi(e){var t={};for(var n in e)t[n]=e[n];return t}var wi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xi(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<wi.length;a++)n=wi[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ai(e){this.src=e,this.g={},this.h=0}function Ii(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=jr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(gi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ei(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Ai.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ei(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new yi(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Si="closure_lm_"+(1e6*Math.random()|0),Ti={};function Ci(e,t,n,r,i){if(r&&r.once)return Di(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ci(e,t[a],n,r,i);return null}return n=Bi(n),e&&e[vi]?e.N(t,n,_r(r)?!!r.capture:!!r,i):Ni(e,t,n,!1,r,i)}function Ni(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=_r(i)?!!i.capture:!!i,u=Li(e);if(u||(e[Si]=u=new Ai(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Oi;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Pi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Di(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Di(e,t[a],n,r,i);return null}return n=Bi(n),e&&e[vi]?e.O(t,n,_r(r)?!!r.capture:!!r,i):Ni(e,t,n,!0,r,i)}function _i(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)_i(e,t[a],n,r,i);else r=_r(r)?!!r.capture:!!r,n=Bi(n),e&&e[vi]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ei(a=e.g[t],n,r,i))&&(gi(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Li(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ei(t,n,r,i)),(n=-1<e?t[e]:null)&&Ri(n))}function Ri(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[vi])Ii(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Pi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Li(t))?(Ii(n,e),0==n.h&&(n.src=null,t[Si]=null)):gi(e)}}}function Pi(e){return e in Ti?Ti[e]:Ti[e]="on"+e}function Oi(e,t){if(e.ba)e=!0;else{t=new di(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Ri(e),e=n.call(r,t)}return e}function Li(e){return(e=e[Si])instanceof Ai?e:null}var Mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bi(e){return"function"===typeof e?e:(e[Mi]||(e[Mi]=function(t){return e.handleEvent(t)}),e[Mi])}function Fi(){Ur.call(this),this.i=new Ai(this),this.P=this,this.I=null}function Ui(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new zr(t,e);else if(t instanceof zr)t.target=t.target||e;else{var i=t;xi(t=new zr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ji(o,r,!0,t)&&i}if(i=ji(o=t.g=e,r,!0,t)&&i,i=ji(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ji(o=t.g=n[a],r,!1,t)&&i}function ji(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Ii(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Fr(Fi,Ur),Fi.prototype[vi]=!0,Fi.prototype.removeEventListener=function(e,t,n,r){_i(this,e,t,n,r)},Fi.prototype.M=function(){if(Fi.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gi(n[r]);delete t.g[e],t.h--}}this.I=null},Fi.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Fi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Vi=Cr.JSON.stringify;function qi(){var e=Yi,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var zi,Qi=function(){function e(){u(this,e),this.h=this.g=null}return c(e,[{key:"add",value:function(e,t){var n=Hi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Hi=new(function(){function e(t,n){u(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return c(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ki}),(function(e){return e.reset()})),Ki=function(){function e(){u(this,e),this.next=this.g=this.h=null}return c(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Gi(e){Cr.setTimeout((function(){throw e}),0)}function Wi(e,t){zi||function(){var e=Cr.Promise.resolve(void 0);zi=function(){e.then(Xi)}}(),Ji||(zi(),Ji=!0),Yi.add(e,t)}var Ji=!1,Yi=new Qi;function Xi(){for(var e;e=qi();){try{e.h.call(e.g)}catch(Cx){Gi(Cx)}var t=Hi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ji=!1}function Zi(e,t){Fi.call(this),this.h=e||1,this.g=t||Cr,this.j=Mr(this.lb,this),this.l=Date.now()}function $i(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function ea(e,t,n){if("function"===typeof e)n&&(e=Mr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Mr(e.handleEvent,e)}return 2147483647<Number(t)?-1:Cr.setTimeout(e,t||0)}function ta(e){e.g=ea((function(){e.g=null,e.i&&(e.i=!1,ta(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Fr(Zi,Fi),(Ir=Zi.prototype).ca=!1,Ir.R=null,Ir.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ui(this,"tick"),this.ca&&($i(this),this.start()))}},Ir.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ir.M=function(){Zi.X.M.call(this),$i(this),delete this.g};var na=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return c(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ta(this)}},{key:"M",value:function(){Tt(h(n.prototype),"M",this).call(this),this.g&&(Cr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ur);function ra(e){Ur.call(this),this.h=e,this.g={}}Fr(ra,Ur);var ia=[];function aa(e,t,n,r){Array.isArray(n)||(n&&(ia[0]=n.toString()),n=ia);for(var i=0;i<n.length;i++){var a=Ci(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function oa(e){ki(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ri(e)}),e),e.g={}}function ua(){this.g=!0}function sa(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Vi(n)}catch(Sx){return t}}(e,n)+(r?" "+r:"")}))}ra.prototype.M=function(){ra.X.M.call(this),oa(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ua.prototype.Aa=function(){this.g=!1},ua.prototype.info=function(){};var ca={},la=null;function fa(){return la=la||new Fi}function ha(e){zr.call(this,ca.Pa,e)}function da(e){var t=fa();Ui(t,new ha(t))}function pa(e,t){zr.call(this,ca.STAT_EVENT,e),this.stat=t}function va(e){var t=fa();Ui(t,new pa(t,e))}function ma(e,t){zr.call(this,ca.Qa,e),this.size=t}function ya(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Cr.setTimeout((function(){e()}),t)}ca.Pa="serverreachability",Fr(ha,zr),ca.STAT_EVENT="statevent",Fr(pa,zr),ca.Qa="timingevent",Fr(ma,zr);var ga={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ka={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ba(){}function wa(e){return e.h||(e.h=e.i())}function xa(){}ba.prototype.h=null;var Aa,Ia={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ea(){zr.call(this,"d")}function Sa(){zr.call(this,"c")}function Ta(){}function Ca(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new ra(this),this.O=Da,e=ti?125:void 0,this.T=new Zi(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Na}function Na(){this.i=null,this.g="",this.h=!1}Fr(Ea,zr),Fr(Sa,zr),Fr(Ta,ba),Ta.prototype.g=function(){return new XMLHttpRequest},Ta.prototype.i=function(){return{}},Aa=new Ta;var Da=45e3,_a={},Ra={};function Pa(e,t,n){e.K=1,e.v=Za(Ga(t)),e.s=n,e.P=!0,Oa(e,null)}function Oa(e,t){e.F=Date.now(),Fa(e),e.A=Ga(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),fo(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Na,e.g=hu(e.l,n?t:null,!e.s),0<e.N&&(e.L=new na(Mr(e.La,e,e.g),e.N)),aa(e.S,e.g,"readystatechange",e.ib),t=e.H?bi(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),da(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function La(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Ma(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ba(e,n))==Ra){4==t&&(e.o=4,va(14),i=!1),sa(e.j,e.m,null,"[Incomplete Response]");break}if(r==_a){e.o=4,va(15),sa(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}sa(e.j,e.m,r,null),za(e,r)}La(e)&&r!=Ra&&r!=_a&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,va(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),iu(t),t.K=!0,va(11))):(sa(e.j,e.m,n,"[Invalid Chunked Response]"),qa(e),Va(e))}function Ba(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ra:(n=Number(t.substring(n,r)),isNaN(n)?_a:(r+=1)+n>t.length?Ra:(t=t.substr(r,n),e.C=r+n,t))}function Fa(e){e.V=Date.now()+e.O,Ua(e,e.O)}function Ua(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ya(Mr(e.gb,e),t)}function ja(e){e.B&&(Cr.clearTimeout(e.B),e.B=null)}function Va(e){0==e.l.G||e.I||uu(e.l,e)}function qa(e){ja(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,$i(e.T),oa(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function za(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ko(n.h,e)))if(!e.J&&ko(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ou(n),Yo(n)}ru(n),va(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=ya(Mr(n.cb,n),6e3));if(1>=go(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else cu(n,11)}else if((e.J||n.g==e)&&ou(n),!Hr(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(bo(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Xa(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=fu(r,r.H?r.ka:null,r.V),d.J){wo(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(ja(p),Fa(p)),r.g=d}else nu(r);0<n.i.length&&Zo(n)}else"stop"!=a[0]&&"close"!=a[0]||cu(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?cu(n,7):Jo(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}da()}catch(a){}}function Qa(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Dr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Dr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Dr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ir=Ca.prototype).setTimeout=function(e){this.O=e},Ir.ib=function(e){e=e.target;var t=this.L;t&&3==zo(e)?t.l():this.La(e)},Ir.La=function(e){try{if(e==this.g)e:{var t=zo(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||ti||this.g&&(this.h.h||this.g.fa()||Qo(this.g)))){this.I||4!=t||7==n||da(),ja(this);var r=this.g.aa();this.Y=r;t:if(La(this)){var i=Qo(this.g);e="";var a=i.length,o=4==zo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){qa(this),Va(this);var u="";break t}this.h.i=new Cr.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hr(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,va(12),qa(this),Va(this);break e}sa(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,za(this,r)}this.P?(Ma(this,t,u),ti&&this.i&&3==t&&(aa(this.S,this.T,"tick",this.hb),this.T.start())):(sa(this.j,this.m,u,null),za(this,u)),4==t&&qa(this),this.i&&!this.I&&(4==t?uu(this.l,this):(this.i=!1,Fa(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,va(12)):(this.o=0,va(13)),qa(this),Va(this)}}}catch(t){}},Ir.hb=function(){if(this.g){var e=zo(this.g),t=this.g.fa();this.C<t.length&&(ja(this),Ma(this,e,t),this.i&&4!=e&&Fa(this))}},Ir.cancel=function(){this.I=!0,qa(this)},Ir.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(da(),va(17)),qa(this),this.o=2,Va(this)):Ua(this,this.V-e)};var Ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ka){this.h=void 0!==t?t:e.h,Wa(this,e.j),this.s=e.s,this.g=e.g,Ja(this,e.m),this.l=e.l,t=e.i;var n=new uo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ya(this,n),this.o=e.o}else e&&(n=String(e).match(Ha))?(this.h=!!t,Wa(this,n[1]||"",!0),this.s=$a(n[2]||""),this.g=$a(n[3]||"",!0),Ja(this,n[4]),this.l=$a(n[5]||"",!0),Ya(this,n[6]||"",!0),this.o=$a(n[7]||"")):(this.h=!!t,this.i=new uo(null,this.h))}function Ga(e){return new Ka(e)}function Wa(e,t,n){e.j=n?$a(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ja(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ya(e,t,n){t instanceof uo?(e.i=t,function(e,t){t&&!e.j&&(so(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(co(this,t),fo(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=eo(t,ao)),e.i=new uo(t,e.h))}function Xa(e,t,n){e.i.set(t,n)}function Za(e){return Xa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $a(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function eo(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,to),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function to(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ka.prototype.toString=function(){var e=[],t=this.j;t&&e.push(eo(t,no,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(eo(t,no,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(eo(n,"/"==n.charAt(0)?io:ro,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",eo(n,oo)),e.join("")};var no=/[#\/\?@]/g,ro=/[#\?:]/g,io=/[#\?]/g,ao=/[#\?@]/g,oo=/#/g;function uo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function so(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function co(e,t){so(e),t=ho(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function lo(e,t){return so(e),t=ho(e,t),e.g.has(t)}function fo(e,t,n){co(e,t),0<n.length&&(e.i=null,e.g.set(ho(e,t),Vr(n)),e.h+=n.length)}function ho(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ir=uo.prototype).add=function(e,t){so(this),this.i=null,e=ho(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ir.forEach=function(e,t){so(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ir.oa=function(){so(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ir.W=function(e){so(this);var t=[];if("string"===typeof e)lo(this,e)&&(t=t.concat(this.g.get(ho(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ir.set=function(e,t){return so(this),this.i=null,lo(this,e=ho(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ir.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Ir.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var po=c((function e(t,n){u(this,e),this.h=t,this.g=n}));function vo(e){this.l=e||mo,Cr.PerformanceNavigationTiming?e=0<(e=Cr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Cr.g&&Cr.g.Ga&&Cr.g.Ga()&&Cr.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mo=10;function yo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function go(e){return e.h?1:e.g?e.g.size:0}function ko(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function bo(e,t){e.g?e.g.add(t):e.h=t}function wo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function xo(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ge(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Vr(e.i)}function Ao(){}function Io(){this.g=new Ao}function Eo(e,t,n){var r=n||"";try{Qa(e,(function(e,n){var i=e;_r(e)&&(i=Vi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(xx){throw t.push(r+"type="+encodeURIComponent("_badmap")),xx}}function So(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Ox){}}function To(e){this.l=e.ac||null,this.j=e.jb||!1}function Co(e,t){Fi.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=No,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vo.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ge(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ao.prototype.stringify=function(e){return Cr.JSON.stringify(e,void 0)},Ao.prototype.parse=function(e){return Cr.JSON.parse(e,void 0)},Fr(To,ba),To.prototype.g=function(){return new Co(this.l,this.j)},To.prototype.i=function(e){return function(){return e}}({}),Fr(Co,Fi);var No=0;function Do(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function _o(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ro(e)}function Ro(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ir=Co.prototype).open=function(e,t){if(this.readyState!=No)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ro(this)},Ir.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Cr).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Ir.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_o(this)),this.readyState=No},Ir.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ro(this)),this.g&&(this.readyState=3,Ro(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Cr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Do(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Ir.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_o(this):Ro(this),3==this.readyState&&Do(this)}},Ir.Va=function(e){this.g&&(this.response=this.responseText=e,_o(this))},Ir.Ua=function(e){this.g&&(this.response=e,_o(this))},Ir.ga=function(){this.g&&_o(this)},Ir.setRequestHeader=function(e,t){this.v.append(e,t)},Ir.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ir.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Po=Cr.JSON.parse;function Oo(e){Fi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Lo,this.K=this.L=!1}Fr(Oo,Fi);var Lo="",Mo=/^https?$/i,Bo=["POST","PUT"];function Fo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Uo(e),Vo(e)}function Uo(e){e.D||(e.D=!0,Ui(e,"complete"),Ui(e,"error"))}function jo(e){if(e.h&&"undefined"!=typeof Tr&&(!e.C[1]||4!=zo(e)||2!=e.aa()))if(e.v&&4==zo(e))ea(e.Ha,0,e);else if(Ui(e,"readystatechange"),4==zo(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ha)[1]||null;if(!a&&Cr.self&&Cr.self.location){var o=Cr.self.location.protocol;a=o.substr(0,o.length-1)}i=!Mo.test(a?a.toLowerCase():"")}t=i}if(t)Ui(e,"complete"),Ui(e,"success");else{e.m=6;try{var u=2<zo(e)?e.g.statusText:""}catch(Rx){u=""}e.j=u+" ["+e.aa()+"]",Uo(e)}}finally{Vo(e)}}}function Vo(e,t){if(e.g){qo(e);var n=e.g,r=e.C[0]?Nr:null;e.g=null,e.C=null,t||Ui(e,"ready");try{n.onreadystatechange=r}catch(xx){}}}function qo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Cr.clearTimeout(e.A),e.A=null)}function zo(e){return e.g?e.g.readyState:0}function Qo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Lo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Cu){return null}}function Ho(e){var t="";return ki(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ko(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ho(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Xa(e,t,n))}function Go(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wo(e){this.Ca=0,this.i=[],this.j=new ua,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Go("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Go("baseRetryDelayMs",5e3,e),this.bb=Go("retryDelaySeedMs",1e4,e),this.$a=Go("forwardChannelMaxRetries",2,e),this.ta=Go("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new vo(e&&e.concurrentRequestLimit),this.Fa=new Io,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Jo(e){if(Xo(e),3==e.G){var t=e.U++,n=Ga(e.F);Xa(n,"SID",e.I),Xa(n,"RID",t),Xa(n,"TYPE","terminate"),eu(e,n),(t=new Ca(e,e.j,t,void 0)).K=2,t.v=Za(Ga(n)),n=!1,Cr.navigator&&Cr.navigator.sendBeacon&&(n=Cr.navigator.sendBeacon(t.v.toString(),"")),!n&&Cr.Image&&((new Image).src=t.v,n=!0),n||(t.g=hu(t.l,null),t.g.da(t.v)),t.F=Date.now(),Fa(t)}lu(e)}function Yo(e){e.g&&(iu(e),e.g.cancel(),e.g=null)}function Xo(e){Yo(e),e.u&&(Cr.clearTimeout(e.u),e.u=null),ou(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Cr.clearTimeout(e.m),e.m=null)}function Zo(e){yo(e.h)||e.m||(e.m=!0,Wi(e.Ja,e),e.C=0)}function $o(e,t){var n;n=t?t.m:e.U++;var r=Ga(e.F);Xa(r,"SID",e.I),Xa(r,"RID",n),Xa(r,"AID",e.T),eu(e,r),e.o&&e.s&&Ko(r,e.o,e.s),n=new Ca(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=tu(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),bo(e.h,n),Pa(n,r,t)}function eu(e,t){e.ia&&ki(e.ia,(function(e,n){Xa(t,n,e)})),e.l&&Qa({},(function(e,n){Xa(t,n,e)}))}function tu(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Mr(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Eo(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function nu(e){e.g||e.u||(e.Z=1,Wi(e.Ia,e),e.A=0)}function ru(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=ya(Mr(e.Ia,e),su(e,e.A)),e.A++,!0)}function iu(e){null!=e.B&&(Cr.clearTimeout(e.B),e.B=null)}function au(e){e.g=new Ca(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Ga(e.sa);Xa(t,"RID","rpc"),Xa(t,"SID",e.I),Xa(t,"CI",e.L?"0":"1"),Xa(t,"AID",e.T),Xa(t,"TYPE","xmlhttp"),eu(e,t),e.o&&e.s&&Ko(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Za(Ga(t)),n.s=null,n.P=!0,Oa(n,e)}function ou(e){null!=e.v&&(Cr.clearTimeout(e.v),e.v=null)}function uu(e,t){var n=null;if(e.g==t){ou(e),iu(e),e.g=null;var r=2}else{if(!ko(e.h,t))return;n=t.D,wo(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ui(r=fa(),new ma(r,n)),Zo(e)}else nu(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(go(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=ya(Mr(e.Ja,e,t),su(e,e.C)),e.C++,!0))}(e,t)||2==r&&ru(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cu(e,5);break;case 4:cu(e,10);break;case 3:cu(e,6);break;default:cu(e,2)}}function su(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function cu(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Mr(e.kb,e);n||(n=new Ka("//www.google.com/images/cleardot.gif"),Cr.location&&"http"==Cr.location.protocol||Wa(n,"https"),Za(n)),function(e,t){var n=new ua;if(Cr.Image){var r=new Image;r.onload=Br(So,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Br(So,n,r,"TestLoadImage: error",!1,t),r.onabort=Br(So,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Br(So,n,r,"TestLoadImage: timeout",!1,t),Cr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else va(2);e.G=0,e.l&&e.l.va(t),lu(e),Xo(e)}function lu(e){if(e.G=0,e.la=[],e.l){var t=xo(e.h);0==t.length&&0==e.i.length||(qr(e.la,t),qr(e.la,e.i),e.h.i.length=0,Vr(e.i),e.i.length=0),e.l.ua()}}function fu(e,t,n){var r=n instanceof Ka?Ga(n):new Ka(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Ja(r,r.m);else{var i=Cr.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ka(null,void 0);r&&Wa(a,r),t&&(a.g=t),i&&Ja(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Xa(r,n,t),Xa(r,"VER",e.ma),eu(e,r),r}function hu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Oo(new To({jb:!0})):new Oo(e.ra)).Ka(e.H),t}function du(){}function pu(){if($r&&!(10<=Number(hi)))throw Error("Environmental error: no available transport.")}function vu(e,t){Fi.call(this),this.g=new Wo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Hr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Hr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gu(this)}function mu(e){Ea.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yu(){Sa.call(this),this.status=1}function gu(e){this.g=e}(Ir=Oo.prototype).Ka=function(e){this.L=e},Ir.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Aa.g(),this.C=this.u?wa(this.u):wa(Aa),this.g.onreadystatechange=Mr(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Fo(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Ge(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Cr.FormData&&e instanceof Cr.FormData,!(0<=jr(Bo,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Ge(n);try{for(c.s();!(s=c.n()).done;){var l=x(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qo(this),0<this.B&&((this.K=function(e){return $r&&li()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mr(this.qa,this)):this.A=ea(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Fo(this,u)}},Ir.qa=function(){"undefined"!=typeof Tr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ui(this,"timeout"),this.abort(8))},Ir.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ui(this,"complete"),Ui(this,"abort"),Vo(this))},Ir.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vo(this,!0)),Oo.X.M.call(this)},Ir.Ha=function(){this.s||(this.F||this.v||this.l?jo(this):this.fb())},Ir.fb=function(){jo(this)},Ir.aa=function(){try{return 2<zo(this)?this.g.status:-1}catch(Ex){return-1}},Ir.fa=function(){try{return this.g?this.g.responseText:""}catch(Ex){return""}},Ir.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Po(t)}},Ir.Ea=function(){return this.m},Ir.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ir=Wo.prototype).ma=8,Ir.G=1,Ir.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Ca(this,this.j,e,void 0),n=this.s;if(this.S&&(n?xi(n=bi(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=tu(this,t,r),Xa(i=Ga(this.F),"RID",e),Xa(i,"CVER",22),this.D&&Xa(i,"X-HTTP-Session-Id",this.D),eu(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Ho(n)))+"&"+r:this.o&&Ko(i,this.o,n)),bo(this.h,t),this.Ya&&Xa(i,"TYPE","init"),this.O?(Xa(i,"$req",r),Xa(i,"SID","null"),t.Z=!0,Pa(t,i,null)):Pa(t,i,r),this.G=2}}else 3==this.G&&(e?$o(this,e):0==this.i.length||yo(this.h)||$o(this))},Ir.Ia=function(){if(this.u=null,au(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=ya(Mr(this.eb,this),e)}},Ir.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,va(10),Yo(this),au(this))},Ir.cb=function(){null!=this.v&&(this.v=null,Yo(this),ru(this),va(19))},Ir.kb=function(e){e?(this.j.info("Successfully pinged google.com"),va(2)):(this.j.info("Failed to ping google.com"),va(1))},(Ir=du.prototype).xa=function(){},Ir.wa=function(){},Ir.va=function(){},Ir.ua=function(){},Ir.Ra=function(){},pu.prototype.g=function(e,t){return new vu(e,t)},Fr(vu,Fi),vu.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;va(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=fu(e,null,e.V),Zo(e)},vu.prototype.close=function(){Jo(this.g)},vu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Vi(e),e=n);t.i.push(new po(t.ab++,e)),3==t.G&&Zo(t)},vu.prototype.M=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,vu.X.M.call(this)},Fr(mu,Ea),Fr(yu,Sa),Fr(gu,du),gu.prototype.xa=function(){Ui(this.g,"a")},gu.prototype.wa=function(e){Ui(this.g,new mu(e))},gu.prototype.va=function(e){Ui(this.g,new yu)},gu.prototype.ua=function(){Ui(this.g,"b")},pu.prototype.createWebChannel=pu.prototype.g,vu.prototype.send=vu.prototype.u,vu.prototype.open=vu.prototype.m,vu.prototype.close=vu.prototype.close,ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,ka.COMPLETE="complete",xa.EventType=Ia,Ia.OPEN="a",Ia.CLOSE="b",Ia.ERROR="c",Ia.MESSAGE="d",Fi.prototype.listen=Fi.prototype.N,Oo.prototype.listenOnce=Oo.prototype.O,Oo.prototype.getLastError=Oo.prototype.Oa,Oo.prototype.getLastErrorCode=Oo.prototype.Ea,Oo.prototype.getStatus=Oo.prototype.aa,Oo.prototype.getResponseJson=Oo.prototype.Sa,Oo.prototype.getResponseText=Oo.prototype.fa,Oo.prototype.send=Oo.prototype.da,Oo.prototype.setWithCredentials=Oo.prototype.Ka;var ku=Sr.createWebChannelTransport=function(){return new pu},bu=Sr.getStatEventTarget=function(){return fa()},wu=Sr.ErrorCode=ga,xu=Sr.EventType=ka,Au=Sr.Event=ca,Iu=Sr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Eu=Sr.FetchXmlHttpFactory=To,Su=Sr.WebChannel=xa,Tu=Sr.XhrIo=Oo,Cu="@firebase/firestore",Nu=function(){function e(t){u(this,e),this.uid=t}return c(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Nu.UNAUTHENTICATED=new Nu(null),Nu.GOOGLE_CREDENTIALS=new Nu("google-credentials-uid"),Nu.FIRST_PARTY=new Nu("first-party-uid"),Nu.MOCK_USER=new Nu("mock-user");var Du="9.14.0",_u=new kn("@firebase/firestore");function Ru(){return _u.logLevel}function Pu(e){if(_u.logLevel<=hn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Mu);_u.debug.apply(_u,["Firestore (".concat(Du,"): ").concat(e)].concat(I(i)))}}function Ou(e){if(_u.logLevel<=hn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Mu);_u.error.apply(_u,["Firestore (".concat(Du,"): ").concat(e)].concat(I(i)))}}function Lu(e){if(_u.logLevel<=hn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Mu);_u.warn.apply(_u,["Firestore (".concat(Du,"): ").concat(e)].concat(I(i)))}}function Mu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Bu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Du,") INTERNAL ASSERTION FAILED: ")+e;throw Ou(t),new Error(t)}function Fu(e,t){e||Bu()}function Uu(e,t){return e}var ju={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Vu=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return c(n)}(Ht),qu=c((function e(){var t=this;u(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),zu=c((function e(t,n){u(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Qu=function(){function e(){u(this,e)}return c(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Nu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Hu=function(){function e(t){u(this,e),this.token=t,this.changeListener=null}return c(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ku=function(){function e(t){u(this,e),this.t=t,this.currentUser=Nu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return c(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new qu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new qu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Pu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Pu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Pu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Fu("string"==typeof n.accessToken),new zu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Fu(null===e||"string"==typeof e),new Nu(e)}}]),e}(),Gu=function(){function e(t,n,r,i){u(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Nu.FIRST_PARTY,this.p=new Map}return c(e,[{key:"I",value:function(){return this.g?this.g():(Fu(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Wu=function(){function e(t,n,r,i){u(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return c(e,[{key:"getToken",value:function(){return Promise.resolve(new Gu(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Nu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ju=c((function e(t){u(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Yu=function(){function e(t){u(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return c(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Pu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Pu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Pu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Pu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Fu("string"==typeof t.token),e.A=t.token,new Ju(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Xu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Zu=function(){function e(){u(this,e)}return c(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Xu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function $u(e,t){return e<t?-1:e>t?1:0}function es(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ts(e){return e+"\0"}var ns=function(){function e(t,n){if(u(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Vu(ju.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Vu(ju.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Vu(ju.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Vu(ju.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return c(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?$u(this.nanoseconds,e.nanoseconds):$u(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),rs=function(){function e(t){u(this,e),this.timestamp=t}return c(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ns(0,0))}},{key:"max",value:function(){return new e(new ns(253402300799,999999999))}}]),e}(),is=function(){function e(t,n,r){u(this,e),void 0===n?n=0:n>t.length&&Bu(),void 0===r?r=t.length-n:r>t.length-n&&Bu(),this.segments=t,this.offset=n,this.len=r}return c(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),as=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Vu(ju.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,I(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(is),os=/^[_a-zA-Z][_a-zA-Z0-9]*$/,us=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return os.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Vu(ju.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Vu(ju.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Vu(ju.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Vu(ju.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(is),ss=function(){function e(t){u(this,e),this.path=t}return c(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===as.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(as.fromString(t))}},{key:"fromName",value:function(t){return new e(as.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(as.emptyPath())}},{key:"comparator",value:function(e,t){return as.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new as(t.slice()))}}]),e}(),cs=c((function e(t,n,r,i){u(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ls(e){return e.fields.find((function(e){return 2===e.kind}))}function fs(e){return e.fields.filter((function(e){return 2!==e.kind}))}cs.UNKNOWN_ID=-1;var hs=c((function e(t,n){u(this,e),this.fieldPath=t,this.kind=n}));var ds=function(){function e(t,n){u(this,e),this.sequenceNumber=t,this.offset=n}return c(e,null,[{key:"empty",value:function(){return new e(0,ms.min())}}]),e}();function ps(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=rs.fromTimestamp(1e9===r?new ns(n+1,0):new ns(n,r));return new ms(i,ss.empty(),t)}function vs(e){return new ms(e.readTime,e.key,-1)}var ms=function(){function e(t,n,r){u(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return c(e,null,[{key:"min",value:function(){return new e(rs.min(),ss.empty(),-1)}},{key:"max",value:function(){return new e(rs.max(),ss.empty(),-1)}}]),e}();function ys(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ss.comparator(e.documentKey,t.documentKey))?n:$u(e.largestBatchId,t.largestBatchId)}var gs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ks=function(){function e(){u(this,e),this.onCommittedListeners=[]}return c(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function bs(e){return ws.apply(this,arguments)}function ws(){return ws=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ju.FAILED_PRECONDITION&&t.message===gs){e.next=2;break}throw t;case 2:Pu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}var xs=function(){function e(t){var n=this;u(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return c(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Bu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ge(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),As=function(){function e(t,n){var r=this;u(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new qu,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Ss(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=_s(e.target.error);r.P.reject(new Ss(t,n))}}return c(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Pu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Cs(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ss(n,t)}}}]),e}(),Is=function(){function e(t,n,r){u(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Pt())&&Ou("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return c(e,[{key:"F",value:function(){var e=Ke(Ve().mark((function e(t){var n=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Pu("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ss(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Vu(ju.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Vu(ju.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ss(t,n))},i.onupgradeneeded=function(e){Pu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Pu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ke(Ve().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ve().mark((function e(){var n,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=As.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),xs.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Pu("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Pu("SimpleDb","Removing database:",e),Ns(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Ft())return!1;if(e.N())return!0;var t=Pt(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Es=function(){function e(t){u(this,e),this.U=t,this.q=!1,this.K=null}return c(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Ns(this.U.delete())}}]),e}(),Ss=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this,ju.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return c(n)}(Vu);function Ts(e){return"IndexedDbTransactionError"===e.name}var Cs=function(){function e(t){u(this,e),this.store=t}return c(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Pu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Pu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ns(n)}},{key:"add",value:function(e){return Pu("SimpleDb","ADD",this.store.name,e,e),Ns(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Ns(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Pu("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Pu("SimpleDb","DELETE",this.store.name,e),Ns(this.store.delete(e))}},{key:"count",value:function(){return Pu("SimpleDb","COUNT",this.store.name),Ns(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new xs((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new xs((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Pu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new xs((function(n,r){t.onerror=function(e){var t=_s(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new xs((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Es(i),o=t(i.primaryKey,i.value,a);if(o instanceof xs){var u=o.catch((function(e){return a.done(),xs.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return xs.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Ns(e){return new xs((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=_s(e.target.error);n(t)}}))}var Ds=!1;function _s(e){var t=Is.D(Pt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Vu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ds||(Ds=!0,setTimeout((function(){throw r}),0)),r}}return e}var Rs=function(){function e(t,n){u(this,e),this.asyncQueue=t,this.et=n,this.task=null}return c(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Pu("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Pu,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Ts(e.t4)){e.next=17;break}Pu("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,bs(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Ps=function(){function e(t,n){u(this,e),this.localStore=t,this.persistence=n}return c(e,[{key:"st",value:function(){var e=Ke(Ve().mark((function e(){var t,n=this,r=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return xs.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Pu("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Pu("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=vs(t);ys(r,n)>0&&(n=r)})),new ms(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Os=function(){function e(t,n){var r=this;u(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return c(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function Ls(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ms(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Bs(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Os.at=-1;var Fs=function(){function e(t,n){u(this,e),this.comparator=t,this.root=n||js.EMPTY}return c(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,js.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,js.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Us(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Us(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Us(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Us(this.root,e,this.comparator,!0)}}]),e}(),Us=function(){function e(t,n,r,i){u(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return c(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),js=function(){function e(t,n,r,i,a){u(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return c(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Bu();if(this.right.isRed())throw Bu();var e=this.left.check();if(e!==this.right.check())throw Bu();return e+(this.isRed()?0:1)}}]),e}();js.EMPTY=null,js.RED=!0,js.BLACK=!1,js.EMPTY=new(function(){function e(){u(this,e),this.size=0}return c(e,[{key:"key",get:function(){throw Bu()}},{key:"value",get:function(){throw Bu()}},{key:"color",get:function(){throw Bu()}},{key:"left",get:function(){throw Bu()}},{key:"right",get:function(){throw Bu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new js(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Vs=function(){function e(t){u(this,e),this.comparator=t,this.data=new Fs(this.comparator)}return c(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new qs(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new qs(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),qs=function(){function e(t){u(this,e),this.iter=t}return c(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function zs(e){return e.hasNext()?e.getNext():void 0}var Qs=function(){function e(t){u(this,e),this.fields=t,t.sort(us.comparator)}return c(e,[{key:"unionWith",value:function(t){var n,r=new Vs(us.comparator),i=Ge(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Ge(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Ge(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return es(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Hs=function(e){function t(e){u(this,t),this.binaryString=e}return c(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return $u(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Hs.EMPTY_BYTE_STRING=new Hs("");var Ks=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(e){if(Fu(!!e),"string"==typeof e){var t=0,n=Ks.exec(e);if(Fu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ws(e.seconds),nanos:Ws(e.nanos)}}function Ws(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Js(e){return"string"==typeof e?Hs.fromBase64String(e):Hs.fromUint8Array(e)}function Ys(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xs(e){var t=e.mapValue.fields.__previous_value__;return Ys(t)?Xs(t):t}function Zs(e){var t=Gs(e.mapValue.fields.__local_write_time__.timestampValue);return new ns(t.seconds,t.nanos)}var $s=c((function e(t,n,r,i,a,o,s,c){u(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=c})),ec=function(){function e(t,n){u(this,e),this.projectId=t,this.database=n||"(default)"}return c(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function tc(e){return null==e}function nc(e){return 0===e&&1/e==-1/0}function rc(e){return"number"==typeof e&&Number.isInteger(e)&&!nc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ac={nullValue:"NULL_VALUE"};function oc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ys(e)?4:bc(e)?9007199254740991:10:Bu()}function uc(e,t){if(e===t)return!0;var n=oc(e);if(n!==oc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zs(e).isEqual(Zs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Gs(e.timestampValue),r=Gs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Js(e.bytesValue).isEqual(Js(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ws(e.geoPointValue.latitude)===Ws(t.geoPointValue.latitude)&&Ws(e.geoPointValue.longitude)===Ws(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ws(e.integerValue)===Ws(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ws(e.doubleValue),r=Ws(t.doubleValue);return n===r?nc(n)===nc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return es(e.arrayValue.values||[],t.arrayValue.values||[],uc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ls(n)!==Ls(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!uc(n[i],r[i])))return!1;return!0}(e,t);default:return Bu()}}function sc(e,t){return void 0!==(e.values||[]).find((function(e){return uc(e,t)}))}function cc(e,t){if(e===t)return 0;var n=oc(e),r=oc(t);if(n!==r)return $u(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $u(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ws(e.integerValue||e.doubleValue),r=Ws(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return lc(e.timestampValue,t.timestampValue);case 4:return lc(Zs(e),Zs(t));case 5:return $u(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Js(e),r=Js(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=$u(n[i],r[i]);if(0!==a)return a}return $u(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=$u(Ws(e.latitude),Ws(t.latitude));return 0!==n?n:$u(Ws(e.longitude),Ws(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=cc(n[i],r[i]);if(a)return a}return $u(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ic.mapValue&&t===ic.mapValue)return 0;if(e===ic.mapValue)return 1;if(t===ic.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=$u(r[o],a[o]);if(0!==u)return u;var s=cc(n[r[o]],i[a[o]]);if(0!==s)return s}return $u(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Bu()}}function lc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $u(e,t);var n=Gs(e),r=Gs(t),i=$u(n.seconds,r.seconds);return 0!==i?i:$u(n.nanos,r.nanos)}function fc(e){return hc(e)}function hc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Gs(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Js(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ss.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ge(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=hc(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ge(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(hc(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Bu();var t,n}function dc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function pc(e){return!!e&&"integerValue"in e}function vc(e){return!!e&&"arrayValue"in e}function mc(e){return!!e&&"nullValue"in e}function yc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gc(e){return!!e&&"mapValue"in e}function kc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ms(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=kc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=kc(e.arrayValue.values[r]);return n}return Object.assign({},e)}function bc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function wc(e){return"nullValue"in e?ac:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?dc(ec.empty(),ss.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Bu()}function xc(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?dc(ec.empty(),ss.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ic:Bu()}function Ac(e,t){var n=cc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ic(e,t){var n=cc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Ec=function(){function e(t){u(this,e),this.value=t}return c(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!gc(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(t)}},{key:"setAll",value:function(e){var t=this,n=us.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=kc(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());gc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return uc(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];gc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ms(t,(function(t,n){return e[t]=n}));var r,i=Ge(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(kc(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Sc(e){var t=[];return Ms(e.fields,(function(e,n){var r=new us([e]);if(gc(n)){var i=Sc(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ge(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Qs(t)}var Tc=function(){function e(t,n,r,i,a,o){u(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return c(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ec.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ec.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=rs.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,rs.min(),rs.min(),Ec.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,rs.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,rs.min(),Ec.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,rs.min(),Ec.empty(),2)}}]),e}(),Cc=c((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;u(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ht=null}));function Nc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Cc(e,t,n,r,i,a,o)}function Dc(e){var t=Uu(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+fc(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),tc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return fc(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return fc(e)})).join(",")),t.ht=n}return t.ht}function _c(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Gc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!uc(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Jc(e.startAt,t.startAt)&&Jc(e.endAt,t.endAt)}function Rc(e){return ss.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Pc(e,t){return e.filters.filter((function(e){return e instanceof Mc&&e.field.isEqual(t)}))}function Oc(e,t,n){var r,i=ac,a=!0,o=Ge(Pc(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ac,c=!0;switch(u.op){case"<":case"<=":s=wc(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=ac}Ac({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ac({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Lc(e,t,n){var r,i=ic,a=!0,o=Ge(Pc(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ic,c=!0;switch(u.op){case">=":case">":s=xc(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=ic}Ic({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ic({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Mc=function(e){f(n,e);var t=y(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return c(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(cc(t,this.value)):null!==t&&oc(this.value)===oc(t)&&this.ft(cc(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bu()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Bc(e,t,r):"array-contains"===t?new Vc(e,r):"in"===t?new qc(e,r):"not-in"===t?new zc(e,r):"array-contains-any"===t?new Qc(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Fc(e,n):new Uc(e,n)}}]),n}(function(){return c((function e(){u(this,e)}))}()),Bc=function(e){f(n,e);var t=y(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,e,r,i)).key=ss.fromName(i.referenceValue),a}return c(n,[{key:"matches",value:function(e){var t=ss.comparator(e.key,this.key);return this.ft(t)}}]),n}(Mc),Fc=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,"in",r)).keys=jc("in",r),i}return c(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Mc),Uc=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,"not-in",r)).keys=jc("not-in",r),i}return c(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Mc);function jc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ss.fromName(e.referenceValue)}))}var Vc=function(e){f(n,e);var t=y(n);function n(e,r){return u(this,n),t.call(this,e,"array-contains",r)}return c(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return vc(t)&&sc(t.arrayValue,this.value)}}]),n}(Mc),qc=function(e){f(n,e);var t=y(n);function n(e,r){return u(this,n),t.call(this,e,"in",r)}return c(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&sc(this.value.arrayValue,t)}}]),n}(Mc),zc=function(e){f(n,e);var t=y(n);function n(e,r){return u(this,n),t.call(this,e,"not-in",r)}return c(n,[{key:"matches",value:function(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!sc(this.value.arrayValue,t)}}]),n}(Mc),Qc=function(e){f(n,e);var t=y(n);function n(e,r){return u(this,n),t.call(this,e,"array-contains-any",r)}return c(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!vc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return sc(t.value.arrayValue,e)}))}}]),n}(Mc),Hc=c((function e(t,n){u(this,e),this.position=t,this.inclusive=n})),Kc=c((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";u(this,e),this.field=t,this.dir=n}));function Gc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Wc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ss.comparator(ss.fromName(o.referenceValue),n.key):cc(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Jc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!uc(e.position[n],t.position[n]))return!1;return!0}var Yc=c((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;u(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=c,this._t=null,this.wt=null,this.startAt,this.endAt}));function Xc(e,t,n,r,i,a,o,u){return new Yc(e,t,n,r,i,a,o,u)}function Zc(e){return new Yc(e)}function $c(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function el(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function tl(e){var t,n=Ge(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function nl(e){return null!==e.collectionGroup}function rl(e){var t=Uu(e);if(null===t._t){t._t=[];var n=tl(t),r=el(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Kc(n)),t._t.push(new Kc(us.keyField(),"asc"));else{var i,a=!1,o=Ge(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Kc(us.keyField(),s))}}}return t._t}function il(e){var t=Uu(e);if(!t.wt)if("F"===t.limitType)t.wt=Nc(t.path,t.collectionGroup,rl(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ge(rl(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Kc(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Hc(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Hc(t.startAt.position,t.startAt.inclusive):null;t.wt=Nc(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function al(e,t,n){return new Yc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ol(e,t){return _c(il(e),il(t))&&e.limitType===t.limitType}function ul(e){return"".concat(Dc(il(e)),"|lt:").concat(e.limitType)}function sl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(fc(t.value));var t})).join(", "),"]")),tc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return fc(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return fc(e)})).join(",")),"Target(".concat(t,")")}(il(e)),"; limitType=").concat(e.limitType,")")}function cl(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ss.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ge(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ge(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Wc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,rl(e),t))&&!(e.endAt&&!function(e,t,n){var r=Wc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,rl(e),t))}(e,t)}function ll(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fl(e){return function(t,n){var r,i=!1,a=Ge(rl(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=hl(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function hl(e,t,n){var r=e.field.isKeyField()?ss.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?cc(r,i):Bu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Bu()}}function dl(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(t)?"-0":t}}function pl(e){return{integerValue:""+e}}function vl(e,t){return rc(t)?pl(t):dl(e,t)}var ml=c((function e(){u(this,e),this._=void 0}));function yl(e,t,n){return e instanceof bl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wl?xl(e,t):e instanceof Al?Il(e,t):function(e,t){var n=kl(e,t),r=Sl(n)+Sl(e.yt);return pc(n)&&pc(e.yt)?pl(r):dl(e.It,r)}(e,t)}function gl(e,t,n){return e instanceof wl?xl(e,t):e instanceof Al?Il(e,t):n}function kl(e,t){return e instanceof El?pc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var bl=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n)}(ml),wl=function(e){f(n,e);var t=y(n);function n(e){var r;return u(this,n),(r=t.call(this)).elements=e,r}return c(n)}(ml);function xl(e,t){var n,r=Tl(t),i=Ge(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return uc(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Al=function(e){f(n,e);var t=y(n);function n(e){var r;return u(this,n),(r=t.call(this)).elements=e,r}return c(n)}(ml);function Il(e,t){var n,r=Tl(t),i=Ge(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!uc(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var El=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).It=e,i.yt=r,i}return c(n)}(ml);function Sl(e){return Ws(e.integerValue||e.doubleValue)}function Tl(e){return vc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Cl=c((function e(t,n){u(this,e),this.field=t,this.transform=n}));var Nl=c((function e(t,n){u(this,e),this.version=t,this.transformResults=n})),Dl=function(){function e(t,n){u(this,e),this.updateTime=t,this.exists=n}return c(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function _l(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Rl=c((function e(){u(this,e)}));function Pl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Hl(e.key,Dl.none()):new Fl(e.key,e.data,Dl.none());var n,r=e.data,i=Ec.empty(),a=new Vs(us.comparator),o=Ge(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Ul(e.key,i,new Qs(a.toArray()),Dl.none())}function Ol(e,t,n){e instanceof Fl?function(e,t,n){var r=e.value.clone(),i=Vl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ul?function(e,t,n){if(_l(e.precondition,t)){var r=Vl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(jl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ll(e,t,n,r){return e instanceof Fl?function(e,t,n,r){if(!_l(e.precondition,t))return n;var i=e.value.clone(),a=ql(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ul?function(e,t,n,r){if(!_l(e.precondition,t))return n;var i=ql(e.fieldTransforms,r,t),a=t.data;return a.setAll(jl(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return _l(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ml(e,t){var n,r=null,i=Ge(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=kl(a.transform,o||null);null!=u&&(null===r&&(r=Ec.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Bl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&es(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wl&&t instanceof wl||e instanceof Al&&t instanceof Al?es(e.elements,t.elements,uc):e instanceof El&&t instanceof El?uc(e.yt,t.yt):e instanceof bl&&t instanceof bl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Fl=function(e){f(n,e);var t=y(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return u(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return c(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rl),Ul=function(e){f(n,e);var t=y(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return u(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return c(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Rl);function jl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Vl(e,t,n){var r=new Map;Fu(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,gl(o,u,n[i]))}return r}function ql(e,t,n){var r,i=new Map,a=Ge(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,yl(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var zl,Ql,Hl=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return c(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rl),Kl=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return c(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rl),Gl=c((function e(t){u(this,e),this.count=t}));function Wl(e){switch(e){default:return Bu();case ju.CANCELLED:case ju.UNKNOWN:case ju.DEADLINE_EXCEEDED:case ju.RESOURCE_EXHAUSTED:case ju.INTERNAL:case ju.UNAVAILABLE:case ju.UNAUTHENTICATED:return!1;case ju.INVALID_ARGUMENT:case ju.NOT_FOUND:case ju.ALREADY_EXISTS:case ju.PERMISSION_DENIED:case ju.FAILED_PRECONDITION:case ju.ABORTED:case ju.OUT_OF_RANGE:case ju.UNIMPLEMENTED:case ju.DATA_LOSS:return!0}}function Jl(e){if(void 0===e)return Ou("GRPC error has no .code"),ju.UNKNOWN;switch(e){case zl.OK:return ju.OK;case zl.CANCELLED:return ju.CANCELLED;case zl.UNKNOWN:return ju.UNKNOWN;case zl.DEADLINE_EXCEEDED:return ju.DEADLINE_EXCEEDED;case zl.RESOURCE_EXHAUSTED:return ju.RESOURCE_EXHAUSTED;case zl.INTERNAL:return ju.INTERNAL;case zl.UNAVAILABLE:return ju.UNAVAILABLE;case zl.UNAUTHENTICATED:return ju.UNAUTHENTICATED;case zl.INVALID_ARGUMENT:return ju.INVALID_ARGUMENT;case zl.NOT_FOUND:return ju.NOT_FOUND;case zl.ALREADY_EXISTS:return ju.ALREADY_EXISTS;case zl.PERMISSION_DENIED:return ju.PERMISSION_DENIED;case zl.FAILED_PRECONDITION:return ju.FAILED_PRECONDITION;case zl.ABORTED:return ju.ABORTED;case zl.OUT_OF_RANGE:return ju.OUT_OF_RANGE;case zl.UNIMPLEMENTED:return ju.UNIMPLEMENTED;case zl.DATA_LOSS:return ju.DATA_LOSS;default:return Bu()}}(Ql=zl||(zl={}))[Ql.OK=0]="OK",Ql[Ql.CANCELLED=1]="CANCELLED",Ql[Ql.UNKNOWN=2]="UNKNOWN",Ql[Ql.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ql[Ql.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ql[Ql.NOT_FOUND=5]="NOT_FOUND",Ql[Ql.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ql[Ql.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ql[Ql.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ql[Ql.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ql[Ql.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ql[Ql.ABORTED=10]="ABORTED",Ql[Ql.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ql[Ql.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ql[Ql.INTERNAL=13]="INTERNAL",Ql[Ql.UNAVAILABLE=14]="UNAVAILABLE",Ql[Ql.DATA_LOSS=15]="DATA_LOSS";var Yl=function(){function e(t,n){u(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return c(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ge(n);try{for(i.s();!(r=i.n()).done;){var a=x(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ms(this.inner,(function(t,n){var r,i=Ge(n);try{for(i.s();!(r=i.n()).done;){var a=x(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Bs(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Xl=new Fs(ss.comparator);function Zl(){return Xl}var $l=new Fs(ss.comparator);function ef(){for(var e=$l,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function tf(e){var t=$l;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function nf(){return af()}function rf(){return af()}function af(){return new Yl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var of=new Fs(ss.comparator),uf=new Vs(ss.comparator);function sf(){for(var e=uf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var cf=new Vs($u);function lf(){return cf}var ff=function(){function e(t,n,r,i,a){u(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return c(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,hf.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(rs.min(),i,lf(),Zl(),sf())}}]),e}(),hf=function(){function e(t,n,r,i,a){u(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return c(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,sf(),sf(),sf())}}]),e}(),df=c((function e(t,n,r,i){u(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),pf=c((function e(t,n){u(this,e),this.targetId=t,this.At=n})),vf=c((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hs.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;u(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),mf=function(){function e(){u(this,e),this.Rt=0,this.bt=kf(),this.Pt=Hs.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return c(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=sf(),t=sf(),n=sf();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Bu()}})),new hf(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=kf()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),yf=function(){function e(t){u(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Zl(),this.qt=gf(),this.Kt=new Vs($u)}return c(e,[{key:"Gt",value:function(e){var t,n=Ge(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ge(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Bu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(Rc(i))if(0===n){var a=new ss(i.path);this.jt(t,a,Tc.newNoDocument(a,rs.min()))}else Fu(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Rc(a.target)){var o=new ss(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Tc.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=sf();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new ff(e,n,this.Kt,this.Ut,r);return this.Ut=Zl(),this.qt=gf(),this.Kt=new Vs($u),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new mf,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new Vs($u),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Pu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new mf),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function gf(){return new Fs(ss.comparator)}function kf(){return new Fs(ss.comparator)}var bf={asc:"ASCENDING",desc:"DESCENDING"},wf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xf=c((function e(t,n){u(this,e),this.databaseId=t,this.gt=n}));function Af(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function If(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Ef(e,t){return Af(e,t.toTimestamp())}function Sf(e){return Fu(!!e),rs.fromTimestamp(function(e){var t=Gs(e);return new ns(t.seconds,t.nanos)}(e))}function Tf(e,t){return function(e){return new as(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Cf(e){var t=as.fromString(e);return Fu(Xf(t)),t}function Nf(e,t){return Tf(e.databaseId,t.path)}function Df(e,t){var n=Cf(t);if(n.get(1)!==e.databaseId.projectId)throw new Vu(ju.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vu(ju.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ss(Of(n))}function _f(e,t){return Tf(e.databaseId,t)}function Rf(e){var t=Cf(e);return 4===t.length?as.emptyPath():Of(t)}function Pf(e){return new as(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Of(e){return Fu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Lf(e,t,n){return{name:Nf(e,t),fields:n.value.mapValue.fields}}function Mf(e,t,n){var r=Df(e,t.name),i=Sf(t.updateTime),a=new Ec({mapValue:{fields:t.fields}}),o=Tc.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Bf(e,t){return"found"in t?function(e,t){Fu(!!t.found),t.found.name,t.found.updateTime;var n=Df(e,t.found.name),r=Sf(t.found.updateTime),i=new Ec({mapValue:{fields:t.found.fields}});return Tc.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Fu(!!t.missing),Fu(!!t.readTime);var n=Df(e,t.missing),r=Sf(t.readTime);return Tc.newNoDocument(n,r)}(e,t):Bu()}function Ff(e,t){var n;if(t instanceof Fl)n={update:Lf(e,t.key,t.value)};else if(t instanceof Hl)n={delete:Nf(e,t.key)};else if(t instanceof Ul)n={update:Lf(e,t.key,t.data),updateMask:Yf(t.fieldMask)};else{if(!(t instanceof Kl))return Bu();n={verify:Nf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof bl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Al)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof El)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Bu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ef(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Bu()}(e,t.precondition)),n}function Uf(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Dl.updateTime(Sf(e.updateTime)):void 0!==e.exists?Dl.exists(e.exists):Dl.none()}(t.currentDocument):Dl.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Fu("REQUEST_TIME"===t.setToServerValue),n=new bl;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new wl(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Al(i)}else"increment"in t?n=new El(e,t.increment):Bu();var a=us.fromServerFormat(t.fieldPath);return new Cl(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Df(e,t.update.name),a=new Ec({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Qs(t.map((function(e){return us.fromServerFormat(e)})))}(t.updateMask);return new Ul(i,a,o,n,r)}return new Fl(i,a,n,r)}if(t.delete){var u=Df(e,t.delete);return new Hl(u,n)}if(t.verify){var s=Df(e,t.verify);return new Kl(s,n)}return Bu()}function jf(e,t){return{documents:[_f(e,t.path)]}}function Vf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=_f(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=_f(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(yc(e.value))return{unaryFilter:{field:Kf(e.field),op:"IS_NAN"}};if(mc(e.value))return{unaryFilter:{field:Kf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yc(e.value))return{unaryFilter:{field:Kf(e.field),op:"IS_NOT_NAN"}};if(mc(e.value))return{unaryFilter:{field:Kf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kf(e.field),op:Hf(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Kf(e.field),direction:Qf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||tc(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function qf(e){var t=Rf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Fu(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=zf(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Kc(Gf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return tc(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Hc(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Hc(n,t)}(n.endAt)),Xc(t,i,u,o,s,"F",c,l)}function zf(e){return e?void 0!==e.unaryFilter?[Jf(e)]:void 0!==e.fieldFilter?[Wf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return zf(e)})).reduce((function(e,t){return e.concat(t)})):Bu():[]}function Qf(e){return bf[e]}function Hf(e){return wf[e]}function Kf(e){return{fieldPath:e.canonicalString()}}function Gf(e){return us.fromServerFormat(e.fieldPath)}function Wf(e){return Mc.create(Gf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bu()}}(e.fieldFilter.op),e.fieldFilter.value)}function Jf(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Gf(e.unaryFilter.field);return Mc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Gf(e.unaryFilter.field);return Mc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Gf(e.unaryFilter.field);return Mc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Gf(e.unaryFilter.field);return Mc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Bu()}}function Yf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Xf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Zf(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=eh(t)),t=$f(e.get(n),t);return eh(t)}function $f(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function eh(e){return e+"\x01\x01"}function th(e){var t=e.length;if(Fu(t>=2),2===t)return Fu("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),as.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Bu(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Bu()}a=o+2}return new as(r)}var nh=["userId","batchId"];function rh(e,t){return[e,Zf(t)]}function ih(e,t,n){return[e,Zf(t),n]}var ah={},oh=["prefixPath","collectionGroup","readTime","documentId"],uh=["prefixPath","collectionGroup","documentId"],sh=["collectionGroup","readTime","prefixPath","documentId"],ch=["canonicalId","targetId"],lh=["targetId","path"],fh=["path","targetId"],hh=["collectionId","parent"],dh=["indexId","uid"],ph=["uid","sequenceNumber"],vh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mh=["indexId","uid","orderedDocumentKey"],yh=["userId","collectionPath","documentId"],gh=["userId","collectionPath","largestBatchId"],kh=["userId","collectionGroup","largestBatchId"],bh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),wh=[].concat(I(bh),["documentOverlays"]),xh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ah=xh,Ih=[].concat(Ah,["indexConfiguration","indexState","indexEntries"]),Eh=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return c(n)}(ks);function Sh(e,t){var n=Uu(e);return Is.M(n.ie,t)}var Th=function(){function e(t,n,r,i){u(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return c(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ol(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Ge(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ll(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Ge(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Ll(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=rf();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Pl(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(rs.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),sf())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&es(this.mutations,e.mutations,(function(e,t){return Bl(e,t)}))&&es(this.baseMutations,e.baseMutations,(function(e,t){return Bl(e,t)}))}}]),e}(),Ch=function(){function e(t,n,r,i){u(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return c(e,null,[{key:"from",value:function(t,n,r){Fu(t.mutations.length===r.length);for(var i=of,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Nh=function(){function e(t,n){u(this,e),this.largestBatchId=t,this.mutation=n}return c(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Dh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rs.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rs.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Hs.EMPTY_BYTE_STRING;u(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return c(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),_h=c((function e(t){u(this,e),this.re=t}));function Rh(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ph(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Nf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Af(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Oh(t.version)};else{if(!t.isUnknownDocument())return Bu();r.unknownDocument={path:n.path.toArray(),version:Oh(t.version)}}return r}function Ph(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Oh(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Lh(e){var t=new ns(e.seconds,e.nanoseconds);return rs.fromTimestamp(t)}function Mh(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Uf(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Uf(e.re,t)})),u=ns.fromMillis(t.localWriteTimeMs);return new Th(t.batchId,u,n,o)}function Bh(e){var t,n,r=Lh(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Lh(e.lastLimboFreeSnapshotVersion):rs.min();return void 0!==e.query.documents?(Fu(1===(n=e.query).documents.length),t=il(Zc(Rf(n.documents[0])))):t=function(e){return il(qf(e))}(e.query),new Dh(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Hs.fromBase64String(e.resumeToken))}function Fh(e,t){var n,r=Oh(t.snapshotVersion),i=Oh(t.lastLimboFreeSnapshotVersion);n=Rc(t.target)?jf(e.re,t.target):Vf(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Dc(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Uh(e){var t=qf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?al(t,t.limit,"L"):t}function jh(e,t){return new Nh(t.largestBatchId,Uf(e.re,t.overlayMutation))}function Vh(e,t){var n=t.path.lastSegment();return[e,Zf(t.path.popLast()),n]}function qh(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Oh(r.readTime),documentKey:Zf(r.documentKey.path),largestBatchId:r.largestBatchId}}var zh=function(){function e(){u(this,e)}return c(e,[{key:"getBundleMetadata",value:function(e,t){return Qh(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Lh(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Qh(e).put({bundleId:(n=t).id,createTime:Oh(Sf(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Hh(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Uh(t.bundledQuery),readTime:Lh(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Hh(e).put(function(e){return{name:e.name,readTime:Oh(Sf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Qh(e){return Sh(e,"bundles")}function Hh(e){return Sh(e,"namedQueries")}var Kh=function(){function e(t,n){u(this,e),this.It=t,this.userId=n}return c(e,[{key:"getOverlay",value:function(e,t){var n=this;return Gh(e).get(Vh(this.userId,t)).next((function(e){return e?jh(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=nf();return xs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Nh(t,a);i.push(r.ue(e,o))})),xs.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Zf(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Gh(e).Y("collectionPathOverlayIndex",i))})),xs.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=nf(),a=Zf(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Gh(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Ge(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=jh(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=nf(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gh(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=jh(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return Gh(e).put(function(e,t,n){var r=x(Vh(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ff(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Gh(e){return Sh(e,"documentOverlays")}var Wh=function(){function e(){u(this,e)}return c(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ws(e.integerValue));else if("doubleValue"in e){var n=Ws(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),nc(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Js(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?bc(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Bu()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Ge(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),ss.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function Jh(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Yh(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Jh(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Wh.Te=new Wh;var Xh=function(){function e(){u(this,e),this.buffer=new Uint8Array(1024),this.position=0}return c(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Ge(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Ge(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=Yh(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=Yh(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Zh=function(){function e(t){u(this,e),this.Be=t}return c(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),$h=function(){function e(t){u(this,e),this.Be=t}return c(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),ed=function(){function e(){u(this,e),this.Be=new Xh,this.Le=new Zh(this.Be),this.Ue=new $h(this.Be)}return c(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),td=function(){function e(t,n,r,i){u(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return c(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function nd(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=rd(e.arrayValue,t.arrayValue))?n:0!==(n=rd(e.directionalValue,t.directionalValue))?n:ss.comparator(e.documentKey,t.documentKey)}function rd(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var id=function(){function e(t){u(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Ge(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return c(e,[{key:"We",value:function(e){var t=ls(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=fs(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=Ge(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),ad=function(){function e(){u(this,e),this.Ye=new od}return c(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),xs.resolve()}},{key:"getCollectionParents",value:function(e,t){return xs.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return xs.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return xs.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return xs.resolve(null)}},{key:"getIndexType",value:function(e,t){return xs.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return xs.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return xs.resolve(null)}},{key:"getMinOffset",value:function(e,t){return xs.resolve(ms.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return xs.resolve(ms.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return xs.resolve()}},{key:"updateIndexEntries",value:function(e,t){return xs.resolve()}}]),e}(),od=function(){function e(){u(this,e),this.index={}}return c(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Vs(as.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Vs(as.comparator)).toArray()}}]),e}(),ud=new Uint8Array(0),sd=function(){function e(t,n){u(this,e),this.user=t,this.databaseId=n,this.Xe=new od,this.Ze=new Yl((function(e){return Dc(e)}),(function(e,t){return _c(e,t)})),this.uid=t.uid||""}return c(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Zf(i)};return cd(e).put(a)}return xs.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ts(t),""],!1,!0);return cd(e).W(r).next((function(e){var r,i=Ge(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(th(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=fd(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=hd(e);return a.next((function(e){o.put(qh(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=fd(e),r=hd(e),i=ld(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ld(e),i=!0,a=new Map;return xs.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=sf(),o=[];return xs.forEach(a,(function(i,a){var u;Pu("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Dc(t)));var s=function(e,t){var n=ls(t);if(void 0===n)return null;var r,i=Ge(Pc(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Ge(fs(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Ge(Pc(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Ge(fs(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Oc(e,o.fieldPath,e.startAt):Lc(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Hc(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Ge(fs(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Lc(e,o.fieldPath,e.endAt):Oc(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Hc(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return xs.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=ss.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return xs.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):ud,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,I(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new td(e,ss.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new td(e,ss.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new id(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Ge(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return xs.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Vs(us.comparator),r=!1,i=Ge(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Ge(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new ed,i=Ge(fs(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Wh.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new ed;return Wh.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new ed;return Wh.Te.ce(dc(this.databaseId,t),n.qe(function(e){var t=fs(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new ed);var i,a=0,o=Ge(fs(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Ge(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&vc(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);Wh.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=I(e),a=[],o=Ge(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Ge(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new ed;f.seed(l.$e()),Wh.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Mc&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=fd(e),i=hd(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return xs.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ds(t.sequenceNumber,new ms(Lh(t.readTime),new ss(th(t.documentKey)),t.largestBatchId)):ds.empty(),r=e.fields.map((function(e){var t=x(e,2),n=t[0],r=t[1];return new hs(us.fromServerFormat(n),r)}));return new cs(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:$u(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=fd(e),a=hd(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return xs.forEach(t,(function(t){return a.put(qh(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return xs.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?xs.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),xs.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?xs.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return ld(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return ld(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=ld(e),i=new Vs(nd);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new td(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new Vs(nd),r=this.an(t,e);if(null==r)return n;var i=ls(t);if(null!=i){var a=e.data.field(i.fieldPath);if(vc(a)){var o,u=Ge(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new td(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new td(t.indexId,e.key,ud,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;Pu("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=zs(a),s=zs(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=zs(o)):l?(i(u),u=zs(a)):(u=zs(a),s=zs(o))}}(r,i,nd,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),xs.waitFor(o)}},{key:"_n",value:function(e){var t=1;return hd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return nd(e,t)})).filter((function(e,t,n){return!t||0!==nd(e,n[t-1])}));var r=[];r.push(e);var i,a=Ge(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=nd(o,e),s=nd(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ud,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ud,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(dd)}},{key:"getMinOffset",value:function(e,t){var n=this;return xs.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||Bu()}))})).next(dd)}}]),e}();function cd(e){return Sh(e,"collectionParents")}function ld(e){return Sh(e,"indexEntries")}function fd(e){return Sh(e,"indexConfiguration")}function hd(e){return Sh(e,"indexState")}function dd(e){Fu(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;ys(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ms(t.readTime,t.documentKey,n)}var pd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vd=function(){function e(t,n,r){u(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return c(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function md(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Fu(1===u)})));var c,l=[],f=Ge(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ih(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return xs.waitFor(a).next((function(){return l}))}function yd(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Bu();t=e.noDocument}return JSON.stringify(t).length}vd.DEFAULT_COLLECTION_PERCENTILE=10,vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vd.DEFAULT=new vd(41943040,vd.DEFAULT_COLLECTION_PERCENTILE,vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vd.DISABLED=new vd(-1,0,0);var gd=function(){function e(t,n,r,i){u(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return c(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bd(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=wd(e),o=bd(e);return o.add({}).next((function(u){Fu("number"==typeof u);var s,c=new Th(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Ff(e.re,t)})),i=n.mutations.map((function(t){return Ff(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new Vs((function(e,t){return $u(e.canonicalString(),t.canonicalString())})),d=Ge(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=ih(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,ah))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),xs.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return bd(e).get(t).next((function(e){return e?(Fu(e.userId===n.userId),Mh(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?xs.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return bd(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Fu(t.batchId>=r),a=Mh(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return bd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bd(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Mh(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=rh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return wd(e).Z({range:i},(function(r,i,o){var u=x(r,3),s=u[0],c=u[1],l=u[2],f=th(c);if(s===n.userId&&t.path.isEqual(f))return bd(e).get(l).next((function(e){if(!e)throw Bu();Fu(e.userId===n.userId),a.push(Mh(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Vs($u),i=[];return t.forEach((function(t){var a=rh(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=wd(e).Z({range:o},(function(e,i,a){var o=x(e,3),u=o[0],s=o[1],c=o[2],l=th(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),xs.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=rh(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Vs($u);return wd(e).Z({range:o},(function(e,t,a){var o=x(e,3),s=o[0],c=o[1],l=o[2],f=th(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(bd(e).get(t).next((function(e){if(null===e)throw Bu();Fu(e.userId===n.userId),r.push(Mh(n.It,e))})))})),xs.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return md(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),xs.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return xs.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return wd(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=th(e[1]);i.push(a)}else r.done()})).next((function(){Fu(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return kd(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return xd(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return Fu(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function kd(e,t,n){var r=rh(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return wd(e).Z({range:a,X:!0},(function(e,n,r){var a=x(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function bd(e){return Sh(e,"mutations")}function wd(e){return Sh(e,"documentMutations")}function xd(e){return Sh(e,"mutationQueues")}var Ad=function(){function e(t){u(this,e),this.bn=t}return c(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Id=function(){function e(t,n){u(this,e),this.referenceDelegate=t,this.It=n}return c(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Ad(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return rs.fromTimestamp(new ns(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ed(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Fu(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ed(e).Z((function(o,u){var s=Bh(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return xs.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ed(e).Z((function(e,n){var r=Bh(n);t(r)}))}},{key:"Vn",value:function(e){return Sd(e).get("targetGlobalKey").next((function(e){return Fu(null!==e),e}))}},{key:"Sn",value:function(e,t){return Sd(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Ed(e).put(Fh(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Dc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ed(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Bh(n);_c(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Td(e);return t.forEach((function(t){var o=Zf(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),xs.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Td(e);return xs.forEach(t,(function(t){var a=Zf(t.path);return xs.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Td(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Td(e),i=sf();return r.Z({range:n,X:!0},(function(e,t,n){var r=th(e[1]),a=new ss(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Zf(t.path),r=IDBKeyRange.bound([n],[ts(n)],!1,!0),i=0;return Td(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=x(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Ed(e).get(t).next((function(e){return e?Bh(e):null}))}}]),e}();function Ed(e){return Sh(e,"targets")}function Sd(e){return Sh(e,"targetGlobal")}function Td(e){return Sh(e,"targetDocuments")}function Cd(e,t){var n=x(e,2),r=n[0],i=n[1],a=x(t,2),o=a[0],u=a[1],s=$u(r,o);return 0===s?$u(i,u):s}var Nd=function(){function e(t){u(this,e),this.xn=t,this.buffer=new Vs(Cd),this.Nn=0}return c(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Cd(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Dd=function(){function e(t,n,r){u(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return c(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Pu("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Ts(e.t0)){e.next=12;break}Pu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,bs(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),_d=function(){function e(t,n){u(this,e),this.$n=t,this.params=n}return c(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return xs.resolve(Os.at);var r=new Nd(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Pu("LruGarbageCollector","Garbage collection skipped; disabled"),xs.resolve(pd)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Pu("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),pd):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Pu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Ru()<=hn.DEBUG&&Pu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),xs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Rd=function(){function e(t,n){u(this,e),this.db=t,this.garbageCollector=function(e,t){return new _d(e,t)}(this,n)}return c(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Pd(e,n)}},{key:"removeReference",value:function(e,t,n){return Pd(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Pd(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return xd(e).tt((function(r){return kd(e,r,t).next((function(e){return e&&(n=!0),xs.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,rs.min()),Td(e).delete([0,Zf(o.path)])}))}));i.push(s)}})).next((function(){return xs.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Pd(e,t)}},{key:"Kn",value:function(e,t){var n,r=Td(e),i=Os.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=x(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Os.at&&t(new ss(th(n)),i),i=s,n=u):i=Os.at})).next((function(){i!==Os.at&&t(new ss(th(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Pd(e,t){return Td(e).put(function(e,t){return{targetId:0,path:Zf(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Od=function(){function e(){u(this,e),this.changes=new Yl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return c(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Tc.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?xs.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ld=function(){function e(t){u(this,e),this.It=t}return c(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ud(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Ud(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ph(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Tc.newInvalidDocument(t);return Ud(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jd(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Tc.newInvalidDocument(t)};return Ud(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jd(t))},(function(e,i){r={document:n.jn(t,i),size:yd(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Zl();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Zl(),i=new Fs(ss.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,yd(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return xs.resolve();var r=new Vs(qd);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(jd(r.first()),jd(r.last())),a=r.getIterator(),o=a.getNext();return Ud(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ss.fromSegments([].concat(I(t.prefixPath),[t.collectionGroup,t.documentId]));o&&qd(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(jd(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Ph(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ud(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Zl(),i=Ge(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(ss.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Zl(),o=Vd(t,n),u=Vd(t,ms.max());return Ud(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(ss.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Bd(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Fd(e).get("remoteDocumentGlobalKey").next((function(e){return Fu(!!e),e}))}},{key:"Qn",value:function(e,t){return Fd(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Mf(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ss.fromSegments(t.noDocument.path),i=Lh(t.noDocument.readTime);n=Tc.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Bu();var a=ss.fromSegments(t.unknownDocument.path),o=Lh(t.unknownDocument.version);n=Tc.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new ns(e[0],e[1]);return rs.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(rs.min()))return n}return Tc.newInvalidDocument(e)}}]),e}();function Md(e){return new Ld(e)}var Bd=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Yl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return c(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Vs((function(e,t){return $u(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Rh(t.Yn.It,o);i=i.add(a.path.popLast());var c=yd(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Rh(t.Yn.It,o.convertToNoDocument(rs.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),xs.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Od);function Fd(e){return Sh(e,"remoteDocumentGlobal")}function Ud(e){return Sh(e,"remoteDocumentsV14")}function jd(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Vd(e,t){var n=t.documentKey.path.toArray();return[e,Ph(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function qd(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=$u(n[a],r[a]))return i;return(i=$u(n.length,r.length))||((i=$u(n[n.length-2],r[r.length-2]))||$u(n[n.length-1],r[r.length-1]))}var zd=c((function e(t,n){u(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Qd=function(){function e(t,n,r,i){u(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return c(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Ll(r.mutation,e,Qs.empty(),ns.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,sf()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sf(),i=nf();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=ef();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=nf();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,sf())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Zl(),a=af(),o=af();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ul)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Ll(o.mutation,t,o.mutation.getFieldMask(),ns.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new zd(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=af(),i=new Fs((function(e,t){return e-t})),a=sf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Ge(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Qs.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||sf()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=rf();c.forEach((function(e){if(!a.has(e)){var n=Pl(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return xs.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ss.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):xs.resolve(nf()),u=-1,s=a;return o.next((function(t){return xs.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?xs.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,sf())})).next((function(e){return{batchId:u,changes:tf(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ss(t)).next((function(e){var t=ef();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ef();return this.indexManager.getCollectionParents(e,i).next((function(o){return xs.forEach(o,(function(o){var u=function(e,t){return new Yc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Tc.newInvalidDocument(n)))}));var n=ef();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Ll(a.mutation,i,Qs.empty(),ns.now()),cl(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):xs.resolve(Tc.newInvalidDocument(t))}}]),e}(),Hd=function(){function e(t){u(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return c(e,[{key:"getBundleMetadata",value:function(e,t){return xs.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Sf(n.createTime)}),xs.resolve()}},{key:"getNamedQuery",value:function(e,t){return xs.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Uh(e.bundledQuery),readTime:Sf(e.readTime)}}(t)),xs.resolve()}}]),e}(),Kd=function(){function e(){u(this,e),this.overlays=new Fs(ss.comparator),this.es=new Map}return c(e,[{key:"getOverlay",value:function(e,t){return xs.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=nf();return xs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),xs.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),xs.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=nf(),i=t.length+1,a=new ss(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return xs.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Fs((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=nf(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=nf(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return xs.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Nh(t,n));var a=this.es.get(t);void 0===a&&(a=sf(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Gd=function(){function e(){u(this,e),this.ns=new Vs(Wd.ss),this.rs=new Vs(Wd.os)}return c(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Wd(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Wd(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new ss(new as([])),r=new Wd(n,e),i=new Wd(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new ss(new as([])),n=new Wd(t,e),r=new Wd(t,e+1),i=sf();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Wd(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Wd=function(){function e(t,n){u(this,e),this.key=t,this._s=n}return c(e,null,[{key:"ss",value:function(e,t){return ss.comparator(e.key,t.key)||$u(e._s,t._s)}},{key:"os",value:function(e,t){return $u(e._s,t._s)||ss.comparator(e.key,t.key)}}]),e}(),Jd=function(){function e(t,n){u(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Vs(Wd.ss)}return c(e,[{key:"checkEmpty",value:function(e){return xs.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Th(i,t,n,r);this.mutationQueue.push(a);var o,u=Ge(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new Wd(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return xs.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return xs.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return xs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return xs.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return xs.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Wd(t,0),i=new Wd(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),xs.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Vs($u);return t.forEach((function(e){var t=new Wd(e,0),i=new Wd(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),xs.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ss.isDocumentKey(i)||(i=i.child(""));var a=new Wd(new ss(i),0),o=new Vs($u);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),xs.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Fu(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return xs.forEach(t.mutations,(function(i){var a=new Wd(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Wd(t,0),r=this.gs.firstAfterOrEqual(n);return xs.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,xs.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Yd=function(){function e(t){u(this,e),this.Es=t,this.docs=new Fs(ss.comparator),this.size=0}return c(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return xs.resolve(n?n.document.mutableCopy():Tc.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Zl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Tc.newInvalidDocument(e))})),xs.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Zl(),i=new ss(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||ys(vs(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return xs.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Bu()}},{key:"As",value:function(e,t){return xs.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Xd(this)}},{key:"getSize",value:function(e){return xs.resolve(this.size)}}]),e}(),Xd=function(e){f(n,e);var t=y(n);function n(e){var r;return u(this,n),(r=t.call(this)).Yn=e,r}return c(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),xs.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Od),Zd=function(){function e(t){u(this,e),this.persistence=t,this.Rs=new Yl((function(e){return Dc(e)}),_c),this.lastRemoteSnapshotVersion=rs.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Gd,this.targetCount=0,this.vs=Ad.Pn()}return c(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),xs.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return xs.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return xs.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),xs.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),xs.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Ad(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,xs.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),xs.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,xs.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),xs.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return xs.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return xs.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),xs.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),xs.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),xs.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return xs.resolve(n)}},{key:"containsKey",value:function(e,t){return xs.resolve(this.Ps.containsKey(t))}}]),e}(),$d=function(){function e(t,n){var r=this;u(this,e),this.Vs={},this.overlays={},this.Ss=new Os(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Zd(this),this.indexManager=new ad,this.remoteDocumentCache=new Yd((function(e){return r.referenceDelegate.xs(e)})),this.It=new _h(n),this.Ns=new Hd(this.It)}return c(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Kd,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Jd(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Pu("MemoryPersistence","Starting transaction:",e);var i=new ep(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return xs.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ep=function(e){f(n,e);var t=y(n);function n(e){var r;return u(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return c(n)}(ks),tp=function(){function e(t){u(this,e),this.persistence=t,this.Fs=new Gd,this.$s=null}return c(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Bu()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),xs.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),xs.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),xs.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xs.forEach(this.Ls,(function(r){var i=ss.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,rs.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return xs.or([function(){return xs.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),np=function(){function e(t){u(this,e),this.It=t}return c(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new As("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nh,{unique:!0}),e.createObjectStore("documentMutations")}(e),rp(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=xs.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),rp(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rs.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nh,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return xs.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:yh});t.createIndex("collectionPathOverlayIndex",gh,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",kh,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:oh});t.createIndex("documentKeyIndex",uh),t.createIndex("collectionGroupIndex",sh)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:dh}).createIndex("sequenceNumberIndex",ph,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:vh}).createIndex("documentKeyIndex",mh,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=yd(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return xs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return xs.forEach(r,(function(r){Fu(r.userId===n.userId);var i=Mh(t.It,r);return md(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new as(n),o=function(e){return[0,Zf(e)]}(a);r.push(t.get(o).next((function(n){return n?xs.resolve():function(n){return t.put({targetId:0,path:Zf(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return xs.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:hh});var n=t.store("collectionParents"),r=new od,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Zf(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new as(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=x(e,3),r=(n[0],n[1]),a=(n[2],th(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Bh(r),a=Fh(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new ss(as.fromString(i.document.name).popFirst(5)):i.noDocument?ss.fromSegments(i.noDocument.path):i.unknownDocument?ss.fromSegments(i.unknownDocument.path):Bu()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return xs.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Md(this.It),a=new $d(tp.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:sf();Mh(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),xs.forEach(r,(function(e,r){var o=new Nu(r),u=Kh.oe(n.It,o),s=a.getIndexManager(o),c=gd.oe(o,n.It,s,a.referenceDelegate);return new Qd(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Eh(t,Os.at),e).next()}))}))}}]),e}();function rp(e){e.createObjectStore("targetDocuments",{keyPath:lh}).createIndex("documentTargetsIndex",fh,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ch,{unique:!0}),e.createObjectStore("targetGlobal")}var ip="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ap=function(){function e(t,n,r,i,a,o,s,c,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(u(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=s,this.Js=l,this.Ys=f,this.Xs=h,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Vu(ju.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Rd(this,i),this.ii=n+"main",this.It=new _h(c),this.ri=new Is(this.ii,this.Xs,new np(this.It)),this.Cs=new Id(this.referenceDelegate,this.It),this.remoteDocumentCache=Md(this.It),this.Ns=new zh,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===f&&Ou("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return c(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Vu(ju.FAILED_PRECONDITION,ip);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Os(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Ke(Ve().mark((function n(r){return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Ke(Ve().mark((function t(n){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return up(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Ts(t))return Pu("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Pu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return op(e).get("owner").next((function(e){return xs.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return up(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Ke(Ve().mark((function e(){var t,n,r,i,a=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Sh(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return xs.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Ge(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?xs.resolve(!0):op(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Vu(ju.FAILED_PRECONDITION,ip);return!1}}return!(!t.networkEnabled||!t.inForeground)||up(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Pu("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ke(Ve().mark((function e(){var t=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Eh(e,Os.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return up(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return gd.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new sd(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Kh.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Pu("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Ih:14===i?Ah:13===i?xh:12===i?wh:11===i?bh:void Bu();return this.ri.runTransaction(e,o,u,(function(i){return a=new Eh(i,r.Ss?r.Ss.next():Os.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Ou("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Vu(ju.FAILED_PRECONDITION,gs);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return op(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Vu(ju.FAILED_PRECONDITION,ip)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return op(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=op(e);return n.get("owner").next((function(e){return t.mi(e)?(Pu("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):xs.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ou("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Ot()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Pu("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ou("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Fr){Ou("Failed to set zombie client id.",Fr)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Fr){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Is.C()}}]),e}();function op(e){return Sh(e,"owner")}function up(e){return Sh(e,"clientMetadata")}function sp(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var cp=function(){function e(t,n,r,i){u(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return c(e,null,[{key:"Ci",value:function(t,n){var r,i=sf(),a=sf(),o=Ge(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),lp=function(){function e(){u(this,e),this.xi=!1}return c(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if($c(t))return xs.resolve(null);var r=il(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=al(t,null,"F"),r=il(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=sf.apply(void 0,I(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,al(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return $c(t)||r.isEqual(rs.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Ru()<=hn.DEBUG&&Pu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sl(t)),i.Bi(e,o,t,ps(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Vs(fl(e));return t.forEach((function(t,r){cl(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Ru()<=hn.DEBUG&&Pu("QueryEngine","Using full collection scan to execute query:",sl(t)),this.Ni.getDocumentsMatchingQuery(e,t,ms.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),fp=function(){function e(t,n,r,i){u(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Fs($u),this.qi=new Yl((function(e){return Dc(e)}),_c),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return c(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qd(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function hp(e,t,n,r){return new fp(e,t,n,r)}function dp(e,t){return pp.apply(this,arguments)}function pp(){return pp=Ke(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=sf(),s=Ge(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Ge(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Ge(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Ge(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),pp.apply(this,arguments)}function vp(e,t){var n=Uu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=xs.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Fu(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=sf(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function mp(e){var t=Uu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function yp(e,t){var n=Uu(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Hs.EMPTY_BYTE_STRING,rs.min()).withLastLimboFreeSnapshotVersion(rs.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Zl(),s=sf();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(gp(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(rs.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return xs.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function gp(e,t,n){var r=sf(),i=sf();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Zl();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(rs.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Pu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function kp(e,t){var n=Uu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function bp(e,t){var n=Uu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,xs.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Dh(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function wp(e,t,n){return xp.apply(this,arguments)}function xp(){return xp=Ke(Ve().mark((function e(t,n,r){var i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Uu(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ts(e.t1)){e.next=12;break}throw e.t1;case 12:Pu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),xp.apply(this,arguments)}function Ap(e,t,n){var r=Uu(e),i=rs.min(),a=sf();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Uu(e),i=r.qi.get(n);return void 0!==i?xs.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,il(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:rs.min(),n?a:sf())})).next((function(e){return Sp(r,ll(t),e),{documents:e,Hi:a}}))}))}function Ip(e,t){var n=Uu(e),r=Uu(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function Ep(e,t){var n=Uu(e),r=n.Ki.get(t)||rs.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,ps(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Sp(n,t,e),e}))}function Sp(e,t,n){var r=e.Ki.get(t)||rs.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Tp(e,t,n,r){return Cp.apply(this,arguments)}function Cp(){return Cp=Ke(Ve().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Uu(t),o=sf(),u=Zl(),s=Ge(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,bp(a,function(e){return il(Zc(as.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return gp(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Cp.apply(this,arguments)}function Np(e,t){return Dp.apply(this,arguments)}function Dp(){return Dp=Ke(Ve().mark((function e(t,n){var r,i,a,o=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:sf(),e.next=3,bp(t,il(Uh(n.bundledQuery)));case 3:return i=e.sent,a=Uu(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Sf(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Hs.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Dp.apply(this,arguments)}function _p(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Rp(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Pp(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Op=function(){function e(t,n,r,i){u(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return c(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Vu(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ou("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Lp=function(){function e(t,n,r){u(this,e),this.targetId=t,this.state=n,this.error=r}return c(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Vu(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ou("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Mp=function(){function e(t,n){u(this,e),this.clientId=t,this.activeTargetIds=n}return c(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=lf(),o=0;i&&o<r.activeTargetIds.length;++o)i=rc(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ou("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Bp=function(){function e(t,n){u(this,e),this.clientId=t,this.onlineState=n}return c(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ou("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Fp=function(){function e(){u(this,e),this.activeTargetIds=lf()}return c(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Up=function(){function e(t,n,r,i,a){u(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Fs($u),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=_p(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Fp),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return c(e,[{key:"start",value:function(){var e=Ke(Ve().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Ge(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(_p(this.persistenceKey,i)))&&(o=Mp.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Ge(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Pp(this.persistenceKey,e));if(n){var r=Lp.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Pp(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Pu("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Pu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Pu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Pu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Ou("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Ke(Ve().mark((function e(){var r,i,a,o,u,s,c;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=Os.at;if(null!=e)try{var n=JSON.parse(e);Fu("number"==typeof n),t=n}catch(e){Ou("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Os.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Op(this.currentUser,e,t,n),i=Rp(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Rp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Pp(this.persistenceKey,e),i=new Lp(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return Mp.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Op.Zi(new Nu(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Lp.Zi(r,t)}},{key:"yr",value:function(e){return Bp.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Pu("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=lf();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),jp=function(){function e(){u(this,e),this.Lr=new Fp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return c(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Fp,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Vp=function(){function e(){u(this,e)}return c(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),qp=function(){function e(){var t=this;u(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return c(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Pu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ge(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Pu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ge(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),zp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Qp=function(){function e(t){u(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return c(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Hp=function(e){f(n,e);var t=y(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return c(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Tu;o.setWithCredentials(!0),o.listenOnce(xu.COMPLETE,(function(){var t;try{switch(o.getLastErrorCode()){case wu.NO_ERROR:var n=o.getResponseJson();Pu("Connection","XHR received:",JSON.stringify(n)),i(n);break;case wu.TIMEOUT:Pu("Connection",'RPC "'+e+'" timed out'),a(new Vu(ju.DEADLINE_EXCEEDED,"Request time out"));break;case wu.HTTP_ERROR:var r=o.getStatus();if(Pu("Connection",'RPC "'+e+'" failed with status:',r,"response text:",o.getResponseText()),r>0){var u=o.getResponseJson();Array.isArray(u)&&(u=u[0]);var s=null===(t=u)||void 0===t?void 0:t.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ju).indexOf(t)>=0?t:ju.UNKNOWN}(s.status);a(new Vu(c,s.message))}else a(new Vu(ju.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Vu(ju.UNAVAILABLE,"Connection failed."));break;default:Bu()}}finally{Pu("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ku(),a=bu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Eu({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Pu("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Qp({Hr:function(e){l?Pu("Connection","Not sending because WebChannel is closed:",e):(c||(Pu("Connection","Opening WebChannel transport."),s.open(),c=!0),Pu("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Su.EventType.OPEN,(function(){l||Pu("Connection","WebChannel transport opened.")})),h(s,Su.EventType.CLOSE,(function(){l||(l=!0,Pu("Connection","WebChannel transport closed"),f.io())})),h(s,Su.EventType.ERROR,(function(e){l||(l=!0,Lu("Connection","WebChannel transport errored:",e),f.io(new Vu(ju.UNAVAILABLE,"The operation could not be completed")))})),h(s,Su.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Fu(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Pu("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=zl[e];if(void 0!==t)return Jl(t)}(a),u=i.message;void 0===o&&(o=ju.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Vu(o,u)),s.close()}else Pu("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Au.STAT_EVENT,(function(e){e.stat===Iu.PROXY?Pu("Connection","Detected buffering proxy"):e.stat===Iu.NOPROXY&&Pu("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){u(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return c(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Pu("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Pu("RestConnection","Received: ",e),e}),(function(t){throw Lu("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Du,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=zp[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Kp(){return"undefined"!=typeof window?window:null}function Gp(){return"undefined"!=typeof document?document:null}function Wp(e){return new xf(e,!0)}var Jp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;u(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return c(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Pu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Yp=function(){function e(t,n,r,i,a,o,s,c){u(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Jp(t,n)}return c(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===ju.RESOURCE_EXHAUSTED?(Ou(n.toString()),Ou("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===ju.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=x(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Vu(ju.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Ke(Ve().mark((function t(){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Pu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Pu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Xp=function(e){f(n,e);var t=y(n);function n(e,r,i,a,o,s){var c;return u(this,n),(c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).It=o,c}return c(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Bu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Fu(void 0===t||"string"==typeof t),Hs.fromBase64String(t||"")):(Fu(void 0===t||t instanceof Uint8Array),Hs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?ju.UNKNOWN:Jl(e.code);return new Vu(t,e.message||"")}(o);n=new vf(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Df(e,s.document.name),l=Sf(s.document.updateTime),f=new Ec({mapValue:{fields:s.document.fields}}),h=Tc.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new df(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Df(e,v.document),y=v.readTime?Sf(v.readTime):rs.min(),g=Tc.newNoDocument(m,y),k=v.removedTargetIds||[];n=new df([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Df(e,b.document),x=b.removedTargetIds||[];n=new df([],x,w,null)}else{if(!("filter"in t))return Bu();t.filter;var A=t.filter;A.targetId;var I=A.count||0,E=new Gl(I),S=A.targetId;n=new pf(S,E)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return rs.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?rs.min():t.readTime?Sf(t.readTime):rs.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Pf(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=Rc(r)?{documents:jf(e,r)}:{query:Vf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=If(e,t.resumeToken):t.snapshotVersion.compareTo(rs.min())>0&&(n.readTime=Af(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Pf(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(Yp),Zp=function(e){f(n,e);var t=y(n);function n(e,r,i,a,o,s){var c;return u(this,n),(c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).It=o,c.Jo=!1,c}return c(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Tt(h(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Fu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Fu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Sf(e.updateTime):Sf(t);return n.isEqual(rs.min())&&(n=Sf(t)),new Nl(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Sf(e.commitTime);return this.listener.Zo(n,t)}return Fu(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Pf(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ff(t.It,e)}))};this.Bo(n)}}]),n}(Yp),$p=function(e){f(n,e);var t=y(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return c(n,[{key:"su",value:function(){if(this.nu)throw new Vu(ju.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=x(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ju.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Vu(ju.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=x(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ju.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Vu(ju.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return c((function e(){u(this,e)}))}());var ev=function(){function e(t,n){u(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return c(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Ou(t),this.ou=!1):Pu("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),tv=c((function e(t,n,r,i,a){var o=this;u(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=hv(o),!e.t0){e.next=5;break}return Pu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Uu(t))._u.add(4),e.next=4,iv(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,nv(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new ev(r,i)}));function nv(e){return rv.apply(this,arguments)}function rv(){return rv=Ke(Ve().mark((function e(t){var n,r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hv(t)){e.next=18;break}n=Ge(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),rv.apply(this,arguments)}function iv(e){return av.apply(this,arguments)}function av(){return av=Ke(Ve().mark((function e(t){var n,r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ge(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),av.apply(this,arguments)}function ov(e,t){var n=Uu(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),fv(n)?lv(n):Vv(n).ko()&&sv(n,t))}function uv(e,t){var n=Uu(e),r=Vv(n);n.du.delete(t),r.ko()&&cv(n,t),0===n.du.size&&(r.ko()?r.Fo():hv(n)&&n.gu.set("Unknown"))}function sv(e,t){e.yu.Mt(t.targetId),Vv(e).zo(t)}function cv(e,t){e.yu.Mt(t),Vv(e).Ho(t)}function lv(e){e.yu=new yf({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),Vv(e).start(),e.gu.uu()}function fv(e){return hv(e)&&!Vv(e).No()&&e.du.size>0}function hv(e){return 0===Uu(e)._u.size}function dv(e){e.yu=void 0}function pv(e){return vv.apply(this,arguments)}function vv(){return vv=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){sv(t,e)}));case 1:case"end":return e.stop()}}),e)}))),vv.apply(this,arguments)}function mv(e,t){return yv.apply(this,arguments)}function yv(){return yv=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dv(t),fv(t)?(t.gu.hu(n),lv(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),yv.apply(this,arguments)}function gv(e,t,n){return kv.apply(this,arguments)}function kv(){return kv=Ke(Ve().mark((function e(t,n,r){var i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof vf&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ke(Ve().mark((function e(t,n){var r,i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ge(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Pu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,bv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof df?t.yu.Gt(n):n instanceof pf?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(rs.min())){e.next=29;break}return e.prev=14,e.next=17,mp(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Hs.EMPTY_BYTE_STRING,n.snapshotVersion)),cv(e,t);var r=new Dh(n.target,t,1,n.sequenceNumber);sv(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Pu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,bv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),kv.apply(this,arguments)}function bv(e,t,n){return wv.apply(this,arguments)}function wv(){return wv=Ke(Ve().mark((function e(t,n,r){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ts(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,iv(t);case 5:t.gu.set("Offline"),r||(r=function(){return mp(t.localStore)}),t.asyncQueue.enqueueRetryable(Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,nv(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}function xv(e,t){return t().catch((function(n){return bv(e,n,t)}))}function Av(e){return Iv.apply(this,arguments)}function Iv(){return Iv=Ke(Ve().mark((function e(t){var n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Uu(t),r=qv(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Ev(n)){e.next=19;break}return e.prev=3,e.next=6,kp(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,Sv(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,bv(n,e.t0);case 17:e.next=2;break;case 19:Tv(n)&&Cv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Iv.apply(this,arguments)}function Ev(e){return hv(e)&&e.fu.length<10}function Sv(e,t){e.fu.push(t);var n=qv(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Tv(e){return hv(e)&&!qv(e).No()&&e.fu.length>0}function Cv(e){qv(e).start()}function Nv(e){return Dv.apply(this,arguments)}function Dv(){return Dv=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qv(t).eu();case 1:case"end":return e.stop()}}),e)}))),Dv.apply(this,arguments)}function _v(e){return Rv.apply(this,arguments)}function Rv(){return Rv=Ke(Ve().mark((function e(t){var n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qv(t),r=Ge(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Rv.apply(this,arguments)}function Pv(e,t,n){return Ov.apply(this,arguments)}function Ov(){return Ov=Ke(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Ch.from(i,n,r),e.next=3,xv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Av(t);case 5:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}function Lv(e,t){return Mv.apply(this,arguments)}function Mv(){return Mv=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&qv(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ke(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Wl(i=n.code)||i===ju.ABORTED){e.next=7;break}return r=t.fu.shift(),qv(t).Mo(),e.next=5,xv(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Av(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Tv(t)&&Cv(t);case 5:case"end":return e.stop()}}),e)}))),Mv.apply(this,arguments)}function Bv(e,t){return Fv.apply(this,arguments)}function Fv(){return Fv=Ke(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Uu(t)).asyncQueue.verifyOperationInProgress(),Pu("RemoteStore","RemoteStore received new credentials"),i=hv(r),r._u.add(3),e.next=6,iv(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,nv(r);case 12:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}function Uv(e,t){return jv.apply(this,arguments)}function jv(){return jv=Ke(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uu(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,nv(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,iv(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Vv(e){return e.pu||(e.pu=function(e,t,n){var r=Uu(e);return r.su(),new Xp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:pv.bind(null,e),Zr:mv.bind(null,e),Wo:gv.bind(null,e)}),e.wu.push(function(){var t=Ke(Ve().mark((function t(n){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),fv(e)?lv(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:dv(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function qv(e){return e.Iu||(e.Iu=function(e,t,n){var r=Uu(e);return r.su(),new Zp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Nv.bind(null,e),Zr:Lv.bind(null,e),tu:_v.bind(null,e),Zo:Pv.bind(null,e)}),e.wu.push(function(){var t=Ke(Ve().mark((function t(n){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,Av(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Pu("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var zv=function(){function e(t,n,r,i,a){u(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new qu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return c(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vu(ju.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Qv(e,t){if(Ou("AsyncQueue","".concat(t,": ").concat(e)),Ts(e))return new Vu(ju.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Hv=function(){function e(t){u(this,e),this.comparator=t?function(e,n){return t(e,n)||ss.comparator(e.key,n.key)}:function(e,t){return ss.comparator(e.key,t.key)},this.keyedMap=ef(),this.sortedSet=new Fs(this.comparator)}return c(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Kv=function(){function e(){u(this,e),this.Tu=new Fs(ss.comparator)}return c(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Bu():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Gv=function(){function e(t,n,r,i,a,o,s,c,l){u(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=c,this.hasCachedResults=l}return c(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ol(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Hv.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Wv=c((function e(){u(this,e),this.Au=void 0,this.listeners=[]})),Jv=c((function e(){u(this,e),this.queries=new Yl((function(e){return ul(e)}),ol),this.onlineState="Unknown",this.Ru=new Set}));function Yv(e,t){return Xv.apply(this,arguments)}function Xv(){return Xv=Ke(Ve().mark((function e(t,n){var r,i,a,o,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Wv),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Qv(e.t0,"Initialization of query '".concat(sl(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&nm(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Xv.apply(this,arguments)}function Zv(e,t){return $v.apply(this,arguments)}function $v(){return $v=Ke(Ve().mark((function e(t,n){var r,i,a,o,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),$v.apply(this,arguments)}function em(e,t){var n,r=Uu(e),i=!1,a=Ge(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Ge(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&nm(r)}function tm(e,t,n){var r=Uu(e),i=r.queries.get(t);if(i){var a,o=Ge(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function nm(e){e.Ru.forEach((function(e){e.next()}))}var rm=function(){function e(t,n,r){u(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return c(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ge(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Gv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Gv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),im=function(){function e(t,n){u(this,e),this.ku=t,this.byteLength=n}return c(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),am=function(){function e(t){u(this,e),this.It=t}return c(e,[{key:"Ji",value:function(e){return Df(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Mf(this.It,e.document,!1):Tc.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Sf(e)}}]),e}(),om=function(){function e(t,n,r){u(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=um(t)}return c(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=as.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new am(this.It),i=Ge(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Ge(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||sf()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ke(Ve().mark((function e(){var t,n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tp(this.localStore,new am(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Ge(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Np(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function um(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var sm=c((function e(t){u(this,e),this.key=t})),cm=c((function e(t){u(this,e),this.key=t})),lm=function(){function e(t,n){u(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=sf(),this.mutatedKeys=sf(),this.Gu=fl(t),this.Qu=new Hv(this.Gu)}return c(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Kv,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=cl(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bu()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new Gv(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Kv,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=sf(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new cm(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new sm(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=sf();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return Gv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),fm=c((function e(t,n,r){u(this,e),this.query=t,this.targetId=n,this.view=r})),hm=c((function e(t){u(this,e),this.key=t,this.nc=!1})),dm=function(){function e(t,n,r,i,a,o){u(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Yl((function(e){return ul(e)}),ol),this.rc=new Map,this.oc=new Set,this.uc=new Fs(ss.comparator),this.cc=new Map,this.ac=new Gd,this.hc={},this.lc=new Map,this.fc=Ad.vn(),this.onlineState="Unknown",this.dc=void 0}return c(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function pm(e,t){return vm.apply(this,arguments)}function vm(){return vm=Ke(Ve().mark((function e(t,n){var r,i,a,o,u,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=uy(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,bp(r.localStore,il(n));case 8:return u=e.sent,r.isPrimaryClient&&ov(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,mm(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),vm.apply(this,arguments)}function mm(e,t,n,r,i){return ym.apply(this,arguments)}function ym(){return ym=Ke(Ve().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Ke(Ve().mark((function e(t,n,r,i){var a,o,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Ap(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Bm(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Ap(t.localStore,n,!0);case 3:return o=e.sent,u=new lm(n,o.Hi),s=u.Wu(o.documents),c=hf.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),Bm(t,r,l.Xu),f=new fm(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),ym.apply(this,arguments)}function gm(e,t){return km.apply(this,arguments)}function km(){return km=Ke(Ve().mark((function e(t,n){var r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uu(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!ol(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,wp(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),uv(r.remoteStore,i.targetId),Lm(r,i.targetId)})).catch(bs);case 9:e.next=14;break;case 11:return Lm(r,i.targetId),e.next=14,wp(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}function bm(e,t,n){return wm.apply(this,arguments)}function wm(){return wm=Ke(Ve().mark((function e(t,n,r){var i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sy(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Uu(e),a=ns.now(),o=t.reduce((function(e,t){return e.add(t.key)}),sf());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Zl(),s=sf();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Ge(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ml(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Ul(c.key,l,Sc(l.value.mapValue),Dl.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:tf(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Fs($u)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,jm(i,a.changes);case 9:return e.next=11,Av(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Qv(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),wm.apply(this,arguments)}function xm(e,t){return Am.apply(this,arguments)}function Am(){return Am=Ke(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uu(t),e.prev=1,e.next=4,yp(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Fu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Fu(n.nc):e.removedDocuments.size>0&&(Fu(n.nc),n.nc=!1))})),e.next=8,jm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,bs(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Am.apply(this,arguments)}function Im(e,t,n){var r=Uu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Uu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ge(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&nm(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Em(e,t,n){return Sm.apply(this,arguments)}function Sm(){return Sm=Ke(Ve().mark((function e(t,n,r){var i,a,o,u,s,c;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Uu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Fs(ss.comparator)).insert(o,Tc.newNoDocument(o,rs.min())),s=sf().add(o),c=new ff(rs.min(),new Map,new Vs($u),u,s),e.next=9,xm(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),Um(i),e.next=16;break;case 14:return e.next=16,wp(i.localStore,n,!1).then((function(){return Lm(i,n,r)})).catch(bs);case 16:case"end":return e.stop()}}),e)}))),Sm.apply(this,arguments)}function Tm(e,t){return Cm.apply(this,arguments)}function Cm(){return Cm=Ke(Ve().mark((function e(t,n){var r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uu(t),i=n.batch.batchId,e.prev=1,e.next=4,vp(r.localStore,n);case 4:return a=e.sent,Om(r,i,null),Pm(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,jm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Cm.apply(this,arguments)}function Nm(e,t,n){return Dm.apply(this,arguments)}function Dm(){return Dm=Ke(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Uu(t),e.prev=1,e.next=4,function(e,t){var n=Uu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Fu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Om(i,n,r),Pm(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,jm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Dm.apply(this,arguments)}function _m(e,t){return Rm.apply(this,arguments)}function Rm(){return Rm=Ke(Ve().mark((function e(t,n){var r,i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hv((r=Uu(t)).remoteStore)||Pu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Uu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Qv(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Rm.apply(this,arguments)}function Pm(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function Om(e,t,n){var r=Uu(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Lm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ge(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||Mm(e,t)}))}function Mm(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(uv(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Um(e))}function Bm(e,t,n){var r,i=Ge(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof sm?(e.ac.addReference(a.key,t),Fm(e,a)):a instanceof cm?(Pu("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||Mm(e,a.key)):Bu()}}catch(o){i.e(o)}finally{i.f()}}function Fm(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Pu("SyncEngine","New document in limbo: "+n),e.oc.add(r),Um(e))}function Um(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new ss(as.fromString(t)),r=e.fc.next();e.cc.set(r,new hm(n)),e.uc=e.uc.insert(n,r),ov(e.remoteStore,new Dh(il(Zc(n.path)),r,2,Os.at))}}function jm(e,t,n){return Vm.apply(this,arguments)}function Vm(){return Vm=Ke(Ve().mark((function e(t,n,r){var i,a,o,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Uu(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=cp.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Ke(Ve().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return xs.forEach(n,(function(t){return xs.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return xs.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ts(e.t0)){e.next=10;break}throw e.t0;case 10:Pu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ge(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Vm.apply(this,arguments)}function qm(e,t){return zm.apply(this,arguments)}function zm(){return zm=Ke(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Uu(t)).currentUser.isEqual(n)){e.next=11;break}return Pu("SyncEngine","User change. New user:",n.toKey()),e.next=5,dp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Vu(ju.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,jm(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),zm.apply(this,arguments)}function Qm(e,t){var n=Uu(e),r=n.cc.get(t);if(r&&r.nc)return sf().add(r.key);var i=sf(),a=n.rc.get(t);if(!a)return i;var o,u=Ge(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function Hm(e,t){return Km.apply(this,arguments)}function Km(){return Km=Ke(Ve().mark((function e(t,n){var r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uu(t),e.next=3,Ap(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&Bm(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),Km.apply(this,arguments)}function Gm(e,t){return Wm.apply(this,arguments)}function Wm(){return Wm=Ke(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uu(t),e.abrupt("return",Ep(r.localStore,n).then((function(e){return jm(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Wm.apply(this,arguments)}function Jm(e,t,n,r){return Ym.apply(this,arguments)}function Ym(){return Ym=Ke(Ve().mark((function e(t,n,r,i){var a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Uu(t),e.next=3,function(e,t){var n=Uu(e),r=Uu(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):xs.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Av(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Om(a,n,i||null),Pm(a,n),function(e,t){Uu(Uu(e).mutationQueue).An(t)}(a.localStore,n)):Bu();case 11:return e.next=13,jm(a,o);case 13:e.next=16;break;case 15:Pu("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Ym.apply(this,arguments)}function Xm(e,t){return Zm.apply(this,arguments)}function Zm(){return Zm=Ke(Ve().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(uy(r=Uu(t)),sy(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,$m(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,Uv(r.remoteStore,!0);case 9:o=Ge(a);try{for(o.s();!(u=o.n()).done;)s=u.value,ov(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Lm(r,t),wp(r.localStore,t,!0)})),uv(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,$m(r,c);case 21:return function(e){var t=Uu(e);t.cc.forEach((function(e,n){uv(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Fs(ss.comparator)}(r),r.dc=!1,e.next=25,Uv(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}function $m(e,t,n){return ey.apply(this,arguments)}function ey(){return ey=Ke(Ve().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Uu(t),a=[],o=[],u=Ge(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,bp(i.localStore,il(f[0]));case 11:l=e.sent,h=Ge(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,Hm(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ip(i.localStore,c);case 36:return y=e.sent,e.next=39,bp(i.localStore,y);case 39:return l=e.sent,e.next=42,mm(i,ty(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),ey.apply(this,arguments)}function ty(e){return Xc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ny(e){var t=Uu(e);return Uu(Uu(t.localStore).persistence).vi()}function ry(e,t,n,r){return iy.apply(this,arguments)}function iy(){return iy=Ke(Ve().mark((function e(t,n,r,i){var a,o,u,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Uu(t)).dc){e.next=3;break}return e.abrupt("return",void Pu("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Ep(a.localStore,ll(o[0]));case 10:return u=e.sent,s=ff.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Hs.EMPTY_BYTE_STRING),e.next=14,jm(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,wp(a.localStore,n,!0);case 17:return Lm(a,n,i),e.abrupt("break",20);case 19:Bu();case 20:case"end":return e.stop()}}),e)}))),iy.apply(this,arguments)}function ay(e,t,n){return oy.apply(this,arguments)}function oy(){return oy=Ke(Ve().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=uy(t)).dc){e.next=45;break}a=Ge(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return Pu("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Ip(i.localStore,u);case 12:return s=e.sent,e.next=15,bp(i.localStore,s);case 15:return c=e.sent,e.next=18,mm(i,ty(s),c.targetId,!1,c.resumeToken);case 18:ov(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ge(r),e.prev=30,h=Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,wp(i.localStore,t,!1).then((function(){uv(i.remoteStore,t),Lm(i,t)})).catch(bs);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),oy.apply(this,arguments)}function uy(e){var t=Uu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Em.bind(null,t),t.sc.Wo=em.bind(null,t.eventManager),t.sc.wc=tm.bind(null,t.eventManager),t}function sy(e){var t=Uu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Tm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nm.bind(null,t),t}function cy(e,t,n){var r=Uu(e);(function(){var e=Ke(Ve().mark((function e(t,n,r){var i,a,o,u,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Uu(e),r=Sf(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(um(i)),a=new om(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,jm(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Uu(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Lu("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var ly=function(){function e(){u(this,e),this.synchronizeTabs=!1}return c(e,[{key:"initialize",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=Wp(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return hp(this.persistence,new lp,e.initialUser,this.It)}},{key:"yc",value:function(e){return new $d(tp.Bs,this.It)}},{key:"gc",value:function(e){return new jp}},{key:"terminate",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fy=function(e){f(n,e);var t=y(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return c(n,[{key:"initialize",value:function(){var e=Ke(Ve().mark((function e(t){var r=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt(h(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,sy(this.Ac.syncEngine);case 6:return e.next=8,Av(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return hp(this.persistence,new lp,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Dd(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Ps(t,this.persistence);return new Rs(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=sp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vd.withCacheSize(this.cacheSizeBytes):vd.DEFAULT;return new ap(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Kp(),Gp(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new jp}}]),n}(ly),hy=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return c(n,[{key:"initialize",value:function(){var e=Ke(Ve().mark((function e(t){var r,i=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt(h(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Up,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:Jm.bind(null,r),$r:ry.bind(null,r),Br:ay.bind(null,r),vi:ny.bind(null,r),Mr:Gm.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xm(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=Kp();if(!Up.C(t))throw new Vu(ju.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Up(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(fy),dy=function(){function e(){u(this,e)}return c(e,[{key:"initialize",value:function(){var e=Ke(Ve().mark((function e(t,n){var r=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Im(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=qm.bind(null,this.syncEngine),e.next=12,Uv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Jv}},{key:"createDatastore",value:function(e){var t,n=Wp(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Hp(t));return function(e,t,n,r){return new $p(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Im(o.syncEngine,e,0)},a=qp.C()?new qp:new Vp,new tv(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new dm(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Uu(t),Pu("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,iv(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function py(e,t,n){if(!n)throw new Vu(ju.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function vy(e,t,n,r){if(!0===t&&!0===r)throw new Vu(ju.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function my(e){if(!ss.isDocumentKey(e))throw new Vu(ju.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function yy(e){if(ss.isDocumentKey(e))throw new Vu(ju.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function gy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Bu()}function ky(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vu(ju.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gy(e);throw new Vu(ju.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function by(e,t){if(t<=0)throw new Vu(ju.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var wy=new Map,xy=function(){function e(t){var n;if(u(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Vu(ju.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Vu(ju.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,vy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return c(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Ay=function(){function e(t,n,r,i){u(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xy({}),this._settingsFrozen=!1}return c(e,[{key:"app",get:function(){if(!this._app)throw new Vu(ju.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Vu(ju.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qu;switch(e.type){case"gapi":var t=e.client;return new Wu(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Vu(ju.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=wy.get(e);t&&(Pu("ComponentProvider","Removing Datastore"),wy.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Iy(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=ky(e,Ay))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Lu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Nu.MOCK_USER;else{o=Qt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Vu(ju.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Nu(s)}e._authCredentials=new Hu(new zu(o,u))}}var Ey=function(){function e(t,n,r){u(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return c(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ty(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Sy=function(){function e(t,n,r){u(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return c(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ty=function(e){f(n,e);var t=y(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,e,r,Zc(i)))._path=i,a.type="collection",a}return c(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ey(this.firestore,null,new ss(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Sy);function Cy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=un(e),py("collection","path",t),e instanceof Ay){var a=as.fromString.apply(as,[t].concat(r));return yy(a),new Ty(e,null,a)}if(!(e instanceof Ey||e instanceof Ty))throw new Vu(ju.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(as.fromString.apply(as,[t].concat(r)));return yy(o),new Ty(e.firestore,null,o)}function Ny(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=un(e),1===arguments.length&&(t=Zu.R()),py("doc","path",t),e instanceof Ay){var a=as.fromString.apply(as,[t].concat(r));return my(a),new Ey(e,null,new ss(a))}if(!(e instanceof Ey||e instanceof Ty))throw new Vu(ju.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(as.fromString.apply(as,[t].concat(r)));return my(o),new Ey(e.firestore,e instanceof Ty?e.converter:null,new ss(o))}function Dy(e,t){return e=un(e),t=un(t),(e instanceof Ey||e instanceof Ty)&&(t instanceof Ey||t instanceof Ty)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function _y(e,t){return e=un(e),t=un(t),e instanceof Sy&&t instanceof Sy&&e.firestore===t.firestore&&ol(e._query,t._query)&&e.converter===t.converter}function Ry(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ke(Ve().mark((function r(){var i;return Ve().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Py=function(){function e(t){u(this,e),this.observer=t,this.muted=!1}return c(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Ou("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Oy=function(){function e(t,n){var r=this;u(this,e),this.Pc=t,this.It=n,this.metadata=new qu,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return c(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Ke(Ve().mark((function e(){var t,n,r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new im(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Ke(Ve().mark((function e(){var t,n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Ke(Ve().mark((function e(){var t,n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ly=function(){function e(t){u(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return c(e,[{key:"lookup",value:function(){var e=Ke(Ve().mark((function e(t){var n,r=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Vu(ju.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ke(Ve().mark((function e(t,n){var r,i,a,o,u,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uu(t),i=Pf(r.It)+"/documents",a={documents:n.map((function(e){return Nf(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Bf(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Fu(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Hl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ke(Ve().mark((function e(){var t,n=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ss.fromPath(t);n.mutations.push(new Kl(r,n.precondition(r)))})),e.next=7,function(){var e=Ke(Ve().mark((function e(t,n){var r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uu(t),i=Pf(r.It)+"/documents",a={writes:n.map((function(e){return Ff(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bu();t=rs.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Vu(ju.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(rs.min())?Dl.exists(!1):Dl.updateTime(t):Dl.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rs.min()))throw new Vu(ju.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dl.updateTime(t)}return Dl.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),My=function(){function e(t,n,r,i,a){u(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new Jp(this.asyncQueue,"transaction_retry")}return c(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(Ke(Ve().mark((function t(){var n,r;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Ly(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!tc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Wl(t)}return!1}}]),e}(),By=function(){function e(t,n,r,i){var a=this;u(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nu.UNAUTHENTICATED,this.clientId=Zu.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Pu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return c(e,[{key:"getConfiguration",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Vu(ju.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new qu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ke(Ve().mark((function n(){var r;return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Qv(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Fy(e,t){return Uy.apply(this,arguments)}function Uy(){return Uy=Ke(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Pu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,dp(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Uy.apply(this,arguments)}function jy(e,t){return Vy.apply(this,arguments)}function Vy(){return Vy=Ke(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,qy(t);case 3:return r=e.sent,Pu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Bv(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Bv(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Vy.apply(this,arguments)}function qy(e){return zy.apply(this,arguments)}function zy(){return zy=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Pu("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Fy(t,new ly);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),zy.apply(this,arguments)}function Qy(e){return Hy.apply(this,arguments)}function Hy(){return Hy=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Pu("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,jy(t,new dy);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function Ky(e){return qy(e).then((function(e){return e.persistence}))}function Gy(e){return qy(e).then((function(e){return e.localStore}))}function Wy(e){return Qy(e).then((function(e){return e.remoteStore}))}function Jy(e){return Qy(e).then((function(e){return e.syncEngine}))}function Yy(e){return Qy(e).then((function(e){return e.datastore}))}function Xy(e){return Zy.apply(this,arguments)}function Zy(){return Zy=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qy(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=pm.bind(null,n.syncEngine),r.onUnlisten=gm.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Zy.apply(this,arguments)}function $y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new qu;return e.asyncQueue.enqueueAndForget(Ke(Ve().mark((function i(){return Ve().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Py({next:function(a){t.enqueueAndForget((function(){return Zv(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Vu(ju.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Vu(ju.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new rm(Zc(n.path),a,{includeMetadataChanges:!0,Nu:!0});return Yv(e,o)},i.next=3,Xy(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function eg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new qu;return e.asyncQueue.enqueueAndForget(Ke(Ve().mark((function i(){return Ve().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Py({next:function(n){t.enqueueAndForget((function(){return Zv(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Vu(ju.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new rm(n,a,{includeMetadataChanges:!0,Nu:!0});return Yv(e,o)},i.next=3,Xy(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var tg=function(){function e(){var t=this;u(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Jp(this,"async_queue_retry"),this.Wc=function(){var e=Gp();e&&Pu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=Gp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return c(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=Gp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new qu;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Ke(Ve().mark((function e(){var t=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ts(e.t0)){e.next=12;break}throw e.t0;case 12:Pu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ou("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=zv.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&Bu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Ge(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ge(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function ng(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ge(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var rg=function(){function e(){u(this,e),this._progressObserver={},this._taskCompletionResolver=new qu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return c(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ig=function(e){f(n,e);var t=y(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new tg,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return c(n,[{key:"_terminate",value:function(){return this._firestoreClient||og(this),this._firestoreClient.terminate()}}]),n}(Ay);function ag(e){return e._firestoreClient||og(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function og(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new $s(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new By(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ug(e,t,n){var r=new qu;return e.asyncQueue.enqueue(Ke(Ve().mark((function i(){var a;return Ve().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fy(e,n);case 3:return i.next=5,jy(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===ju.FAILED_PRECONDITION||e.code===ju.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Lu("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function sg(e){return function(e){return e.asyncQueue.enqueue(Ke(Ve().mark((function t(){var n,r;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ky(e);case 2:return n=t.sent,t.next=5,Wy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Uu(e);return t._u.delete(0),nv(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ag(e=ky(e,ig)))}function cg(e){return function(e){return e.asyncQueue.enqueue(Ke(Ve().mark((function t(){var n,r;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ky(e);case 2:return n=t.sent,t.next=5,Wy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Uu(t))._u.add(0),e.next=4,iv(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ag(e=ky(e,ig)))}function lg(e,t){var n=ag(e=ky(e,ig)),r=new rg;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Oy(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ry(e,t);if(e instanceof ArrayBuffer)return Ry(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Wp(t));e.asyncQueue.enqueueAndForget(Ke(Ve().mark((function t(){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=cy,t.next=3,Jy(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function fg(e,t){return function(e,t){return e.asyncQueue.enqueue(Ke(Ve().mark((function n(){return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Uu(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,Gy(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ag(e=ky(e,ig)),t).then((function(t){return t?new Sy(e,null,t.query):null}))}function hg(e){if(e._initialized||e._terminated)throw new Vu(ju.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var dg=function(){function e(t){u(this,e),this._byteString=t}return c(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Hs.fromBase64String(t))}catch(t){throw new Vu(ju.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Hs.fromUint8Array(t))}}]),e}(),pg=function(){function e(){u(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Vu(ju.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new us(n)}return c(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var vg=c((function e(t){u(this,e),this._methodName=t})),mg=function(){function e(t,n){if(u(this,e),!isFinite(t)||t<-90||t>90)throw new Vu(ju.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Vu(ju.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return c(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return $u(this._lat,e._lat)||$u(this._long,e._long)}}]),e}(),yg=/^__.*__$/,gg=function(){function e(t,n,r){u(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return c(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ul(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fl(e,this.data,t,this.fieldTransforms)}}]),e}(),kg=function(){function e(t,n,r){u(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return c(e,[{key:"toMutation",value:function(e,t){return new Ul(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function bg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bu()}}var wg=function(){function e(t,n,r,i,a,o){u(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return c(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return Vg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(bg(this.sa)&&yg.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),xg=function(){function e(t,n,r){u(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||Wp(t)}return c(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wg({sa:e,methodName:t,fa:n,path:us.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function Ag(e){var t=e._freezeSettings(),n=Wp(e._databaseId);return new xg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ig(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);Bg("Data must be an object, but it was:",o,r);var u,s,c=Lg(r,o);if(a.merge)u=new Qs(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ge(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Fg(t,d,n);if(!o.contains(p))throw new Vu(ju.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));qg(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Qs(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new gg(new Ec(c),u,s)}var Eg=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vg);function Sg(e,t,n){return new wg({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var Tg=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"_toFieldTransform",value:function(e){return new Cl(e.path,new bl)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vg),Cg=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e))._a=r,i}return c(n,[{key:"_toFieldTransform",value:function(e){var t=Sg(this,e,!0),n=this._a.map((function(e){return Og(e,t)})),r=new wl(n);return new Cl(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vg),Ng=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e))._a=r,i}return c(n,[{key:"_toFieldTransform",value:function(e){var t=Sg(this,e,!0),n=this._a.map((function(e){return Og(e,t)})),r=new Al(n);return new Cl(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vg),Dg=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e)).wa=r,i}return c(n,[{key:"_toFieldTransform",value:function(e){var t=new El(e.It,vl(e.It,this.wa));return new Cl(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vg);function _g(e,t,n,r){var i=e.da(1,t,n);Bg("Data must be an object, but it was:",i,r);var a=[],o=Ec.empty();Ms(r,(function(e,r){var u=jg(t,e,n);r=un(r);var s=i.ca(u);if(r instanceof Eg)a.push(u);else{var c=Og(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Qs(a);return new kg(o,u,i.fieldTransforms)}function Rg(e,t,n,r,i,a){var o=e.da(1,t,n),u=[Fg(t,r,n)],s=[i];if(a.length%2!=0)throw new Vu(ju.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Fg(t,a[c])),s.push(a[c+1]);for(var l=[],f=Ec.empty(),h=u.length-1;h>=0;--h)if(!qg(l,u[h])){var d=u[h],p=s[h];p=un(p);var v=o.ca(d);if(p instanceof Eg)l.push(d);else{var m=Og(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Qs(l);return new kg(f,y,o.fieldTransforms)}function Pg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Og(n,e.da(r?4:3,t))}function Og(e,t){if(Mg(e=un(e)))return Bg("Unsupported field value:",t,e),Lg(e,t);if(e instanceof vg)return function(e,t){if(!bg(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ge(e);try{for(a.s();!(n=a.n()).done;){var o=Og(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=un(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vl(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ns.fromDate(e);return{timestampValue:Af(t.It,n)}}if(e instanceof ns){var r=new ns(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Af(t.It,r)}}if(e instanceof mg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dg)return{bytesValue:If(t.It,e._byteString)};if(e instanceof Ey){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Tf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(gy(e)))}(e,t)}function Lg(e,t){var n={};return Bs(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(e,(function(e,r){var i=Og(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Mg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ns||e instanceof mg||e instanceof dg||e instanceof Ey||e instanceof vg)}function Bg(e,t,n){if(!Mg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=gy(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function Fg(e,t,n){if((t=un(t))instanceof pg)return t._internalPath;if("string"==typeof t)return jg(e,t);throw Vg("Field path arguments must be of type string or ",e,!1,void 0,n)}var Ug=new RegExp("[~\\*/\\[\\]]");function jg(e,t,n){if(t.search(Ug)>=0)throw Vg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E(pg,I(t.split(".")))._internalPath}catch(Nx){throw Vg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Vg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Vu(ju.INVALID_ARGUMENT,u+e+s)}function qg(e,t){return e.some((function(e){return e.isEqual(t)}))}var zg=function(){function e(t,n,r,i,a){u(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return c(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ey(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Qg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Hg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Qg=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"data",value:function(){return Tt(h(n.prototype),"data",this).call(this)}}]),n}(zg);function Hg(e,t){return"string"==typeof t?jg(e,t):t instanceof pg?t._internalPath:t._delegate._internalPath}function Kg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Vu(ju.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gg=c((function e(){u(this,e)}));function Wg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Jg=function(e){f(n,e);var t=y(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return c(n,[{key:"_apply",value:function(e){var t=Ag(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Vu(ju.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){ok(o,a);var s,c=[],l=Ge(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(ak(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=ak(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ok(o,a),u=Pg(n,"where",o,"in"===a||"not-in"===a);var h=Mc.create(i,a,u);return function(e,t){if(t.dt()){var n=tl(e);if(null!==n&&!n.isEqual(t.field))throw new Vu(ju.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=el(e);null!==r&&uk(e,t.field,r)}var i=function(e,t){var n,r=Ge(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Vu(ju.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Vu(ju.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Sy(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Yc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Gg);var Yg=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return c(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Vu(ju.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Vu(ju.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Kc(t,n);return function(e,t){if(null===el(e)){var n=tl(e);null!==n&&uk(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new Sy(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Yc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Gg);var Xg=function(e){f(n,e);var t=y(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return c(n,[{key:"_apply",value:function(e){return new Sy(e.firestore,e.converter,al(e._query,this.Ia,this.Ta))}}]),n}(Gg);var Zg=function(e){f(n,e);var t=y(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return c(n,[{key:"_apply",value:function(e){var t=ik(e,this.type,this.Ea,this.Aa);return new Sy(e.firestore,e.converter,function(e,t){return new Yc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Gg);function $g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Zg("startAt",t,!0)}function ek(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Zg("startAfter",t,!1)}var tk=function(e){f(n,e);var t=y(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return c(n,[{key:"_apply",value:function(e){var t=ik(e,this.type,this.Ea,this.Aa);return new Sy(e.firestore,e.converter,function(e,t){return new Yc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Gg);function nk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tk("endBefore",t,!1)}function rk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tk("endAt",t,!0)}function ik(e,t,n,r){if(n[0]=un(n[0]),n[0]instanceof zg)return function(e,t,n,r,i){if(!r)throw new Vu(ju.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Ge(rl(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(dc(t,r.key));else{var c=r.data.field(s.field);if(Ys(c))throw new Vu(ju.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Vu(ju.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Hc(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ag(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Vu(ju.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Vu(ju.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!nl(e)&&-1!==c.indexOf("/"))throw new Vu(ju.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(as.fromString(c));if(!ss.isDocumentKey(l))throw new Vu(ju.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ss(l);u.push(dc(t,f))}else{var h=Pg(n,r,c);u.push(h)}}return new Hc(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function ak(e,t,n){if("string"==typeof(n=un(n))){if(""===n)throw new Vu(ju.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nl(t)&&-1!==n.indexOf("/"))throw new Vu(ju.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(as.fromString(n));if(!ss.isDocumentKey(r))throw new Vu(ju.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return dc(e,new ss(r))}if(n instanceof Ey)return dc(e,n._key);throw new Vu(ju.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(gy(n),"."))}function ok(e,t){if(!Array.isArray(e)||0===e.length)throw new Vu(ju.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Vu(ju.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function uk(e,t,n){if(!n.isEqual(t))throw new Vu(ju.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var sk=function(){function e(){u(this,e)}return c(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(oc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ws(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bu()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ms(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new mg(Ws(e.latitude),Ws(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Xs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Zs(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Gs(e);return new ns(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=as.fromString(e);Fu(Xf(n));var r=new ec(n.get(1),n.get(3)),i=new ss(n.popFirst(5));return r.isEqual(t)||Ou("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ck(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var lk=function(e){f(n,e);var t=y(n);function n(e){var r;return u(this,n),(r=t.call(this)).firestore=e,r}return c(n,[{key:"convertBytes",value:function(e){return new dg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ey(this.firestore,null,t)}}]),n}(sk),fk=function(){function e(t,n){u(this,e),this.hasPendingWrites=t,this.fromCache=n}return c(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),hk=function(e){f(n,e);var t=y(n);function n(e,r,i,a,o,s){var c;return u(this,n),(c=t.call(this,e,r,i,a,s))._firestore=e,c._firestoreImpl=e,c.metadata=o,c}return c(n,[{key:"exists",value:function(){return Tt(h(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new dk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Hg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(zg),dk=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tt(h(n.prototype),"data",this).call(this,e)}}]),n}(hk),pk=function(){function e(t,n,r,i){u(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new fk(i.hasPendingWrites,i.fromCache),this.query=r}return c(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new dk(n._firestore,n._userDataWriter,r.key,r,new fk(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Vu(ju.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new dk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new dk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:vk(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function vk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bu()}}function mk(e,t){return e instanceof hk&&t instanceof hk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof pk&&t instanceof pk&&e._firestore===t._firestore&&_y(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var yk=function(e){f(n,e);var t=y(n);function n(e){var r;return u(this,n),(r=t.call(this)).firestore=e,r}return c(n,[{key:"convertBytes",value:function(e){return new dg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ey(this.firestore,null,t)}}]),n}(sk);function gk(e){e=ky(e,Ey);var t=ky(e.firestore,ig),n=ag(t),r=new yk(t);return function(e,t){var n=new qu;return e.asyncQueue.enqueueAndForget(Ke(Ve().mark((function r(){return Ve().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ke(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Uu(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Vu(ju.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Qv(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Gy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new hk(t,r,e._key,n,new fk(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function kk(e){e=ky(e,Sy);var t=ky(e.firestore,ig),n=ag(t),r=new yk(t);return function(e,t){var n=new qu;return e.asyncQueue.enqueueAndForget(Ke(Ve().mark((function r(){return Ve().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ke(Ve().mark((function e(t,n,r){var i,a,o,u,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ap(t,n,!0);case 3:i=e.sent,a=new lm(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Qv(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Gy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new pk(t,r,e,n)}))}function bk(e,t,n){e=ky(e,Ey);var r=ky(e.firestore,ig),i=ck(e.converter,t,n);return Ik(r,[Ig(Ag(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Dl.none())])}function wk(e,t,n){e=ky(e,Ey);for(var r=ky(e.firestore,ig),i=Ag(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Ik(r,[("string"==typeof(t=un(t))||t instanceof pg?Rg(i,"updateDoc",e._key,t,n,o):_g(i,"updateDoc",e._key,t)).toMutation(e._key,Dl.exists(!0))])}function xk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=un(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||ng(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(ng(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Ey)l=ky(e.firestore,ig),f=Zc(e._key.path),c={next:function(t){n[s]&&n[s](Ek(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=ky(e,Sy);l=ky(p.firestore,ig),f=p._query;var v=new yk(l);c={next:function(e){n[s]&&n[s](new pk(l,v,p,e))},error:n[s+1],complete:n[s+2]},Kg(e._query)}return function(e,t,n,r){var i=new Py(r),a=new rm(t,i,n);return e.asyncQueue.enqueueAndForget(Ke(Ve().mark((function t(){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Yv,t.next=3,Xy(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Ke(Ve().mark((function t(){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Zv,t.next=3,Xy(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ag(l),f,h,c)}function Ak(e,t){return function(e,t){var n=new Py(t);return e.asyncQueue.enqueueAndForget(Ke(Ve().mark((function t(){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Uu(e).Ru.add(t),t.next()},t.next=3,Xy(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Ke(Ve().mark((function t(){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Uu(e).Ru.delete(t)},t.next=3,Xy(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ag(e=ky(e,ig)),ng(t)?t:{next:t})}function Ik(e,t){return function(e,t){var n=new qu;return e.asyncQueue.enqueueAndForget(Ke(Ve().mark((function r(){return Ve().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=bm,r.next=3,Jy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ag(e),t)}function Ek(e,t,n){var r=n.docs.get(t._key),i=new yk(e);return new hk(e,i,t._key,r,new fk(n.hasPendingWrites,n.fromCache),t.converter)}var Sk={maxAttempts:5},Tk=function(){function e(t,n){u(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ag(t)}return c(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Ck(e,this._firestore),i=ck(r.converter,t,n),a=Ig(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Dl.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Ck(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=un(t))||t instanceof pg?Rg(this._dataReader,"WriteBatch.update",i._key,t,n,o):_g(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Dl.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Ck(e,this._firestore);return this._mutations=this._mutations.concat(new Hl(t._key,Dl.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Vu(ju.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Ck(e,t){if((e=un(e)).firestore!==t)throw new Vu(ju.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Nk=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r))._firestore=e,i}return c(n,[{key:"get",value:function(e){var t=this,r=Ck(e,this._firestore),i=new yk(this._firestore);return Tt(h(n.prototype),"get",this).call(this,e).then((function(e){return new hk(t._firestore,i,r._key,e._document,new fk(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){u(this,e),this._firestore=t,this._transaction=n,this._dataReader=Ag(t)}return c(e,[{key:"get",value:function(e){var t=this,n=Ck(e,this._firestore),r=new lk(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Bu();var i=e[0];if(i.isFoundDocument())return new zg(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new zg(t._firestore,r,n._key,null,n.converter);throw Bu()}))}},{key:"set",value:function(e,t,n){var r=Ck(e,this._firestore),i=ck(r.converter,t,n),a=Ig(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Ck(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=un(t))||t instanceof pg?Rg(this._dataReader,"Transaction.update",i._key,t,n,o):_g(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Ck(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Dk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cg("arrayUnion",t)}function _k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ng("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Du=e}(tr),Wn(new sn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new ig(new Ku(e.getProvider("auth-internal")),new Yu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vu(ju.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ur(Cu,"3.7.3",e),ur(Cu,"3.7.3","esm2017")}();var Rk,Pk,Ok=function e(t,n,r,i,a){return 0===n&&0===r||0===n&&9===r||9===n&&0===r||9===n&&9===r?1:n<0||n>9||r<0||r>9||t.currentBoard[n][r]!==a?0:("horizontal"!==t.scoreMatrix[n][r].direction||"l"!==i&&"r"!==i)&&("vertical"!==t.scoreMatrix[n][r].direction||"u"!==i&&"d"!==i)&&("left-diagonal"!==t.scoreMatrix[n][r].direction||"lu"!==i&&"rd"!==i)&&("right-diagonal"!==t.scoreMatrix[n][r].direction||"ru"!==i&&"ld"!==i)?"l"===i?1+e(t,n,r-1,i,a):"r"===i?1+e(t,n,r+1,i,a):"u"===i?1+e(t,n-1,r,i,a):"d"===i?1+e(t,n+1,r,i,a):"lu"===i?1+e(t,n-1,r-1,i,a):"ru"===i?1+e(t,n-1,r+1,i,a):"ld"===i?1+e(t,n+1,r-1,i,a):"rd"===i?1+e(t,n+1,r+1,i,a):1:0},Lk=function(e,t,n,r){var i=Ok(e,t,n-1,"l",r),a=Ok(e,t,n+1,"r",r);if(i+a>=4){console.log("Wohooo!! Scored Horizontally: Left: ".concat(i," & Right: ").concat(a));for(var o={direction:"horizontal",indexes:[]};i>0;)o.indexes.push({x:t,y:n-i}),i--;for(;a>0;)o.indexes.push({x:t,y:n+a}),a--;return o}var u=Ok(e,t-1,n,"u",r),s=Ok(e,t+1,n,"d",r);if(u+s>=4){console.log("Wohooo!! Scored Vertically: Up: ".concat(u," & Right: ").concat(s));for(var c={direction:"vertical",indexes:[]};u>0;)c.indexes.push({x:t-u,y:n}),u--;for(;s>0;)c.indexes.push({x:t+s,y:n}),s--;return c}var l=Ok(e,t-1,n-1,"lu",r),f=Ok(e,t+1,n+1,"rd",r);if(l+f>=4){console.log("Wohooo!! Scored Left Diagonally: leftUp: ".concat(l," & rightDown: ").concat(f));for(var h={direction:"left-diagonal",indexes:[]};l>0;)h.indexes.push({x:t-l,y:n-l}),l--;for(;f>0;)h.indexes.push({x:t+f,y:n+f}),f--;return h}var d=Ok(e,t-1,n+1,"ru",r),p=Ok(e,t+1,n-1,"ld",r);if(d+p>=4){console.log("Wohooo!! Scored Right Diagonally: rightUp: ".concat(d," & leftDown: ").concat(p));for(var v={direction:"right-diagonal",indexes:[]};d>0;)v.indexes.push({x:t-d,y:n+d}),d--;for(;p>0;)v.indexes.push({x:t+p,y:n-p}),p--;return v}return!1},Mk=n(164),Bk=function(e){var t=e.action,n=e.modal,r=e.setShowModal,a=(0,i.useRef)();return Mk.createPortal((0,We.jsx)("div",{className:"container",ref:a,onClick:function(e){e.target===a.current&&r(!1)},children:(0,We.jsx)("div",{className:"modal",children:(0,We.jsxs)("div",{className:"modal-wrapper",children:[(0,We.jsx)("h2",{children:n.message}),(0,We.jsxs)("div",{className:"input",children:[(0,We.jsx)("button",{onClick:function(){t(n.row,n.col,n.card),r(!1)},className:"yes",children:"Yes"}),(0,We.jsx)("button",{onClick:function(e){return r(!1)},className:"no",children:"No"})]})]})})}),document.getElementById("prompt"))},Fk=function(){var e=Ke(Ve().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h,d;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n={},r={},i=0;i<10;i++){for(a=[],o=0;o<10;o++)a.push(0);r[i]=a}for(n.currentBoard=r,n.status=1,n.remainingCards=[].concat(I(ot),I(ot)),n.lastCardPlayed=null,n.score={1:0,2:0},r={},u=0;u<10;u++){for(s=[],c=0;c<10;c++)s.push({scoreOfTeam:0});r[u]=s}for(n.scoreMatrix=r,n.currentPlayer=1,6,l={},f=1;f<=2;f++)for(l[f.toString()]=[],h=0;h<6;h++)d=Math.floor(Math.random()*n.remainingCards.length),l[f.toString()].push(n.remainingCards[d]),n.remainingCards.splice(d,1);return n.currentCards=l,e.next=18,bk(Ny(B_,"games",t),n,{merge:!0});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Uk=Fk;var jk=new WeakMap,Vk=new WeakMap,qk=new WeakMap,zk=new WeakMap,Qk=new WeakMap;var Hk={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Vk.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qk.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wk(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Kk(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Pk||(Pk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Jk(this),n),Wk(jk.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wk(e.apply(Jk(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Jk(this),t].concat(r));return qk.set(a,t.sort?t.sort():[t]),Wk(a)}}function Gk(e){return"function"===typeof e?Kk(e):(e instanceof IDBTransaction&&function(e){if(!Vk.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Vk.set(e,t)}}(e),t=e,(Rk||(Rk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Hk):e);var t}function Wk(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Wk(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&jk.set(t,e)})).catch((function(){})),Qk.set(t,e),t}(e);if(zk.has(e))return zk.get(e);var t=Gk(e);return t!==e&&(zk.set(e,t),Qk.set(t,e)),t}var Jk=function(e){return Qk.get(e)};var Yk,Xk=["get","getKey","getAll","getAllKeys","count"],Zk=["put","add","delete","clear"],$k=new Map;function eb(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if($k.get(t))return $k.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Zk.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Xk.includes(n))){var a=function(){var e=Ke(Ve().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return $k.set(t,a),a}}}!function(e){Hk=e(Hk)}((function(e){return Qe(Qe({},e),{},{get:function(t,n,r){return eb(t,n)||e.get(t,n,r)},has:function(t,n){return!!eb(t,n)||e.has(t,n)}})}));var tb="@firebase/installations",nb="0.5.16",rb=1e4,ib="w:".concat(nb),ab="FIS_v2",ob=36e5,ub=(qe(Yk={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),qe(Yk,"not-registered","Firebase Installation is not registered."),qe(Yk,"installation-not-found","Firebase Installation not found."),qe(Yk,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),qe(Yk,"app-offline","Could not process request. Application offline."),qe(Yk,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Yk),sb=new Kt("installations","Installations",ub);function cb(e){return e instanceof Ht&&e.code.includes("request-failed")}function lb(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function fb(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function hb(e,t){return db.apply(this,arguments)}function db(){return(db=Ke(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",sb.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pb(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vb(e,t){var n=t.refreshToken,r=pb(e);return r.append("Authorization",function(e){return"".concat(ab," ").concat(e)}(n)),r}function mb(e){return yb.apply(this,arguments)}function yb(){return yb=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),yb.apply(this,arguments)}function gb(e,t){return kb.apply(this,arguments)}function kb(){return(kb=Ke(Ve().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d,p;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=lb(r),u=pb(r),!(s=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,s.getHeartbeatsHeader();case 8:(c=e.sent)&&u.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:ab,appId:r.appId,sdkVersion:ib},f={method:"POST",headers:u,body:JSON.stringify(l)},e.next=14,mb((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:fb(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,hb("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bb(e){return new Promise((function(t){setTimeout(t,e)}))}var wb=/^[cdef][\w-]{21}$/;function xb(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,I(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return wb.test(t)?t:""}catch(By){return""}}function Ab(e){return"".concat(e.appName,"!").concat(e.appId)}var Ib=new Map;function Eb(e,t){var n=Ab(e);Sb(n,t),function(e,t){var n=Cb();n&&n.postMessage({key:e,fid:t});Nb()}(n,t)}function Sb(e,t){var n=Ib.get(e);if(n){var r,i=Ge(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Tb=null;function Cb(){return!Tb&&"BroadcastChannel"in self&&((Tb=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Sb(e.data.key,e.data.fid)}),Tb}function Nb(){0===Ib.size&&Tb&&(Tb.close(),Tb=null)}var Db="firebase-installations-store",_b=null;function Rb(){return _b||(_b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Wk(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Wk(u.result),e.oldVersion,e.newVersion,Wk(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Db)}})),_b}function Pb(e,t){return Ob.apply(this,arguments)}function Ob(){return Ob=Ke(Ve().mark((function e(t,n){var r,i,a,o,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ab(t),e.next=3,Rb();case 3:return i=e.sent,a=i.transaction(Db,"readwrite"),o=a.objectStore(Db),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return u&&u.fid===n.fid||Eb(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),Ob.apply(this,arguments)}function Lb(e){return Mb.apply(this,arguments)}function Mb(){return Mb=Ke(Ve().mark((function e(t){var n,r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ab(t),e.next=3,Rb();case 3:return r=e.sent,i=r.transaction(Db,"readwrite"),e.next=7,i.objectStore(Db).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),Mb.apply(this,arguments)}function Bb(e,t){return Fb.apply(this,arguments)}function Fb(){return Fb=Ke(Ve().mark((function e(t,n){var r,i,a,o,u,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ab(t),e.next=3,Rb();case 3:return i=e.sent,a=i.transaction(Db,"readwrite"),o=a.objectStore(Db),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(s=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(s,r);case 17:return e.next=19,a.done;case 19:return!s||u&&u.fid===s.fid||Eb(t,s.fid),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)}))),Fb.apply(this,arguments)}function Ub(e){return jb.apply(this,arguments)}function jb(){return(jb=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bb(t.appConfig,(function(e){var r=Vb(e),i=qb(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vb(e){return Gb(e||{fid:xb(),registrationStatus:0})}function qb(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(sb.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return zb.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Qb(e)}:{installationEntry:t}}function zb(){return(zb=Ke(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gb(t,n);case 3:return r=e.sent,e.abrupt("return",Pb(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!cb(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Lb(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Pb(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Qb(e){return Hb.apply(this,arguments)}function Hb(){return(Hb=Ke(Ve().mark((function e(t){var n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kb(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,bb(100);case 6:return e.next=8,Kb(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,Ub(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kb(e){return Bb(e,(function(e){if(!e)throw sb.create("installation-not-found");return Gb(e)}))}function Gb(e){return 1===(t=e).registrationStatus&&t.registrationTime+rb<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Wb(e,t){return Jb.apply(this,arguments)}function Jb(){return(Jb=Ke(Ve().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=Yb(r,n),o=vb(r,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(s=e.sent)&&o.append("x-firebase-client",s);case 9:return c={installation:{sdkVersion:ib,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,mb((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=fb(h),e.abrupt("return",d);case 22:return e.next=24,hb("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yb(e,t){var n=t.fid;return"".concat(lb(e),"/").concat(n,"/authTokens:generate")}function Xb(e){return Zb.apply(this,arguments)}function Zb(){return Zb=Ke(Ve().mark((function e(t){var n,r,i,a,o=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,Bb(t.appConfig,(function(e){if(!iw(e))throw sb.create("not-registered");var i=e.authToken;if(!n&&aw(i))return e;if(1===i.requestStatus)return r=$b(t,n),e;if(!navigator.onLine)throw sb.create("app-offline");var a=ow(e);return r=nw(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function $b(e,t){return ew.apply(this,arguments)}function ew(){return(ew=Ke(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tw(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,bb(100);case 6:return e.next=8,tw(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",Xb(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tw(e){return Bb(e,(function(e){if(!iw(e))throw sb.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+rb<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function nw(e,t){return rw.apply(this,arguments)}function rw(){return(rw=Ke(Ve().mark((function e(t,n){var r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wb(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Pb(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!cb(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Lb(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Pb(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function iw(e){return void 0!==e&&2===e.registrationStatus}function aw(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ob}(e)}function ow(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function uw(){return(uw=Ke(Ve().mark((function e(t){var n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Ub(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):Xb(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sw(){return sw=Ke(Ve().mark((function e(t){var n,r,i,a=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,cw(r);case 4:return e.next=6,Xb(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),sw.apply(this,arguments)}function cw(e){return lw.apply(this,arguments)}function lw(){return(lw=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ub(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fw(e){return sb.create("missing-app-config-values",{valueName:e})}var hw,dw="installations",pw=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw fw("App Configuration");if(!e.name)throw fw("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw fw(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Jn(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},vw=function(e){var t=Jn(e.getProvider("app").getImmediate(),dw).getImmediate(),n={getId:function(){return function(e){return uw.apply(this,arguments)}(t)},getToken:function(e){return function(e){return sw.apply(this,arguments)}(t,e)}};return n};Wn(new sn(dw,pw,"PUBLIC")),Wn(new sn("installations-internal",vw,"PRIVATE")),ur(tb,nb),ur(tb,nb,"esm2017");var mw="analytics",yw=6e4,gw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kw="https://www.googletagmanager.com/gtag/js",bw=new kn("@firebase/analytics");function ww(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function xw(e,t){var n=document.createElement("script");n.src="".concat(kw,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function Aw(e,t,n,r,i,a){return Iw.apply(this,arguments)}function Iw(){return Iw=Ke(Ve().mark((function e(t,n,r,i,a,o){var u,s,c;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[a],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,ww(r);case 9:if(s=e.sent,!(c=s.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),bw.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),Iw.apply(this,arguments)}function Ew(e,t,n,r,i){return Sw.apply(this,arguments)}function Sw(){return Sw=Ke(Ve().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return u=a.send_to,Array.isArray(u)||(u=[u]),e.next=7,ww(r);case 7:s=e.sent,c=Ge(u),e.prev=9,f=function(){var e=l.value,t=s.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),bw.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),Sw.apply(this,arguments)}function Tw(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=Ke(Ve().mark((function i(a,o,u){return Ve().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,Ew(e,t,n,o,u);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,Aw(e,t,n,r,o,u);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",u):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),bw.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function Cw(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(kw)&&i.src.includes(e))return i}return null}var Nw=(qe(hw={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),qe(hw,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),qe(hw,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),qe(hw,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),qe(hw,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),qe(hw,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),qe(hw,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),qe(hw,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),qe(hw,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),qe(hw,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),hw),Dw=new Kt("analytics","Analytics",Nw),_w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;u(this,e),this.throttleMetadata=t,this.intervalMillis=n}return c(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Rw=new _w;function Pw(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Ow(e){return Lw.apply(this,arguments)}function Lw(){return Lw=Ke(Ve().mark((function e(t){var n,r,i,a,o,u,s,c;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:Pw(i)},o=gw.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(u=e.sent).status||304===u.status){e.next=18;break}return s="",e.prev=8,e.next=11,u.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(s=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw Dw.create("config-fetch-failed",{httpStatus:u.status,responseMessage:s});case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),Lw.apply(this,arguments)}function Mw(e){return Bw.apply(this,arguments)}function Bw(){return Bw=Ke(Ve().mark((function e(t){var n,r,i,a,o,u,s,c,l=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:Rw,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,u=i.measurementId,a){e.next=5;break}throw Dw.create("no-app-id");case 5:if(o){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:a});case 8:throw Dw.create("no-api-key");case 9:return s=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Qw,setTimeout(Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:yw),e.abrupt("return",Fw({appId:a,apiKey:o,measurementId:u},s,c,n));case 13:case"end":return e.stop()}}),e)}))),Bw.apply(this,arguments)}function Fw(e,t,n){return Uw.apply(this,arguments)}function Uw(){return Uw=Ke(Ve().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=v.length>3&&void 0!==v[3]?v[3]:Rw,c=t.appId,l=t.measurementId,e.prev=3,e.next=6,jw(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return bw.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(u=e.t0)||void 0===u?void 0:u.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Ow(t);case 17:return f=e.sent,o.deleteThrottleMetadata(c),e.abrupt("return",f);case 22:if(e.prev=22,e.t1=e.catch(14),Vw(h=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(c),!l){e.next=32;break}return bw.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===h||void 0===h?void 0:h.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 32:throw e.t1;case 33:return d=503===Number(null===(s=null===h||void 0===h?void 0:h.customData)||void 0===s?void 0:s.httpStatus)?on(a,o.intervalMillis,30):on(a,o.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:a+1},o.setThrottleMetadata(c,p),bw.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",Fw(t,p,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),Uw.apply(this,arguments)}function jw(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(Dw.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function Vw(e){if(!(e instanceof Ht)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var qw,zw,Qw=function(){function e(){u(this,e),this.listeners=[]}return c(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function Hw(){return(Hw=Ke(Ve().mark((function e(t,n,r,i,a){var o,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kw(e){zw=e}function Gw(e){qw=e}function Ww(){return Jw.apply(this,arguments)}function Jw(){return Jw=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ft()){e.next=5;break}return bw.warn(Dw.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Ut();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),bw.warn(Dw.create("indexeddb-unavailable",{errorInfo:null===(t=e.t0)||void 0===t?void 0:t.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])}))),Jw.apply(this,arguments)}function Yw(){return Yw=Ke(Ve().mark((function e(t,n,r,i,a,o,u){var s,c,l,f,h,d,p,v;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=Mw(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&bw.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return bw.error(e)})),n.push(c),l=Ww().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([c,l]);case 6:return f=e.sent,h=x(f,2),d=h[0],p=h[1],Cw(o)||xw(o,d.measurementId),zw&&(a("consent","default",zw),Kw(void 0)),a("js",new Date),(v=null!==(s=null===u||void 0===u?void 0:u.config)&&void 0!==s?s:{}).origin="firebase",v.update=!0,null!=p&&(v.firebase_id=p),a("config",d.measurementId,v),qw&&(a("set",qw),Gw(void 0)),e.abrupt("return",d.measurementId);case 20:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}var Xw,Zw,$w=function(){function e(t){u(this,e),this.app=t}return c(e,[{key:"_delete",value:function(){return delete ex[this.app.options.appId],Promise.resolve()}}]),e}(),ex={},tx=[],nx={},rx="dataLayer",ix="gtag",ax=!1;function ox(){var e=[];if(Lt()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=Dw.create("invalid-analytics-context",{errorInfo:t});bw.warn(n.message)}}function ux(e,t,n){ox();var r=e.options.appId;if(!r)throw Dw.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Dw.create("no-api-key");bw.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ex[r])throw Dw.create("already-exists",{id:r});if(!ax){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(rx);var i=Tw(ex,tx,nx,rx,ix),a=i.wrappedGtag,o=i.gtagCore;Zw=a,Xw=o,ax=!0}return ex[r]=function(e,t,n,r,i,a,o){return Yw.apply(this,arguments)}(e,tx,nx,t,Xw,rx,n),new $w(e)}function sx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr(),t=Jn(e=un(e),mw);return t.isInitialized()?t.getImmediate():cx(e)}function cx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Jn(e,mw);if(n.isInitialized()){var r=n.getImmediate();if(Yt(t,n.getOptions()))return r;throw Dw.create("already-initialized")}var i=n.initialize({options:t});return i}function lx(e,t,n,r){e=un(e),function(e,t,n,r,i){return Hw.apply(this,arguments)}(Zw,ex[e.app.options.appId],t,n,r).catch((function(e){return bw.error(e)}))}var fx="@firebase/analytics",hx="0.8.4";Wn(new sn(mw,(function(e,t){var n=t.options;return ux(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Wn(new sn("analytics-internal",(function(e){try{var t=e.getProvider(mw).getImmediate();return{logEvent:function(e,n,r){return lx(t,e,n,r)}}}catch(xx){throw Dw.create("interop-component-reg-failed",{reason:xx})}}),"PRIVATE")),ur(fx,hx),ur(fx,hx,"esm2017");var dx=function(){var e=Ae().id,t=x((0,i.useState)(null),2),n=t[0],r=t[1],a=x((0,i.useState)(wt),2),o=a[0],u=a[1],s=x((0,i.useState)(""),2),c=s[0],l=s[1],f=x((0,i.useState)(null),2),h=f[0],d=f[1],p=x((0,i.useState)(!1),2),v=p[0],m=p[1],y=x((0,i.useState)(null),2),g=y[0],k=y[1],b=x((0,i.useState)(-1),2),w=b[0],A=b[1],I=sx(),E=function(e,t){var r,i=Ge(n.currentCards[c]);try{for(i.s();!(r=i.n()).done;){var a=r.value;if("J"!==a.number&&((a.position[0][0]===e&&a.position[0][1]===t||a.position[1][0]===e&&a.position[1][1]===t)&&-1===o[e][t].team))return a}}catch(f){i.e(f)}finally{i.f()}var u,s=Ge(n.currentCards[c]);try{for(s.s();!(u=s.n()).done;){var l=u.value;if("J"===l.number)if("diamond"!==l.suit&&"club"!==l.suit||-1!==o[e][t].team){if(("spade"===l.suit||"heart"===l.suit)&&-1!==o[e][t].team&&o[e][t].team!==n.currentTeam){if(-1!==n.scoreMatrix[e][t].scoreOfTeam)return void console.log("cannot play this move..");l.oneEyed=!0,k({row:e,col:t,card:l,action:O,message:"Are you sure you want to use One-Eyed Jack?"}),m(!0)}}else k({row:e,col:t,card:l,action:O,message:"Are you sure you want to use Two-Eyed Jack?"}),m(!0)}}catch(f){s.e(f)}finally{s.f()}return!1},S=function(e,t,r){var i=n.currentBoard;return i[e][t]=r,i},T=function(e,t,n){var r=o;r[e][t].team=n,u(r)},C=function(e,t,n){for(var r=o,i=0;i<10;i++)for(var a=0;a<10;a++)r[i][a].team=e[i][a];n&&t&&(r[t.row][t.col].overlay=!0),u(r)},N=function(){var t=Ke(Ve().mark((function t(r,i,a){var o,u,s;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Qe({},n),u=_(a),s=Math.floor(Math.random()*n.remainingCards.length),o.currentCards[c][u]=n.remainingCards[s],o.remainingCards.splice(s,1),t.next=7,bk(Ny(B_,"games",e),o);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),D=function(e,t){var n,r=Ge(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;"J"!==i.number&&(i.discard=!1,-1!==e[i.position[0][0]][i.position[0][1]]&&-1!==e[i.position[1][0]][i.position[1][1]]&&(i.discard=!0))}}catch(a){r.e(a)}finally{r.f()}},_=function(e){for(var t=0;t<n.currentCards[c].length;t++)if(e.suit===n.currentCards[c][t].suit&&e.number===n.currentCards[c][t].number)return t},R=function(e){e.score[1],e.score[2];var t=Object.keys(e.score).find((function(t){return 2===e.score[t]}));void 0!=t&&A(parseInt(t))},P=function(){var t=Ke(Ve().mark((function t(){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Uk(e);case 2:u(wt),A(-1),lx(I,"game_restart");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Ke(Ve().mark((function t(r,i,a){var o,u,s,l,f;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Qe({},n),u=o.currentTeam,a.oneEyed?(o.currentBoard=S(r,i,-1),T(r,i,-1)):(o.currentBoard=S(r,i,u),T(r,i,u)),s=_(a),l=Math.floor(Math.random()*n.remainingCards.length),o.currentCards[c][s]=n.remainingCards[l],o.remainingCards.splice(l,1),o.lastCardPlayed=a,o.lastCardPlayed.row=r,o.lastCardPlayed.col=i,o.currentPlayer[u]=(o.currentPlayer[u]+1)%o.teams[u].length,o.currentTeam=(u+1)%3,2===o.numberOfTeams&&o.currentTeam===o.skipTeam&&(o.currentTeam=(o.currentTeam+1)%3),a.oneEyed||(f=Lk(n,r,i,u))&&(f.indexes.forEach((function(e){o.scoreMatrix[e.x][e.y]={scoreOfTeam:u,direction:f.direction}})),o.scoreMatrix[r][i]={scoreOfTeam:u,direction:f.direction},o.score[u]=o.score[u]+1,2===o.score[u]&&(o.status=2)),t.next=16,bk(Ny(B_,"games",e),o);case 16:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),L=function(){var e=Ke(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=E(t,n)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,O(t,n,r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function M(){return(M=Ke(Ve().mark((function t(n){var i;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=window.localStorage.getItem(e),t.next=3,r(n);case 3:C(n.currentBoard,n.lastCardPlayed,n.currentPlayer.currentTeam===i),d(n.lastCardPlayed),D(n.currentBoard,n.currentCards[i]),2===n.status?R(n):A(-1);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,i.useEffect)((function(){var t=window.localStorage.getItem(e);l(t);var n=xk(Ny(B_,"games",e),(function(e){(function(e){return M.apply(this,arguments)})(e.data()).then()}));return function(){return n()}}),[]),(0,We.jsx)("div",{className:"main",children:c&&n&&n.currentCards?(0,We.jsxs)("div",{className:"game",children:[(0,We.jsx)(Je,{board:o,play:L,canplay:c===n.teams[n.currentTeam][n.currentPlayer[n.currentTeam]],gameEnd:w}),(0,We.jsx)(Et,{scores:n.score,players:n.players,cards:n.currentCards,remainingCards:n.remainingCards.length,player:c,currentTeam:n.currentTeam,teams:n.teams,currentPlayer:n.currentPlayer,lastCard:h,canplay:c===n.teams[n.currentTeam][n.currentPlayer[n.currentTeam]],discardCard:function(e){k({card:e,action:N,message:"Are you sure you want to discard this card?"}),m(!0)},gameEnd:w,skipTeam:n.skipTeam,reset:P}),(0,We.jsx)("div",{className:"user-prompt",children:v?(0,We.jsx)(Bk,{action:g.action,modal:g,setShowModal:m}):null})]}):""})},px=n.p+"static/media/home_background.e13c0e30221c85cdd161.png",vx=n.p+"static/media/femeetbackground.e024fef9727647f0e63f.jpg",mx="data:image/png;base64,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",yx="data:image/png;base64,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",gx="data:image/png;base64,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",kx=function(){var e=(0,i.useRef)(),t=xe();function n(){return n=Ke(Ve().mark((function n(){var r,i,a,o,u,s,c,l,f,h,d,p;return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r=e.current.value,i={},a={},o=0;o<10;o++){for(u=[],s=0;s<10;s++)u.push(-1);a[o]=u}for(i.currentBoard=a,a={},c=0;c<10;c++){for(l=[],f=0;f<10;f++)l.push({scoreOfTeam:-1});a[c]=l}return i.scoreMatrix=a,i.status=0,h=Math.floor(16777215*Math.random()).toString(16).padStart(6,"0").toString(),i.players=qe({},h,r),i.teams={0:[],1:[],2:[],3:[h]},i.gameCreator=h,d=Date.now().toString(),p=[].concat(I(ot),I(ot)),i.gameID=d,i.remainingCards=p,n.next=19,bk(Ny(B_,"games",d),i);case 19:window.localStorage.setItem(d.toString(),h),t("/joinGame/".concat(d));case 21:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}return(0,We.jsxs)("div",{className:"home",children:[(0,We.jsxs)("div",{className:"ninety-height-div",style:{backgroundImage:"url(".concat(px,")"),backgroundSize:"cover",backgroundAttachment:"fixed"},children:[(0,We.jsx)("h1",{className:"title",children:"The Sequence Game"}),(0,We.jsxs)("div",{className:"name-wrapping-div-home",children:[(0,We.jsx)("input",{className:"box-wrapper",type:"text",ref:e,placeholder:"Enter your name",id:"name-input-home"}),(0,We.jsx)("button",{className:"box-wrapper create-game-button",onClick:function(){!function(){n.apply(this,arguments)}()},children:"Create a Game"})]})]}),(0,We.jsx)("div",{className:"developed-at",children:(0,We.jsxs)("p",{children:["Developed at ",(0,We.jsx)("span",{className:"bold",children:"Carnegie Mellon University"})]})}),(0,We.jsxs)("div",{className:"full-height-div",style:{backgroundImage:"url(".concat(vx,")"),backgroundSize:"cover",backgroundAttachment:"fixed"},children:[(0,We.jsx)("h1",{id:"title",children:"Meet The Devs"}),(0,We.jsxs)("div",{className:"devs",children:[(0,We.jsxs)("div",{className:"dev1",children:[(0,We.jsx)("a",{href:"https://femindharamshi.com/",children:(0,We.jsx)("img",{src:"https://femindharamshi.com/static/media/favicon.df59357d43584154d3d1.png",alt:"Femin Dharamshi"})}),(0,We.jsx)("h2",{children:"Femin Dharamshi"}),(0,We.jsxs)("div",{className:"links",children:[(0,We.jsx)("a",{href:"https://www.youtube.com/c/FeminDharamshi",children:(0,We.jsx)("img",{src:"data:image/png;base64,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",alt:"Femin Youtube"})}),(0,We.jsx)("a",{href:"https://www.instagram.com/beyondhelloworld/",children:(0,We.jsx)("img",{src:yx,alt:"Femin Instagram"})}),(0,We.jsx)("a",{href:"https://github.com/fdharamshi",children:(0,We.jsx)("img",{src:gx,alt:"Femin Github"})}),(0,We.jsx)("a",{href:"https://www.linkedin.com/in/femindharamshi/",children:(0,We.jsx)("img",{src:mx,alt:"Femin LinkedIn"})})]})]}),(0,We.jsxs)("div",{className:"dev2",children:[(0,We.jsx)("a",{href:"https://meetshah.tech",children:(0,We.jsx)("img",{src:"https://avatars.githubusercontent.com/u/26139149?v=4",alt:"Meet Shah"})}),(0,We.jsx)("h2",{children:"Meet Shah"}),(0,We.jsxs)("div",{className:"links",children:[(0,We.jsx)("a",{href:"https://github.com/meetshah15",children:(0,We.jsx)("img",{src:gx,alt:"Meet Github"})}),(0,We.jsx)("a",{href:"https://www.instagram.com/roaad_runner/",children:(0,We.jsx)("img",{src:yx,alt:"Femin Instagram"})}),(0,We.jsx)("a",{href:"https://www.linkedin.com/in/meetshah15/",children:(0,We.jsx)("img",{src:mx,alt:"Meet LinkedIn"})})]})]})]})]})]})},bx={home:"/",gameWithID:"/game/:id",joinGame:"/joinGame/:id",rules:"/rules"};function wx(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var xx={data:""},Ax=function(e){return"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||xx},Ix=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ex=/\/\*[^]*?\*\/|  +/g,Sx=/\n+/g,Tx=function e(t,n){var r="",i="",a="",o=function(o){var s=t[o];"@"==o[0]?"i"==o[1]?r=o+" "+s+";":i+="f"==o[1]?e(s,o):o+"{"+e(s,"k"==o[1]?"":n)+"}":"object"==typeof s?i+=e(s,n?n.replace(/([^,])+/g,(function(e){return o.replace(/(^:.*)|([^,])+/g,(function(t){return/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t}))})):o):null!=s&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=e.p?e.p(o,s):o+":"+s+";"),u=o};for(var u in t)o(u);return r+(n&&a?n+"{"+a+"}":a)+i},Cx={},Nx=function e(t){if("object"==typeof t){var n="";for(var r in t)n+=r+e(t[r]);return n}return t},Dx=function(e,t,n,r,i){var a=Nx(e),o=Cx[a]||(Cx[a]=function(e){for(var t=0,n=11;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n}(a));if(!Cx[o]){var u=a!==e?e:function(e){for(var t,n,r=[{}];t=Ix.exec(e.replace(Ex,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Sx," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Sx," ").trim();return r[0]}(e);Cx[o]=Tx(i?qe({},"@keyframes "+o,u):u,n?"":"."+o)}var s=n&&Cx.g?Cx.g:null;return n&&(Cx.g=Cx[o]),function(e,t,n,r){r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)}(Cx[o],t,r,s),o},_x=function(e,t,n){return e.reduce((function(e,r,i){var a=t[i];if(a&&a.call){var o=a(n),u=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=u?"."+u:o&&"object"==typeof o?o.props?"":Tx(o,""):!1===o?"":o}return e+r+(null==a?"":a)}),"")};function Rx(e){var t=this||{},n=e.call?e(t.p):e;return Dx(n.unshift?n.raw?_x(n,[].slice.call(arguments,1),t.p):n.reduce((function(e,n){return Object.assign(e,n&&n.call?n(t.p):n)}),{}):n,Ax(t.target),t.g,t.o,t.k)}Rx.bind({g:1});var Px,Ox,Lx,Mx,Bx,Fx,Ux,jx,Vx,qx,zx,Qx,Hx,Kx,Gx,Wx,Jx,Yx,Xx,Zx=Rx.bind({k:1});function $x(e,t){var n=this||{};return function(){var r=arguments;function i(a,o){var u=Object.assign({},a),s=u.className||i.className;n.p=Object.assign({theme:Ox&&Ox()},u),n.o=/ *go\d+/.test(s),u.className=Rx.apply(n,r)+(s?" "+s:""),t&&(u.ref=o);var c=e;return e[0]&&(c=u.as||e,delete u.as),Lx&&c[0]&&Lx(u),Px(c,u)}return t?t(i):i}}var eA=function(e,t){return function(e){return"function"==typeof e}(e)?e(t):e},tA=function(){var e=0;return function(){return(++e).toString()}}(),nA=function(){var e;return function(){if(void 0===e&&typeof window<"u"){var t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}}(),rA=new Map,iA=function(e){if(!rA.has(e)){var t=setTimeout((function(){rA.delete(e),sA({type:4,toastId:e})}),1e3);rA.set(e,t)}},aA=function e(t,n){switch(n.type){case 0:return Qe(Qe({},t),{},{toasts:[n.toast].concat(I(t.toasts)).slice(0,20)});case 1:return n.toast.id&&function(e){var t=rA.get(e);t&&clearTimeout(t)}(n.toast.id),Qe(Qe({},t),{},{toasts:t.toasts.map((function(e){return e.id===n.toast.id?Qe(Qe({},e),n.toast):e}))});case 2:var r=n.toast;return t.toasts.find((function(e){return e.id===r.id}))?e(t,{type:1,toast:r}):e(t,{type:0,toast:r});case 3:var i=n.toastId;return i?iA(i):t.toasts.forEach((function(e){iA(e.id)})),Qe(Qe({},t),{},{toasts:t.toasts.map((function(e){return e.id===i||void 0===i?Qe(Qe({},e),{},{visible:!1}):e}))});case 4:return void 0===n.toastId?Qe(Qe({},t),{},{toasts:[]}):Qe(Qe({},t),{},{toasts:t.toasts.filter((function(e){return e.id!==n.toastId}))});case 5:return Qe(Qe({},t),{},{pausedAt:n.time});case 6:var a=n.time-(t.pausedAt||0);return Qe(Qe({},t),{},{pausedAt:void 0,toasts:t.toasts.map((function(e){return Qe(Qe({},e),{},{pauseDuration:e.pauseDuration+a})}))})}},oA=[],uA={toasts:[],pausedAt:void 0},sA=function(e){uA=aA(uA,e),oA.forEach((function(e){e(uA)}))},cA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},lA=function(e){return function(t,n){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Qe(Qe({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||tA()})}(t,e,n);return sA({type:2,toast:r}),r.id}},fA=function(e,t){return lA("blank")(e,t)};fA.error=lA("error"),fA.success=lA("success"),fA.loading=lA("loading"),fA.custom=lA("custom"),fA.dismiss=function(e){sA({type:3,toastId:e})},fA.remove=function(e){return sA({type:4,toastId:e})},fA.promise=function(e,t,n){var r=fA.loading(t.loading,Qe(Qe({},n),null==n?void 0:n.loading));return e.then((function(e){return fA.success(eA(t.success,e),Qe(Qe({id:r},n),null==n?void 0:n.success)),e})).catch((function(e){fA.error(eA(t.error,e),Qe(Qe({id:r},n),null==n?void 0:n.error))})),e};var hA=function(e,t){sA({type:1,toast:{id:e,height:t}})},dA=function(){sA({type:5,time:Date.now()})},pA=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=x((0,i.useState)(uA),2),n=t[0],r=t[1];(0,i.useEffect)((function(){return oA.push(r),function(){var e=oA.indexOf(r);e>-1&&oA.splice(e,1)}}),[n]);var a=n.toasts.map((function(t){var n,r;return Qe(Qe(Qe(Qe({},e),e[t.type]),t),{},{duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||cA[t.type],style:Qe(Qe(Qe({},e.style),null==(r=e[t.type])?void 0:r.style),t.style)})}));return Qe(Qe({},n),{},{toasts:a})}(e),n=t.toasts,r=t.pausedAt;(0,i.useEffect)((function(){if(!r){var e=Date.now(),t=n.map((function(t){if(t.duration!==1/0){var n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((function(){return fA.dismiss(t.id)}),n);t.visible&&fA.dismiss(t.id)}}));return function(){t.forEach((function(e){return e&&clearTimeout(e)}))}}}),[n,r]);var a=(0,i.useCallback)((function(){r&&sA({type:6,time:Date.now()})}),[r]),o=(0,i.useCallback)((function(e,t){var r,i=t||{},a=i.reverseOrder,o=void 0!==a&&a,u=i.gutter,s=void 0===u?8:u,c=i.defaultPosition,l=n.filter((function(t){return(t.position||c)===(e.position||c)&&t.height})),f=l.findIndex((function(t){return t.id===e.id})),h=l.filter((function(e,t){return t<f&&e.visible})).length;return(r=l.filter((function(e){return e.visible}))).slice.apply(r,I(o?[h+1]:[0,h])).reduce((function(e,t){return e+(t.height||0)+s}),0)}),[n]);return{toasts:n,handlers:{updateHeight:hA,startPause:dA,endPause:a,calculateOffset:o}}},vA=Zx(Mx||(Mx=wx(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),mA=Zx(Bx||(Bx=wx(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),yA=Zx(Fx||(Fx=wx(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),gA=$x("div")(Ux||(Ux=wx(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(function(e){return e.primary||"#ff4b4b"}),vA,mA,(function(e){return e.secondary||"#fff"}),yA),kA=Zx(jx||(jx=wx(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),bA=$x("div")(Vx||(Vx=wx(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(function(e){return e.secondary||"#e0e0e0"}),(function(e){return e.primary||"#616161"}),kA),wA=Zx(qx||(qx=wx(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),xA=Zx(zx||(zx=wx(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),AA=$x("div")(Qx||(Qx=wx(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(function(e){return e.primary||"#61d345"}),wA,xA,(function(e){return e.secondary||"#fff"})),IA=$x("div")(Hx||(Hx=wx(["\n  position: absolute;\n"]))),EA=$x("div")(Kx||(Kx=wx(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),SA=Zx(Gx||(Gx=wx(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),TA=$x("div")(Wx||(Wx=wx(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),SA),CA=function(e){var t=e.toast,n=t.icon,r=t.type,a=t.iconTheme;return void 0!==n?"string"==typeof n?i.createElement(TA,null,n):n:"blank"===r?null:i.createElement(EA,null,i.createElement(bA,Qe({},a)),"loading"!==r&&i.createElement(IA,null,"error"===r?i.createElement(gA,Qe({},a)):i.createElement(AA,Qe({},a))))},NA=function(e){return"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n")},DA=function(e){return"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n")},_A=$x("div")(Jx||(Jx=wx(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),RA=$x("div")(Yx||(Yx=wx(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),PA=i.memo((function(e){var t=e.toast,n=e.position,r=e.style,a=e.children,o=t.height?function(e,t){var n=e.includes("top")?1:-1,r=x(nA()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[NA(n),DA(n)],2),i=r[0],a=r[1];return{animation:t?"".concat(Zx(i)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Zx(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}}(t.position||n||"top-center",t.visible):{opacity:0},u=i.createElement(CA,{toast:t}),s=i.createElement(RA,Qe({},t.ariaProps),eA(t.message,t));return i.createElement(_A,{className:t.className,style:Qe(Qe(Qe({},o),r),t.style)},"function"==typeof a?a({icon:u,message:s}):i.createElement(i.Fragment,null,u,s))}));!function(e,t,n,r){Tx.p=t,Px=e,Ox=n,Lx=r}(i.createElement);var OA,LA=function(e){var t=e.id,n=e.className,r=e.style,a=e.onHeightUpdate,o=e.children,u=i.useCallback((function(e){if(e){var n=function(){var n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,a]);return i.createElement("div",{ref:u,className:n,style:r},o)},MA=Rx(Xx||(Xx=wx(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),BA=function(e){var t=e.reverseOrder,n=e.position,r=void 0===n?"top-center":n,a=e.toastOptions,o=e.gutter,u=e.children,s=e.containerStyle,c=e.containerClassName,l=pA(a),f=l.toasts,h=l.handlers;return i.createElement("div",{style:Qe({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},s),className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},f.map((function(e){var n=e.position||r,a=function(e,t){var n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Qe(Qe({left:0,right:0,display:"flex",position:"absolute",transition:nA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)}(n,h.calculateOffset(e,{reverseOrder:t,gutter:o,defaultPosition:r}));return i.createElement(LA,{id:e.id,key:e.id,onHeightUpdate:h.updateHeight,className:e.visible?MA:"",style:a},"custom"===e.type?eA(e.message,e):u?u(e):i.createElement(PA,{toast:e,position:n}))})))},FA=fA,UA=function(){var e=Ae().id,t=sx(),n=x((0,i.useState)(null),2),r=n[0],a=n[1],o=x((0,i.useState)(""),2),u=o[0],s=o[1],c=x((0,i.useState)(!1),2),l=c[0],f=c[1],h=x((0,i.useState)(!0),2),d=(h[0],h[1],x((0,i.useState)(3),2)),p=d[0],v=d[1],m=xe();function y(e){return e<6?6:6===e?5:e<=9?4:3}function g(){return k.apply(this,arguments)}function k(){return k=Ke(Ve().mark((function n(){var i,a,o,u,s,c,l,f;return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b()){n.next=2;break}return n.abrupt("return");case 2:for(i=Qe({},r),a=y(Object.keys(i.players).length),o={},u=0,s=Object.keys(r.players);u<s.length;u++)for(c=s[u],o[c.toString()]=[],l=0;l<a;l++)f=Math.floor(Math.random()*i.remainingCards.length),o[c.toString()].push(i.remainingCards[f]),i.remainingCards.splice(f,1);return i.currentCards=o,i.status=1,i.currentTeam=0,i.currentPlayer={0:0,1:0,2:0},i.numberOfTeams=3,i.skipTeam=-1,0!==i.teams[0].length&&0!==i.teams[1].length&&0!==i.teams[2].length||(i.numberOfTeams=2,0===i.teams[0].length?i.skipTeam=0:0===i.teams[1].length?i.skipTeam=1:i.skipTeam=2),i.score={0:0,1:0,2:0},n.next=16,bk(Ny(B_,"games",e),i);case 16:lx(t,"game_start",{players:Object.keys(i.players).length}),m("/game/".concat(e));case 18:case"end":return n.stop()}}),n)}))),k.apply(this,arguments)}function b(){if(null!=r){var e=r.teams[0].length,t=r.teams[1].length,n=r.teams[2].length;return!(r.teams[3].length>0)&&(!(0===e&&0===t||0===t&&3===t||0===e&&0===n)&&(0===e&&t===n||0===t&&e===n||0===n&&e===t||e===t&&t===n))}return!1}function w(e){return A.apply(this,arguments)}function A(){return(A=Ke(Ve().mark((function t(n){var i;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p===n){t.next=7;break}return(i=r.teams)[n].push(u),i[p]=r.teams[p].filter((function(e){return e!==u})),r.teams=i,t.next=7,bk(Ny(B_,"games",e),r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(){return(I=Ke(Ve().mark((function t(n){var r,i,o,u;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(n);case 2:if(r=e,i=window.localStorage.getItem(r),1===n.status&&null!=i&&m("/game/".concat(e)),null!=i)for(s(i),f(!1),o=function(e){n.teams[e].forEach((function(t){t===i&&(v(e),console.log("Found at "+e))}))},u=0;u<3;u++)o(u);else f(!0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return(E=Ke(Ve().mark((function t(){var n;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Math.floor(16777215*Math.random()).toString(16).padStart(6,"0").toString(),window.localStorage.setItem(e.toString(),n),r.players[n]=S.current.value,r.teams[3].push(n),t.next=6,bk(Ny(B_,"games",e),r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,i.useEffect)((function(){var t=xk(Ny(B_,"games",e),(function(e){!function(e){I.apply(this,arguments)}(e.data())}));return function(){return t()}}),[]);var S=(0,i.useRef)();return(0,We.jsx)("div",{className:"jg-main",style:{backgroundImage:"url(".concat(px,")"),backgroundSize:"cover"},children:(0,We.jsxs)("div",{className:"jg-wrapper-div",children:[null!=r&&!l&&(0,We.jsx)(We.Fragment,{children:(0,We.jsxs)("div",{className:"share-ui-content",children:["Share Game Link:",(0,We.jsxs)("div",{className:"join-game-link",children:[(0,We.jsx)("span",{className:"link",children:window.location.href}),(0,We.jsx)("img",{src:"data:image/png;base64,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",alt:"copy-icon",onClick:function(){navigator.clipboard.writeText(window.location.href).then((function(e){return FA.success("Copied to Clipboard")}))},width:"20px",height:"20px"})]}),3===p&&(0,We.jsx)("div",{className:"message",children:"Please Join A Team"}),(0,We.jsxs)("div",{className:"player",children:[(0,We.jsx)("div",{className:"header",style:{backgroundColor:"#2d3436"},children:"Lobby"}),(0,We.jsxs)("div",{className:"team-contents",children:[null!=r&&r.teams[3].length>0&&r.teams[3].map((function(e){return(0,We.jsx)("span",{children:r.players[e]})})),(null==r||0===r.teams[3].length)&&(0,We.jsx)("span",{className:"no-player",children:"Lobby Empty"})]})]}),(0,We.jsxs)("div",{className:"teams",children:[(0,We.jsxs)("div",{className:"player",onClick:function(){w(0)},children:[(0,We.jsx)("div",{className:"header",style:{backgroundColor:"#c0392b"},children:"Team Red"}),(0,We.jsxs)("div",{className:"team-contents",children:[null!=r&&r.teams[0].length>0&&r.teams[0].map((function(e){return(0,We.jsx)("span",{children:r.players[e]})})),(null==r||0===r.teams[0].length)&&(0,We.jsx)("span",{className:"no-player",children:"Empty"})]})]}),(0,We.jsxs)("div",{className:"player",onClick:function(){w(1)},children:[(0,We.jsx)("div",{className:"header",style:{backgroundColor:"#2980b9"},children:"Team Blue"}),(0,We.jsxs)("div",{className:"team-contents",children:[null!=r&&r.teams[1].length>0&&r.teams[1].map((function(e){return(0,We.jsx)("span",{children:r.players[e]})})),(null==r||0===r.teams[1].length)&&(0,We.jsx)("span",{className:"no-player",children:"Empty"})]})]}),(0,We.jsxs)("div",{className:"player",onClick:function(){w(2)},children:[(0,We.jsx)("div",{className:"header",style:{backgroundColor:"#27ae60"},children:"Team Green"}),(0,We.jsxs)("div",{className:"team-contents",children:[null!=r&&r.teams[2].length>0&&r.teams[2].map((function(e){return(0,We.jsx)("span",{children:r.players[e]})})),(null==r||0===r.teams[2].length)&&(0,We.jsx)("span",{className:"no-player",children:"Empty"})]})]})]}),(0,We.jsxs)("div",{className:"message",children:[r.gameCreator!==u&&"Please wait for ".concat(r.players[r.gameCreator]," to start the game"),r.gameCreator===u&&(0,We.jsx)("button",{className:"start-game-button",onClick:g,disabled:!b(),children:"Start Game"})]})]})}),l&&(0,We.jsx)(We.Fragment,{children:(0,We.jsxs)("div",{className:"second-player-name-div",children:[(0,We.jsx)("div",{children:"Enter Your Name:"}),(0,We.jsx)("input",{type:"text",ref:S,placeholder:"Name"}),(0,We.jsx)("button",{onClick:function(){!function(){E.apply(this,arguments)}()},children:"Join Game"})]})})]})})},jA=function(){return(0,We.jsxs)("div",{style:{margin:"10px"},children:[(0,We.jsx)("h1",{children:"Sequence Rules"}),(0,We.jsxs)("div",{className:"rules-section",children:[(0,We.jsx)("div",{className:"rules-header",children:"Setting Up Your Sequence Game"}),(0,We.jsx)("div",{className:"rules-details",children:"Players divide evenly into two or three teams. Team members are to alternate their physical positions every third player around the playing surface."})]}),(0,We.jsxs)("div",{className:"rules-section",children:[(0,We.jsx)("div",{className:"rules-header",children:"Dealer shuffles and deals cards"}),(0,We.jsxs)("div",{className:"rules-details",children:["Choose a player to be dealer. Dealer shuffles and deals out the same number of cards to each player (see below). Team members use the same colour marker chips.",(0,We.jsx)("br",{}),(0,We.jsx)("br",{}),"Table for Number of Cards Dealt to Each Player:",(0,We.jsx)("br",{}),"2 Players / 6 Cards Each",(0,We.jsx)("br",{}),"3 Players / 6 Cards Each",(0,We.jsx)("br",{}),"4 Players / 6 Cards Each",(0,We.jsx)("br",{}),"6 Players / 5 Cards Each",(0,We.jsx)("br",{}),"8 Players / 4 Cards Each",(0,We.jsx)("br",{}),"9 Players / 4 Cards Each",(0,We.jsx)("br",{}),"10 Players / 3 Cards Each",(0,We.jsx)("br",{}),"12 Players / 3 Cards Each",(0,We.jsx)("br",{})]})]}),(0,We.jsxs)("div",{className:"rules-section",children:[(0,We.jsx)("div",{className:"rules-header",children:"How to Play Sequence Rules Step by Step"}),(0,We.jsx)("div",{className:"rules-details",children:"A Sequence is a connected series of five identical colored marker chips in a straight line, horizontal, vertical or diagonally on the playing board. For 2 players/team, the objective of Sequence is to score two sequences before your opponents For 3 players/team, the objective is to score one sequence before your opponents."})]}),(0,We.jsxs)("div",{className:"rules-section",children:[(0,We.jsx)("div",{className:"rules-header",children:"Sequence Gameplay"}),(0,We.jsx)("div",{className:"rules-details",children:"Player to dealer\u2019s left begins play. Play continues in clockwise direction. On your turn, pick a card from hand and place face up on your discard pile visible to all other players. Place your marker chip on the matching card on the game board. Each card is pictured twice on the board. Jacks do not appear on the game board. You can only play on card spaces not covered by marker chips. Draw a new card from the Draw Deck. Your turn ends and moves to the next player."}),(0,We.jsx)("div",{className:"secondary-header",children:"Playing Two-Eyed Jacks"}),(0,We.jsx)("div",{className:"rules-details",children:"There are 4 Two-Eyed Jacks in the deck. Two-Eyed Jacks are Wild cards. To play a Two Eyed Jack, place it on your discard pile and place your marker chip on any open game board space."}),(0,We.jsx)("div",{className:"secondary-header",children:"Playing One-Eyed Jacks"}),(0,We.jsx)("div",{className:"rules-details",children:"There are 4 One-Eyed Jacks in the deck. One-Eyed Jacks are Anti Wild Cards. Place it on your discard pile and remove one marker chip belonging to your opponent from the game board. You cannot place your marker chips on that same space during this turn and you cannot remove a marker chip that is already a part of a sequence. Once a sequence has been achieved, it cannot be broken."})]}),(0,We.jsxs)("div",{className:"rules-section",children:[(0,We.jsx)("div",{className:"rules-header",children:"Trade in a Dead Card"}),(0,We.jsx)("div",{className:"rules-details",children:"If a card in your hand does not have an open space (both cards on the game board are occupied by a marker chip), you can trade it in for a new card. On your turn, announce the Dead Card and place it on the discard pile, and draw a new card (one card per turn). Proceed to normal play for your turn."})]}),(0,We.jsxs)("div",{className:"rules-section",children:[(0,We.jsx)("div",{className:"rules-header",children:"Winning in Sequence"}),(0,We.jsx)("div",{className:"rules-details",children:"A Sequence is a connected series of five identical colored marker chips in a straight line, horizontal, vertical or diagonally on the playing board. First team or player to scores the required number of Sequences wins the game. For 2 players/team, score two sequences before your opponents. You may use any part of your first sequence as part of your second. For 3 players/team, score one sequence before your opponents."})]})]})},VA=function(e){f(n,e);var t=y(n);function n(){var e;return u(this,n),(e=t.call(this)).state={board:void 0},console.log("app starts"),e}return c(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.board;return(0,We.jsxs)(i.Fragment,{children:[(0,We.jsx)(BA,{}),(0,We.jsx)(je.Provider,{value:{board:e},children:(0,We.jsx)(Be,{children:(0,We.jsxs)(Oe,{children:[(0,We.jsx)(Re,{path:bx.home,element:(0,We.jsx)(kx,{})}),(0,We.jsx)(Re,{path:bx.game,element:(0,We.jsx)(dx,{})}),(0,We.jsx)(Re,{path:bx.gameWithID,element:(0,We.jsx)(dx,{})}),(0,We.jsx)(Re,{path:bx.joinGame,element:(0,We.jsx)(UA,{})}),(0,We.jsx)(Re,{path:bx.rules,element:(0,We.jsx)(jA,{})})]})})})]})}}]),n}(i.Component),qA=VA,zA=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};ur("firebase","9.14.0","app");var QA=function(){function e(t,n){var r=this;u(this,e),this._delegate=t,this.firebase=n,Kn(t,new sn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return c(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ar(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Kn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Gn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),HA=(qe(OA={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),qe(OA,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),OA),KA=new Kt("app-compat","Firebase",HA);var GA=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=nr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Jt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ur,setLogLevel:cr,onLog:sr,apps:null,SDK_VERSION:tr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Wn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw KA.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Rt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Jt(n,e=e||qn))throw KA.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(QA);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Rt(n,e)},createSubscribe:tn,ErrorFactory:Kt,deepExtend:Rt}),n}(),WA=new kn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){WA.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var JA=self.firebase.SDK_VERSION;JA&&JA.indexOf("LITE")>=0&&WA.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var YA=GA;!function(e){ur("@firebase/app-compat","0.1.39",e)}();YA.registerVersion("firebase","9.14.0","app-compat");function XA(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ZA;Object.create;var $A="facebook.com",eI="github.com",tI="google.com",nI="password",rI="twitter.com",iI="EMAIL_SIGNIN",aI="PASSWORD_RESET",oI="RECOVER_EMAIL",uI="REVERT_SECOND_FACTOR_ADDITION",sI="VERIFY_AND_CHANGE_EMAIL",cI="VERIFY_EMAIL";function lI(){return qe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var fI=function(){var e;return qe(e={},"admin-restricted-operation","This operation is restricted to administrators only."),qe(e,"argument-error",""),qe(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),qe(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),qe(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),qe(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),qe(e,"cordova-not-ready","Cordova framework is not ready."),qe(e,"cors-unsupported","This browser is not supported."),qe(e,"credential-already-in-use","This credential is already associated with a different user account."),qe(e,"custom-token-mismatch","The custom token corresponds to a different audience."),qe(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),qe(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),qe(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),qe(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),qe(e,"email-already-in-use","The email address is already in use by another account."),qe(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),qe(e,"expired-action-code","The action code has expired."),qe(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),qe(e,"internal-error","An internal AuthError has occurred."),qe(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),qe(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),qe(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),qe(e,"invalid-auth-event","An internal AuthError has occurred."),qe(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),qe(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),qe(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),qe(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),qe(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),qe(e,"invalid-email","The email address is badly formatted."),qe(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),qe(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),qe(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),qe(e,"invalid-credential","The supplied auth credential is malformed or has expired."),qe(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),qe(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),qe(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),qe(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),qe(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),qe(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),qe(e,"wrong-password","The password is invalid or the user does not have a password."),qe(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),qe(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),qe(e,"invalid-provider-id","The specified provider ID is invalid."),qe(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),qe(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),qe(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),qe(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),qe(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),qe(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),qe(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),qe(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),qe(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),qe(e,"missing-continue-uri","A continue URL must be provided in the request."),qe(e,"missing-iframe-start","An internal AuthError has occurred."),qe(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),qe(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),qe(e,"missing-multi-factor-info","No second factor identifier is provided."),qe(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),qe(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),qe(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),qe(e,"app-deleted","This instance of FirebaseApp has been deleted."),qe(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),qe(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),qe(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),qe(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),qe(e,"no-auth-event","An internal AuthError has occurred."),qe(e,"no-such-provider","User was not linked to an account with the given provider."),qe(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),qe(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),qe(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),qe(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),qe(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),qe(e,"provider-already-linked","User can only be linked to one identity for the given provider."),qe(e,"quota-exceeded","The project's quota for this operation has been exceeded."),qe(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),qe(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),qe(e,"rejected-credential","The request contains malformed or mismatching credentials."),qe(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),qe(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),qe(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),qe(e,"timeout","The operation has timed out."),qe(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),qe(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),qe(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),qe(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),qe(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),qe(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),qe(e,"unverified-email","The operation requires a verified email."),qe(e,"user-cancelled","The user did not grant your application the permissions it requested."),qe(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),qe(e,"user-disabled","The user account has been disabled by an administrator."),qe(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),qe(e,"user-signed-out",""),qe(e,"weak-password","The password must be 6 characters long or more."),qe(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),qe(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},hI=lI,dI=new Kt("auth","Firebase",lI()),pI=new kn("@firebase/auth");function vI(e){if(pI.logLevel<=hn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pI.error.apply(pI,["Auth (".concat(tr,"): ").concat(e)].concat(n))}}function mI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw bI.apply(void 0,[e].concat(n))}function yI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return bI.apply(void 0,[e].concat(n))}function gI(e,t,n){var r=Object.assign(Object.assign({},hI()),qe({},t,n));return new Kt("auth","Firebase",r).create(t,{appName:e.name})}function kI(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&mI(e,"argument-error"),gI(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function bI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=I(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(I(o)))}return dI.create.apply(dI,[e].concat(n))}function wI(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw bI.apply(void 0,[t].concat(r))}}function xI(e){var t="INTERNAL ASSERTION FAILED: "+e;throw vI(t),new Error(t)}function AI(e,t){e||xI(t)}var II=new Map;function EI(e){AI(e instanceof Function,"Expected a class definition");var t=II.get(e);return t?(AI(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,II.set(e,t),t)}function SI(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function TI(){return"http:"===CI()||"https:"===CI()}function CI(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var NI=function(){function e(t,n){u(this,e),this.shortDelay=t,this.longDelay=n,AI(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())||Mt()}return c(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(TI()||Lt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function DI(e,t){AI(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var _I=function(){function e(){u(this,e)}return c(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void xI("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void xI("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void xI("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),RI=(qe(ZA={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),qe(ZA,"MISSING_CUSTOM_TOKEN","internal-error"),qe(ZA,"INVALID_IDENTIFIER","invalid-email"),qe(ZA,"MISSING_CONTINUE_URI","internal-error"),qe(ZA,"INVALID_PASSWORD","wrong-password"),qe(ZA,"MISSING_PASSWORD","internal-error"),qe(ZA,"EMAIL_EXISTS","email-already-in-use"),qe(ZA,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),qe(ZA,"INVALID_IDP_RESPONSE","invalid-credential"),qe(ZA,"INVALID_PENDING_TOKEN","invalid-credential"),qe(ZA,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),qe(ZA,"MISSING_REQ_TYPE","internal-error"),qe(ZA,"EMAIL_NOT_FOUND","user-not-found"),qe(ZA,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),qe(ZA,"EXPIRED_OOB_CODE","expired-action-code"),qe(ZA,"INVALID_OOB_CODE","invalid-action-code"),qe(ZA,"MISSING_OOB_CODE","internal-error"),qe(ZA,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),qe(ZA,"INVALID_ID_TOKEN","invalid-user-token"),qe(ZA,"TOKEN_EXPIRED","user-token-expired"),qe(ZA,"USER_NOT_FOUND","user-token-expired"),qe(ZA,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),qe(ZA,"INVALID_CODE","invalid-verification-code"),qe(ZA,"INVALID_SESSION_INFO","invalid-verification-id"),qe(ZA,"INVALID_TEMPORARY_PROOF","invalid-credential"),qe(ZA,"MISSING_SESSION_INFO","missing-verification-id"),qe(ZA,"SESSION_EXPIRED","code-expired"),qe(ZA,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),qe(ZA,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),qe(ZA,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),qe(ZA,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),qe(ZA,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),qe(ZA,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),qe(ZA,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),qe(ZA,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),qe(ZA,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),qe(ZA,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),qe(ZA,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ZA),PI=new NI(3e4,6e4);function OI(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function LI(e,t,n,r){return MI.apply(this,arguments)}function MI(){return MI=Ke(Ve().mark((function e(t,n,r,i){var a,o=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",BI(t,a,Ke(Ve().mark((function e(){var a,o,u,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Zt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",_I.fetch()(VI(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}function BI(e,t,n){return FI.apply(this,arguments)}function FI(){return FI=Ke(Ve().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},RI),n),e.prev=2,a=new qI(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw zI(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=x(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw zI(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw zI(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw zI(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw gI(t,d,h);case 34:mI(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ht)){e.next=41;break}throw e.t0;case 41:mI(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),FI.apply(this,arguments)}function UI(e,t,n,r){return jI.apply(this,arguments)}function jI(){return jI=Ke(Ve().mark((function e(t,n,r,i){var a,o,u=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,LI(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&mI(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function VI(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?DI(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var qI=function(){function e(t){var n=this;u(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(yI(n.auth,"network-request-failed"))}),PI.get())}))}return c(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function zI(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=yI(e,t,r);return i.customData._tokenResponse=n,i}function QI(e,t){return HI.apply(this,arguments)}function HI(){return(HI=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LI(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KI(e,t){return GI.apply(this,arguments)}function GI(){return(GI=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LI(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WI(e,t){return JI.apply(this,arguments)}function JI(){return(JI=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LI(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YI(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(xx){}}function XI(){return XI=Ke(Ve().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=un(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,wI((a=$I(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:YI(ZI(a.auth_time)),issuedAtTime:YI(ZI(a.iat)),expirationTime:YI(ZI(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function ZI(e){return 1e3*Number(e)}function $I(e){var t,n=x(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return vI("JWT malformed, contained fewer than 3 sections"),null;try{var o=_t(i);return o?JSON.parse(o):(vI("Failed to decode base64 JWT payload"),null)}catch(xx){return vI("Caught error parsing JWT payload as JSON",null===(t=xx)||void 0===t?void 0:t.toString()),null}}function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=Ke(Ve().mark((function e(t,n){var r=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ht&&nE(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),tE.apply(this,arguments)}function nE(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var rE=function(){function e(t){u(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return c(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ke(Ve().mark((function t(){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),iE=function(){function e(t,n){u(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return c(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=YI(this.lastLoginAt),this.creationTime=YI(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function aE(e){return oE.apply(this,arguments)}function oE(){return oE=Ke(Ve().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,eE(t,WI(r,{idToken:i}));case 6:wI(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?cE(o.providerUserInfo):[],s=sE(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new iE(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function uE(){return(uE=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=un(t),e.next=3,aE(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sE(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(I(n),I(t))}function cE(e){return e.map((function(e){var t=e.providerId,n=XA(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function lE(e,t){return fE.apply(this,arguments)}function fE(){return(fE=Ke(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BI(t,{},Ke(Ve().mark((function e(){var r,i,a,o,u,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=VI(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",_I.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hE=function(){function e(){u(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return c(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){wI(e.idToken,"internal-error"),wI("undefined"!==typeof e.idToken,"internal-error"),wI("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=$I(e);return wI(t,"internal-error"),wI("undefined"!==typeof t.exp,"internal-error"),wI("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ke(Ve().mark((function e(t){var n,r=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],wI(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ke(Ve().mark((function e(t,n){var r,i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lE(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return xI("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(wI("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(wI("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(wI("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function dE(e,t){wI("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var pE=function(){function e(t){u(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=XA(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?I(a.providerData):[],this.metadata=new iE(a.createdAt||void 0,a.lastLoginAt||void 0)}return c(e,[{key:"getIdToken",value:function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eE(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(wI(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return XI.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return uE.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(wI(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){wI(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ke(Ve().mark((function e(t){var n,r,i=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,aE(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,eE(this,QI(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,A=n.stsTokenManager;wI(k&&A,t,"internal-error");var I=hE.fromJSON(this.name,A);wI("string"===typeof k,t,"internal-error"),dE(f,t.name),dE(h,t.name),wI("boolean"===typeof b,t,"internal-error"),wI("boolean"===typeof w,t,"internal-error"),dE(d,t.name),dE(p,t.name),dE(v,t.name),dE(m,t.name),dE(y,t.name),dE(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Ke(Ve().mark((function t(n,r){var i,a,o,u=arguments;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new hE).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,aE(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),vE=function(){function e(){u(this,e),this.type="NONE",this.storage={}}return c(e,[{key:"_isAvailable",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();vE.type="NONE";var mE=vE;function yE(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var gE=function(){function e(t,n,r){u(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=yE(this.userKey,a.apiKey,o),this.fullPersistenceKey=yE("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return c(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?pE._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ke(Ve().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(EI(mE),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||EI(mE),u=yE(i,n.config.apiKey,n.name),s=null,c=Ge(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=pE._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function kE(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(AE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(EE(t))return"Blackberry";if(SE(t))return"Webos";if(wE(t))return"Safari";if((t.includes("chrome/")||xE(t))&&!t.includes("edge/"))return"Chrome";if(IE(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function bE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/firefox\//i.test(e)}function wE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/crios\//i.test(e)}function AE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/iemobile/i.test(e)}function IE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/android/i.test(e)}function EE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/blackberry/i.test(e)}function SE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/webos/i.test(e)}function TE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function CE(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return TE(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function NE(){return Bt()&&10===document.documentMode}function DE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return TE(e)||IE(e)||SE(e)||EE(e)||/windows phone/i.test(e)||AE(e)}function _E(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=kE(Pt());break;case"Worker":t="".concat(kE(Pt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(tr,"/").concat(r)}var RE=function(){function e(t){u(this,e),this.auth=t,this.queue=[]}return c(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(xx){r(xx)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ke(Ve().mark((function e(t){var n,r,i,a,o,u,s,c;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Ge(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Ge(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(gA){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),PE=function(){function e(t,n,r){u(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LE(this),this.idTokenSubscription=new LE(this),this.beforeStateQueue=new RE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dI,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return c(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=EI(t)),this._initializationPromise=this.queue(Ke(Ve().mark((function r(){var i,a;return Ve().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,gE.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ke(Ve().mark((function e(t){var n,r,i,a,o,u,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return wI(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,aE(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?un(t):null)&&wI(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ke(Ve().mark((function e(t){var n,r=this,i=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&wI(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ke(Ve().mark((function n(){return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(EI(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Kt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ke(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return wI(n=t&&EI(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,gE.create(this,[EI(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ke(Ve().mark((function e(t){var n=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return wI(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return wI(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_E(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ke(Ve().mark((function e(){var t,n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function OE(e){return un(e)}var LE=function(){function e(t){var n=this;u(this,e),this.auth=t,this.observer=null,this.addObserver=tn((function(e){return n.observer=e}))}return c(e,[{key:"next",get:function(){return wI(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ME(e,t,n){var r=OE(e);wI(r._canInitEmulator,r,"emulator-config-failed"),wI(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=BE(t),o=function(e){var t=BE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:FE(r.substr(a.length+1))}}var o=x(r.split(":"),2);return{host:o[0],port:FE(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function BE(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function FE(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var UE=function(){function e(t,n){u(this,e),this.providerId=t,this.signInMethod=n}return c(e,[{key:"toJSON",value:function(){return xI("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return xI("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return xI("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return xI("not implemented")}}]),e}();function jE(e,t){return VE.apply(this,arguments)}function VE(){return(VE=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LI(t,"POST","/v1/accounts:resetPassword",OI(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qE(e,t){return zE.apply(this,arguments)}function zE(){return(zE=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LI(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QE(e,t){return HE.apply(this,arguments)}function HE(){return(HE=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LI(t,"POST","/v1/accounts:update",OI(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KE(e,t){return GE.apply(this,arguments)}function GE(){return(GE=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UI(t,"POST","/v1/accounts:signInWithPassword",OI(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WE(e,t){return JE.apply(this,arguments)}function JE(){return(JE=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LI(t,"POST","/v1/accounts:sendOobCode",OI(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YE(e,t){return XE.apply(this,arguments)}function XE(){return(XE=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WE(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZE(e,t){return $E.apply(this,arguments)}function $E(){return($E=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WE(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eS(e,t){return tS.apply(this,arguments)}function tS(){return(tS=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WE(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nS(e,t){return rS.apply(this,arguments)}function rS(){return(rS=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WE(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iS(e,t){return aS.apply(this,arguments)}function aS(){return(aS=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UI(t,"POST","/v1/accounts:signInWithEmailLink",OI(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oS(e,t){return uS.apply(this,arguments)}function uS(){return(uS=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UI(t,"POST","/v1/accounts:signInWithEmailLink",OI(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sS=function(e){f(n,e);var t=y(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return u(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return c(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",KE(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",iS(t,{email:this._email,oobCode:this._password}));case 5:mI(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qE(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",oS(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:mI(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(UE);function cS(e,t){return lS.apply(this,arguments)}function lS(){return(lS=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UI(t,"POST","/v1/accounts:signInWithIdp",OI(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fS=function(e){f(n,e);var t=y(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return c(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return cS(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,cS(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,cS(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mI("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=XA(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(UE);function hS(e,t){return dS.apply(this,arguments)}function dS(){return(dS=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LI(t,"POST","/v1/accounts:sendVerificationCode",OI(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pS(){return(pS=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UI(t,"POST","/v1/accounts:signInWithPhoneNumber",OI(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vS(){return(vS=Ke(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UI(t,"POST","/v1/accounts:signInWithPhoneNumber",OI(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw zI(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mS=qe({},"USER_NOT_FOUND","user-not-found");function yS(){return(yS=Ke(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",UI(t,"POST","/v1/accounts:signInWithPhoneNumber",OI(t,r),mS));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gS=function(e){f(n,e);var t=y(n);function n(e){var r;return u(this,n),(r=t.call(this,"phone","phone")).params=e,r}return c(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return pS.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return vS.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return yS.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(UE);var kS=function(){function e(t){var n,r,i,a,o,s;u(this,e);var c=$t(en(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);wI(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=c.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return c(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=$t(en(e)).link,n=t?$t(en(t)).deep_link_id:null,r=$t(en(e)).deep_link_id;return(r?$t(en(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(By){return null}}}]),e}();var bS=function(){function e(){u(this,e),this.providerId=e.PROVIDER_ID}return c(e,null,[{key:"credential",value:function(e,t){return sS._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=kS.parseLink(t);return wI(n,"argument-error"),sS._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();bS.PROVIDER_ID="password",bS.EMAIL_PASSWORD_SIGN_IN_METHOD="password",bS.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var wS=function(){function e(t){u(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return c(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),xS=function(e){f(n,e);var t=y(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).scopes=[],e}return c(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return I(this.scopes)}}]),n}(wS),AS=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return wI(e.idToken||e.accessToken,"argument-error"),fS._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return wI("providerId"in t&&"signInMethod"in t,"argument-error"),fS._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(xx){return null}}}]),n}(xS),IS=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.call(this,"facebook.com")}return c(n,null,[{key:"credential",value:function(e){return fS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(By){return null}}}]),n}(xS);IS.FACEBOOK_SIGN_IN_METHOD="facebook.com",IS.PROVIDER_ID="facebook.com";var ES=function(e){f(n,e);var t=y(n);function n(){var e;return u(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return c(n,null,[{key:"credential",value:function(e,t){return fS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(By){return null}}}]),n}(xS);ES.GOOGLE_SIGN_IN_METHOD="google.com",ES.PROVIDER_ID="google.com";var SS=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.call(this,"github.com")}return c(n,null,[{key:"credential",value:function(e){return fS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(By){return null}}}]),n}(xS);SS.GITHUB_SIGN_IN_METHOD="github.com",SS.PROVIDER_ID="github.com";var TS=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return c(n,[{key:"_getIdTokenResponse",value:function(e){return cS(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,cS(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,cS(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(UE),CS=function(e){f(n,e);var t=y(n);function n(e){return u(this,n),wI(e.startsWith("saml."),"argument-error"),t.call(this,e)}return c(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=TS.fromJSON(e);return wI(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return TS._create(r,n)}catch(xx){return null}}}]),n}(wS),NS=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.call(this,"twitter.com")}return c(n,null,[{key:"credential",value:function(e,t){return fS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(By){return null}}}]),n}(xS);function DS(e,t){return _S.apply(this,arguments)}function _S(){return(_S=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UI(t,"POST","/v1/accounts:signUp",OI(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}NS.TWITTER_SIGN_IN_METHOD="twitter.com",NS.PROVIDER_ID="twitter.com";var RS=function(){function e(t){u(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return c(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ke(Ve().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,pE._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=PS(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ke(Ve().mark((function t(n,r,i){var a;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=PS(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function PS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function OS(){return OS=Ke(Ve().mark((function e(t){var n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=OE(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new RS({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,DS(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,RS._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}var LS=function(e){f(n,e);var t=y(n);function n(e,r,i,a){var o,s;return u(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(v(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return c(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ht);function MS(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw LS._fromErrorAndOperation(e,n,t,r);throw n}))}function BS(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function FS(e,t){return US.apply(this,arguments)}function US(){return US=Ke(Ve().mark((function e(t,n){var r,i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=un(t),e.next=3,qS(!0,r,n);case 3:return e.t0=KI,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=BS(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function jS(e,t){return VS.apply(this,arguments)}function VS(){return VS=Ke(Ve().mark((function e(t,n){var r,i,a=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=eE,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",RS._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function qS(e,t,n){return zS.apply(this,arguments)}function zS(){return(zS=Ke(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aE(n);case 2:i=BS(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",wI(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QS(e,t){return HS.apply(this,arguments)}function HS(){return HS=Ke(Ve().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,eE(t,MS(a,o,n,t),r);case 6:return wI((u=e.sent).idToken,a,"internal-error"),wI(s=$I(u.idToken),a,"internal-error"),c=s.sub,wI(t.uid===c,a,"user-mismatch"),e.abrupt("return",RS._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&mI(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),HS.apply(this,arguments)}function KS(e,t){return GS.apply(this,arguments)}function GS(){return GS=Ke(Ve().mark((function e(t,n){var r,i,a,o,u=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,MS(t,i,n);case 4:return a=e.sent,e.next=7,RS._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function WS(e,t){return JS.apply(this,arguments)}function JS(){return(JS=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KS(OE(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YS(e,t){return XS.apply(this,arguments)}function XS(){return(XS=Ke(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=un(t),e.next=3,qS(!1,r,n.providerId);case 3:return e.abrupt("return",jS(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZS(e,t){return $S.apply(this,arguments)}function $S(){return($S=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QS(un(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return(tT=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UI(t,"POST","/v1/accounts:signInWithCustomToken",OI(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nT(){return(nT=Ke(Ve().mark((function e(t,n){var r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=OE(t),e.next=3,eT(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,RS._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rT=function(){function e(t,n){u(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return c(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?iT._fromServerResponse(e,t):mI(e,"internal-error")}}]),e}(),iT=function(e){f(n,e);var t=y(n);function n(e){var r;return u(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return c(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(rT);function aT(e,t,n){var r;wI((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),wI("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(wI(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(wI(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function oT(){return(oT=Ke(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=un(t),a={requestType:"PASSWORD_RESET",email:n},r&&aT(i,a,r),e.next=5,ZE(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uT(){return(uT=Ke(Ve().mark((function e(t,n,r){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jE(un(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sT(){return(sT=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QE(un(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cT(e,t){return lT.apply(this,arguments)}function lT(){return(lT=Ke(Ve().mark((function e(t,n){var r,i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=un(t),e.next=3,jE(r,{oobCode:n});case 3:i=e.sent,wI(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return wI(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:wI(i.mfaInfo,r,"internal-error");case 13:wI(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=rT._fromServerResponse(OE(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fT(){return(fT=Ke(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cT(un(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hT(e,t,n){return dT.apply(this,arguments)}function dT(){return(dT=Ke(Ve().mark((function e(t,n,r){var i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=OE(t),e.next=3,DS(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,RS._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pT(){return(pT=Ke(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=un(t),a={requestType:"EMAIL_SIGNIN",email:n},wI(r.handleCodeInApp,i,"argument-error"),r&&aT(i,a,r),e.next=6,eS(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vT(){return(vT=Ke(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=un(t),wI((a=bS.credentialWithLink(n,r||SI()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",WS(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mT(e,t){return yT.apply(this,arguments)}function yT(){return(yT=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LI(t,"POST","/v1/accounts:createAuthUri",OI(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gT(){return(gT=Ke(Ve().mark((function e(t,n){var r,i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=TI()?SI():"http://localhost",i={identifier:n,continueUri:r},e.next=4,mT(un(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kT(){return(kT=Ke(Ve().mark((function e(t,n){var r,i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=un(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&aT(r.auth,a,n),e.next=8,YE(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bT(){return(bT=Ke(Ve().mark((function e(t,n,r){var i,a,o,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=un(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&aT(i.auth,o,r),e.next=8,nS(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wT(e,t){return xT.apply(this,arguments)}function xT(){return(xT=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LI(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AT(){return(AT=Ke(Ve().mark((function e(t,n){var r,i,a,o,u,s,c;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=un(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,eE(a,wT(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IT(e,t,n){return ET.apply(this,arguments)}function ET(){return(ET=Ke(Ve().mark((function e(t,n,r){var i,a,o,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,eE(t,qE(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ST=c((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),TT=function(e){f(n,e);var t=y(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this,e,r,i)).username=a,o}return c(n)}(ST),CT=function(e){f(n,e);var t=y(n);function n(e,r){return u(this,n),t.call(this,e,"facebook.com",r)}return c(n)}(ST),NT=function(e){f(n,e);var t=y(n);function n(e,r){return u(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return c(n)}(TT),DT=function(e){f(n,e);var t=y(n);function n(e,r){return u(this,n),t.call(this,e,"google.com",r)}return c(n)}(ST),_T=function(e){f(n,e);var t=y(n);function n(e,r,i){return u(this,n),t.call(this,e,"twitter.com",r,i)}return c(n)}(TT);function RT(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=$I(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ST(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new CT(a,i);case"github.com":return new NT(a,i);case"google.com":return new DT(a,i);case"twitter.com":return new _T(a,i,e.screenName||null);case"custom":case"anonymous":return new ST(a,null);default:return new ST(a,r,i)}}(n)}var PT=function(){function e(t,n,r){u(this,e),this.type=t,this.credential=n,this.auth=r}return c(e,[{key:"toJSON",value:function(){return{multiFactorSession:qe({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),OT=function(){function e(t,n,r){u(this,e),this.session=t,this.hints=n,this.signInResolver=r}return c(e,[{key:"resolveSignIn",value:function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=OE(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return rT._fromServerResponse(r,e)}));wI(i.mfaPendingCredential,r,"internal-error");var o=PT._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ke(Ve().mark((function e(t){var a,u,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,RS._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return wI(n.user,r,"internal-error"),e.abrupt("return",RS._forOperation(n.user,n.operationType,u));case 17:mI(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function LT(e,t){return LI(e,"POST","/v2/accounts/mfaEnrollment:start",OI(e,t))}var MT=function(){function e(t){var n=this;u(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return rT._fromServerResponse(t.auth,e)})))}))}return c(e,[{key:"getSession",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=PT,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ke(Ve().mark((function e(t,n){var r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,eE(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ke(Ve().mark((function e(t){var n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,eE(this.user,LI(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",OI(o,{idToken:i,mfaEnrollmentId:r})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),BT=new WeakMap;var FT="__sak",UT=function(){function e(t,n){u(this,e),this.storageRetriever=t,this.type=n}return c(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(FT,"1"),this.storage.removeItem(FT),Promise.resolve(!0)):Promise.resolve(!1)}catch(By){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var jT=function(e){f(n,e);var t=y(n);function n(){var e;return u(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Pt();return wE(e)||TE(e)}()&&function(){try{return!(!window||window===window.top)}catch(xx){return!1}}(),e.fallbackToPolling=DE(),e._shouldAllowMigration=!0,e}return c(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);NE()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ke(Ve().mark((function e(t,r){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt(h(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ke(Ve().mark((function e(t){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt(h(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt(h(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(UT);jT.type="LOCAL";var VT=jT,qT=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return c(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(UT);qT.type="SESSION";var zT=qT;function QT(e){return Promise.all(e.map(function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var HT=function(){function e(t){u(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return c(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ke(Ve().mark((function e(t){var n,r,i,a,o,u,s,c;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,QT(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function KT(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}HT.receivers=[];var GT=function(){function e(t){u(this,e),this.target=t,this.handlers=new Set}return c(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ke(Ve().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=KT("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function WT(){return window}function JT(){return"undefined"!==typeof WT().WorkerGlobalScope&&"function"===typeof WT().importScripts}function YT(){return XT.apply(this,arguments)}function XT(){return(XT=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ZT(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var $T="firebaseLocalStorageDb",eC="firebaseLocalStorage",tC="fbase_key",nC=function(){function e(t){u(this,e),this.request=t}return c(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function rC(e,t){return e.transaction([eC],t?"readwrite":"readonly").objectStore(eC)}function iC(){var e=indexedDB.deleteDatabase($T);return new nC(e).toPromise()}function aC(){var e=indexedDB.open($T,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(eC,{keyPath:tC})}catch(xx){n(xx)}})),e.addEventListener("success",Ke(Ve().mark((function n(){var r;return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(eC)){n.next=12;break}return r.close(),n.next=5,iC();case 5:return n.t0=t,n.next=8,aC();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function oC(e,t,n){return uC.apply(this,arguments)}function uC(){return uC=Ke(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=rC(t,!0).put((qe(i={},tC,n),qe(i,"value",r),i)),e.abrupt("return",new nC(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function sC(e,t){return cC.apply(this,arguments)}function cC(){return cC=Ke(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rC(t,!1).get(n),e.next=3,new nC(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),cC.apply(this,arguments)}function lC(e,t){var n=rC(e,!0).delete(t);return new nC(n).toPromise()}var fC=function(){function e(){u(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return c(e,[{key:"_openDb",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,aC();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JT()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ke(Ve().mark((function e(){var t=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=HT._getInstance(JT()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ke(Ve().mark((function e(n,r){var i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ke(Ve().mark((function e(){var t,n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YT();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new GT(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ZT()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,aC();case 5:return t=e.sent,e.next=8,oC(t,FT,"1");case 8:return e.next=10,lC(t,FT);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ke(Ve().mark((function e(t,n){var r=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return oC(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return sC(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ke(Ve().mark((function e(t){var n=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return lC(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ke(Ve().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=rC(e,!1).getAll();return new nC(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ge(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ke(Ve().mark((function t(){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();fC.type="LOCAL";var hC=fC;function dC(e,t){return LI(e,"POST","/v2/accounts/mfaSignIn:start",OI(e,t))}function pC(e){return vC.apply(this,arguments)}function vC(){return(vC=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LI(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mC(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=yI("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function yC(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var gC=1e12,kC=function(){function e(t){u(this,e),this.auth=t,this.counter=gC,this._widgets=new Map}return c(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new bC(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||gC;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||gC;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||gC,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bC=function(){function e(t,n,r){var i=this;u(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;wI(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return c(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(xx){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(xx){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var wC=yC("rcb"),xC=new NI(3e4,6e4),AC="https://www.google.com/recaptcha/api.js?",IC=function(){function e(){var t;u(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=WT().grecaptcha)||void 0===t?void 0:t.render)}return c(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return wI(EC(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(WT().grecaptcha):new Promise((function(r,i){var a=WT().setTimeout((function(){i(yI(e,"network-request-failed"))}),xC.get());WT()[wC]=function(){WT().clearTimeout(a),delete WT()[wC];var o=WT().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(yI(e,"internal-error"))},mC("".concat(AC,"?").concat(Zt({onload:wC,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(yI(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=WT().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function EC(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var SC=function(){function e(){u(this,e)}return c(e,[{key:"load",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new kC(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),TC="recaptcha",CC={theme:"light",type:"image"},NC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},CC),r=arguments.length>2?arguments[2]:void 0;u(this,e),this.parameters=n,this.type=TC,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=OE(r),this.isInvisible="invisible"===this.parameters.size,wI("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;wI(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new SC:new IC,this.validateStartingState()}return c(e,[{key:"verify",value:function(){var e=Ke(Ve().mark((function e(){var t,n,r,i=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(xx){return Promise.reject(xx)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){wI(!this.parameters.sitekey,this.auth,"argument-error"),wI(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),wI("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=WT()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){wI(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ke(Ve().mark((function e(){var t,n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wI(TI()&&!JT(),this.auth,"internal-error"),e.next=3,DC();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,pC(this.auth);case 8:wI(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return wI(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function DC(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var _C=function(){function e(t,n){u(this,e),this.verificationId=t,this.onConfirmation=n}return c(e,[{key:"confirm",value:function(e){var t=gS._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function RC(){return(RC=Ke(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=OE(t),e.next=3,MC(i,n,un(r));case 3:return a=e.sent,e.abrupt("return",new _C(a,(function(e){return WS(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PC(e,t,n){return OC.apply(this,arguments)}function OC(){return(OC=Ke(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=un(t),e.next=3,qS(!1,i,"phone");case 3:return e.next=5,MC(i.auth,n,un(r));case 5:return a=e.sent,e.abrupt("return",new _C(a,(function(e){return YS(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LC(){return(LC=Ke(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=un(t),e.next=3,MC(i.auth,n,un(r));case 3:return a=e.sent,e.abrupt("return",new _C(a,(function(e){return ZS(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MC(e,t,n){return BC.apply(this,arguments)}function BC(){return BC=Ke(Ve().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,wI("string"===typeof a,t,"argument-error"),wI(r.type===TC,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return wI("enroll"===u.type,t,"internal-error"),e.next=13,LT(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return wI("signin"===u.type,t,"internal-error"),wI(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,dC(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,hS(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),BC.apply(this,arguments)}function FC(){return(FC=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jS(un(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var UC=function(){function e(t){u(this,e),this.providerId=e.PROVIDER_ID,this.auth=OE(t)}return c(e,[{key:"verifyPhoneNumber",value:function(e,t){return MC(this.auth,e,un(t))}}],[{key:"credential",value:function(e,t){return gS._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?gS._fromTokenResponse(n,r):null}}]),e}();function jC(e,t){return t?EI(t):(wI(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}UC.PROVIDER_ID="phone",UC.PHONE_SIGN_IN_METHOD="phone";var VC=function(e){f(n,e);var t=y(n);function n(e){var r;return u(this,n),(r=t.call(this,"custom","custom")).params=e,r}return c(n,[{key:"_getIdTokenResponse",value:function(e){return cS(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return cS(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return cS(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(UE);function qC(e){return KS(e.auth,new VC(e),e.bypassAuthState)}function zC(e){var t=e.auth,n=e.user;return wI(n,t,"internal-error"),QS(n,new VC(e),e.bypassAuthState)}function QC(e){return HC.apply(this,arguments)}function HC(){return(HC=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,wI(r=t.user,n,"internal-error"),e.abrupt("return",jS(r,new VC(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var KC=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];u(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return c(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ke(Ve().mark((function t(n,r){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ke(Ve().mark((function e(t){var n,r,i,a,o,u,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qC;case"linkViaPopup":case"linkViaRedirect":return QC;case"reauthViaPopup":case"reauthViaRedirect":return zC;default:mI(this.auth,"internal-error")}}},{key:"resolve",value:function(e){AI(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){AI(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),GC=new NI(2e3,1e4);function WC(e,t,n){return JC.apply(this,arguments)}function JC(){return(JC=Ke(Ve().mark((function e(t,n,r){var i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=OE(t),kI(t,n,wS),a=jC(i,r),o=new $C(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YC(){return(YC=Ke(Ve().mark((function e(t,n,r){var i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kI((i=un(t)).auth,n,wS),a=jC(i.auth,r),o=new $C(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XC(e,t,n){return ZC.apply(this,arguments)}function ZC(){return(ZC=Ke(Ve().mark((function e(t,n,r){var i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kI((i=un(t)).auth,n,wS),a=jC(i.auth,r),o=new $C(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $C=function(e){f(n,e);var t=y(n);function n(e,r,i,a,o){var s;return u(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=v(s),s}return c(n,[{key:"executeNotNull",value:function(){var e=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return wI(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ke(Ve().mark((function e(){var t,n=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AI(1===this.filter.length,"Popup operations only handle one event"),t=KT(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(yI(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(yI(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(yI(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,GC.get())}()}}]),n}(KC);$C.currentPopupAction=null;var eN=new Map,tN=function(e){f(n,e);var t=y(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return c(n,[{key:"execute",value:function(){var e=Ke(Ve().mark((function e(){var t,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=eN.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,nN(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Tt(h(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:eN.set(this.auth._key(),t);case 21:return this.bypassAuthState||eN.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ke(Ve().mark((function e(t){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Tt(h(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Tt(h(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(KC);function nN(e,t){return rN.apply(this,arguments)}function rN(){return(rN=Ke(Ve().mark((function e(t,n){var r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sN(n),i=uN(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iN(e,t){return aN.apply(this,arguments)}function aN(){return(aN=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uN(t)._set(sN(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oN(e,t){eN.set(e._key(),t)}function uN(e){return EI(e._redirectPersistence)}function sN(e){return yE("pendingRedirect",e.config.apiKey,e.name)}function cN(e,t,n){return function(e,t,n){return lN.apply(this,arguments)}(e,t,n)}function lN(){return(lN=Ke(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=OE(t),kI(t,n,wS),a=jC(i,r),e.next=5,iN(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fN(e,t,n){return function(e,t,n){return hN.apply(this,arguments)}(e,t,n)}function hN(){return(hN=Ke(Ve().mark((function e(t,n,r){var i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kI((i=un(t)).auth,n,wS),a=jC(i.auth,r),e.next=5,iN(a,i.auth);case 5:return e.next=7,kN(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dN(e,t,n){return function(e,t,n){return pN.apply(this,arguments)}(e,t,n)}function pN(){return(pN=Ke(Ve().mark((function e(t,n,r){var i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kI((i=un(t)).auth,n,wS),a=jC(i.auth,r),e.next=5,qS(!1,i,n.providerId);case 5:return e.next=7,iN(a,i.auth);case 7:return e.next=9,kN(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vN(e,t){return mN.apply(this,arguments)}function mN(){return(mN=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OE(t)._initializationPromise;case 2:return e.abrupt("return",yN(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yN(e,t){return gN.apply(this,arguments)}function gN(){return gN=Ke(Ve().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=OE(t),a=jC(i,n),o=new tN(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),gN.apply(this,arguments)}function kN(e){return bN.apply(this,arguments)}function bN(){return(bN=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=KT("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wN=function(){function e(t){u(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return c(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AN(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!AN(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(yI(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xN(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(xN(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function xN(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function AN(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function IN(e){return EN.apply(this,arguments)}function EN(){return EN=Ke(Ve().mark((function e(t){var n,r=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",LI(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),EN.apply(this,arguments)}var SN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TN=/^https?/;function CN(){return(CN=Ke(Ve().mark((function e(t){var n,r,i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,IN(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ge(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!NN(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:mI(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function NN(e){var t=SI(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!TN.test(r))return!1;if(SN.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var DN=new NI(3e4,6e4);function _N(){var e=WT().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=I(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var RN=null;function PN(e){return RN=RN||function(e){return new Promise((function(t,n){var r,i,a;function o(){_N(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){_N(),n(yI(e,"network-request-failed"))},timeout:DN.get()})}if(null===(i=null===(r=WT().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=WT().gapi)||void 0===a?void 0:a.load)){var u=yC("iframefcb");return WT()[u]=function(){gapi.load?o():n(yI(e,"network-request-failed"))},mC("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw RN=null,e}))}(e),RN}var ON=new NI(5e3,15e3),LN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BN(e){var t=e.config;wI(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?DI(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:tr},i=MN.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Zt(r).slice(1))}function FN(e){return UN.apply(this,arguments)}function UN(){return UN=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PN(t);case 2:return n=e.sent,wI(r=WT().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:BN(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LN,dontclear:!0},(function(e){return new Promise(function(){var n=Ke(Ve().mark((function n(r,i){var a,o,u;return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){WT().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=yI(t,"network-request-failed"),o=WT().setTimeout((function(){i(a)}),ON.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),UN.apply(this,arguments)}var jN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VN="_blank",qN="http://localhost",zN=function(){function e(t){u(this,e),this.window=t,this.associatedEvent=null}return c(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(xx){}}}]),e}();function QN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},jN),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Pt().toLowerCase();n&&(u=xE(c)?VN:n),bE(c)&&(t=t||qN,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=x(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(CE(c)&&"_self"!==u)return HN(t||"",u),new zN(null);var f=window.open(t||"",u,l);wI(f,e,"popup-blocked");try{f.focus()}catch(xx){}return new zN(f)}function HN(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var KN="__/auth/handler",GN="emulator/auth/handler";function WN(e,t,n,r,i,a){wI(e.config.authDomain,e,"auth-domain-config-required"),wI(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:tr,eventId:i};if(t instanceof wS){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=x(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof xS){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(KN);return DI(t,GN)}(e),"?").concat(Zt(d).slice(1))}var JN="webStorageSupport",YN=function(){function e(){u(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zT,this._completeRedirectFn=yN,this._overrideRedirectResult=oN}return c(e,[{key:"_openPopup",value:function(){var e=Ke(Ve().mark((function e(t,n,r,i){var a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AI(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=WN(t,n,r,SI(),i),e.abrupt("return",QN(t,o,KT()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ke(Ve().mark((function e(t,n,r,i){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=WN(t,n,r,SI(),i),WT().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(AI(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FN(t);case 2:return n=e.sent,r=new wN(t),n.register("authEvent",(function(e){return wI(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(JN,{type:JN},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),mI(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return CN.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return DE()||wE()||TE()}}]),e}(),XN=YN,ZN=function(e){f(n,e);var t=y(n);function n(e){var r;return u(this,n),(r=t.call(this,"phone")).credential=e,r}return c(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return LI(e,"POST","/v2/accounts/mfaEnrollment:finalize",OI(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return LI(e,"POST","/v2/accounts/mfaSignIn:finalize",OI(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){u(this,e),this.factorId=t}return c(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return xI("unexpected MultiFactorSessionType")}}}]),e}()),$N=function(){function e(){u(this,e)}return c(e,null,[{key:"assertion",value:function(e){return ZN._fromCredential(e)}}]),e}();$N.FACTOR_ID="phone";var eD="@firebase/auth",tD="0.20.11",nD=function(){function e(t){u(this,e),this.auth=t,this.internalListeners=new Map}return c(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){wI(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var rD;!function(e){var t;null===(t=Vt())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function iD(){return window}rD="Browser",Wn(new sn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){wI(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),wI(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:rD,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_E(rD)},i=new PE(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(EI);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Wn(new sn("auth-internal",(function(e){return function(e){return new nD(e)}(OE(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ur(eD,tD,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(rD)),ur(eD,tD,"esm2017");function aD(e,t,n){return oD.apply(this,arguments)}function oD(){return oD=Ke(Ve().mark((function e(t,n,r){var i,a,o,u,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=iD(),o=a.BuildInfo,AI(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,hD(n.sessionId);case 4:return u=e.sent,s={},TE()?s.ibi=o.packageName:IE()?s.apn=o.packageName:mI(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",WN(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),oD.apply(this,arguments)}function uD(){return(uD=Ke(Ve().mark((function e(t){var n,r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=iD(),r=n.BuildInfo,i={},TE()?i.iosBundleId=r.packageName:IE()?i.androidPackageName=r.packageName:mI(t,"operation-not-supported-in-this-environment"),e.next=5,IN(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sD(e){var t=iD().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function cD(e,t,n){return lD.apply(this,arguments)}function lD(){return lD=Ke(Ve().mark((function e(t,n,r){var i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=iD(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(yI(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),IE()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),lD.apply(this,arguments)}function fD(e){var t,n,r,i,a,o,u,s,c,l,f=iD();wI("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),wI("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),wI("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),wI("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),wI("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function hD(e){return dD.apply(this,arguments)}function dD(){return(dD=Ke(Ve().mark((function e(t){var n,r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pD(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pD(e){if(AI(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var vD=function(e){f(n,e);var t=y(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return c(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Tt(h(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(wN);function mD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:wD(),postBody:null,tenantId:e.tenantId,error:yI(e,"no-auth-event")}}function yD(e,t){return xD()._set(AD(e),t)}function gD(e){return kD.apply(this,arguments)}function kD(){return(kD=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xD()._get(AD(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,xD()._remove(AD(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bD(e,t){var n,r,i=function(e){var t=ID(e),n=t.link?decodeURIComponent(t.link):void 0,r=ID(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ID(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ID(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(xx){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?yI(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function wD(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function xD(){return EI(VT)}function AD(e){return yE("authEvent",e.config.apiKey,e.name)}function ID(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=g(t=n)||A(t)||b(t)||w();r[0];return $t(r.slice(1).join("?"))}var ED=function(){function e(){u(this,e),this._redirectPersistence=zT,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yN,this._overrideRedirectResult=oN}return c(e,[{key:"_initialize",value:function(){var e=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new vD(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){mI(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ke(Ve().mark((function e(t,n,r,i){var a,o,u,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fD(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),eN.clear(),e.next=10,this._originValidation(t);case 10:return o=mD(t,r,i),e.next=13,yD(t,o);case 13:return e.next=15,aD(t,o,n);case 15:return u=e.sent,e.next=18,sD(u);case 18:return s=e.sent,e.abrupt("return",cD(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return uD.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=iD(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ke(Ve().mark((function n(){return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,gD(e);case 2:t.onEvent(TD());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ke(Ve().mark((function n(r){var i,a;return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,gD(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=bD(i,r.url)),t.onEvent(a||TD());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");iD().handleOpenURL=function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(xx){console.error(xx)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),SD=ED;function TD(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yI("no-auth-event")}}function CD(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ND(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return!("file:"!==CD()&&"ionic:"!==CD()&&"capacitor:"!==CD()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function DD(){return Bt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function _D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/Edge\/\d+/.test(e)}function RD(){try{var e=self.localStorage,t=KT();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return DD()||_D(e)}()||Ft()}catch(xx){return PD()&&Ft()}return!1}function PD(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function OD(){return("http:"===CD()||"https:"===CD()||Lt()||ND())&&!(Mt()||Ot())&&RD()&&!PD()}function LD(){return ND()&&"undefined"!==typeof document}function MD(){return BD.apply(this,arguments)}function BD(){return(BD=Ke(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(LD()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FD={LOCAL:"local",NONE:"none",SESSION:"session"},UD=wI,jD="persistence";function VD(e,t){UD(Object.values(FD).includes(t),e,"invalid-persistence-type"),Mt()?UD(t!==FD.SESSION,e,"unsupported-persistence-type"):Ot()?UD(t===FD.NONE,e,"unsupported-persistence-type"):PD()?UD(t===FD.NONE||t===FD.LOCAL&&Ft(),e,"unsupported-persistence-type"):UD(t===FD.NONE||RD(),e,"unsupported-persistence-type")}function qD(e){return zD.apply(this,arguments)}function zD(){return(zD=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=QD(),r=yE(jD,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QD(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(xx){return null}}var HD=wI,KD=function(){function e(){u(this,e),this.browserResolver=EI(XN),this.cordovaResolver=EI(SD),this.underlyingResolver=null,this._redirectPersistence=zT,this._completeRedirectFn=yN,this._overrideRedirectResult=oN}return c(e,[{key:"_initialize",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ke(Ve().mark((function e(t,n,r,i){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ke(Ve().mark((function e(t,n,r,i){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return LD()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return HD(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,MD();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function GD(e){return e.unwrap()}function WD(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new $D(e,function(e,t){var n,r=un(e),i=t;return wI(t.customData.operationType,r,"argument-error"),wI(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),OT._fromError(r,i)}(e,t));else if(i){var a=JD(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function JD(e){var t=(e instanceof Ht?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ht)&&"temporaryProof"in t&&"phoneNumber"in t)return UC.credentialFromResult(e);var n,r=t.providerId;if(!r||r===nI)return null;switch(r){case tI:n=ES;break;case $A:n=IS;break;case eI:n=SS;break;case rI:n=NS;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?TS._create(r,u):fS._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new AS(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Ht?n.credentialFromError(e):n.credentialFromResult(e)}function YD(e,t){return t.catch((function(t){throw t instanceof Ht&&WD(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,JD(t)),additionalUserInfo:RT(e),user:e_.getOrCreate(r)}}))}function XD(e,t){return ZD.apply(this,arguments)}function ZD(){return(ZD=Ke(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return YD(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $D=function(){function e(t,n){u(this,e),this.resolver=n,this.auth=t.wrapped()}return c(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return YD(GD(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),e_=function(){function e(t){u(this,e),this._delegate=t,this.multiFactor=function(e){var t=un(e);return BT.has(t)||BT.set(t,MT._fromUser(t)),BT.get(t)}(t)}return c(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YD(this.auth,YS(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XD(this.auth,PC(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YD(this.auth,XC(this._delegate,t,KD)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qD(OE(this.auth));case 2:return e.abrupt("return",dN(this._delegate,t,KD));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YD(this.auth,ZS(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return XD(this.auth,function(e,t,n){return LC.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return YD(this.auth,function(e,t,n){return YC.apply(this,arguments)}(this._delegate,e,KD))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qD(OE(this.auth));case 2:return e.abrupt("return",fN(this._delegate,t,KD));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return kT.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FS(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return IT(un(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return IT(un(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return FC.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return AT.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return bT.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();e_.USER_MAP=new WeakMap;var t_=wI,n_=function(){function e(t,n){if(u(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;t_(r,"invalid-api-key",{appName:t.name}),t_(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?KD:void 0;this._delegate=n.initialize({options:{persistence:i_(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(fI),this.linkUnderlyingAuth()}return c(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?e_.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ME(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return sT.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return cT(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return uT.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ke(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YD(this._delegate,hT(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return gT.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=kS.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ke(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t_(OD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,vN(this._delegate,KD);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",YD(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){OE(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=r_(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=r_(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return pT.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return oT.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ke(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:VD(this._delegate,t),e.t0=t,e.next=e.t0===FD.SESSION?4:e.t0===FD.LOCAL?6:e.t0===FD.NONE?11:13;break;case 4:return n=zT,e.abrupt("break",14);case 6:return e.next=8,EI(hC)._isAvailable();case 8:return r=e.sent,n=r?hC:VT,e.abrupt("break",14);case 11:return n=mE,e.abrupt("break",14);case 13:return e.abrupt("return",mI("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return YD(this._delegate,function(e){return OS.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return YD(this._delegate,WS(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return YD(this._delegate,function(e,t){return nT.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return YD(this._delegate,function(e,t,n){return WS(un(e),bS.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return YD(this._delegate,function(e,t,n){return vT.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return XD(this._delegate,function(e,t,n){return RC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t_(OD(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",YD(this._delegate,WC(this._delegate,t,KD)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ke(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t_(OD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,qD(this._delegate);case 3:return e.abrupt("return",cN(this._delegate,t,KD));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return fT.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function r_(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&e_.getOrCreate(e))},error:t,complete:n}}function i_(e,t){var n=function(e,t){var n=QD();if(!n)return[];var r=yE(jD,e,t);switch(n.getItem(r)){case FD.NONE:return[mE];case FD.LOCAL:return[hC,zT];case FD.SESSION:return[zT];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(hC)||n.push(hC),"undefined"!==typeof window)for(var r=0,i=[VT,zT];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(mE)||n.push(mE),n}n_.Persistence=FD;var a_=function(){function e(){u(this,e),this.providerId="phone",this._delegate=new UC(GD(YA.auth()))}return c(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return UC.credential(e,t)}}]),e}();a_.PHONE_SIGN_IN_METHOD=UC.PHONE_SIGN_IN_METHOD,a_.PROVIDER_ID=UC.PROVIDER_ID;var o_,u_=wI,s_=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:YA.app();u(this,e),u_(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new NC(t,n,i.auth()),this.type=this._delegate.type}return c(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(o_=YA).INTERNAL.registerComponent(new sn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new n_(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:iI,PASSWORD_RESET:aI,RECOVER_EMAIL:oI,REVERT_SECOND_FACTOR_ADDITION:uI,VERIFY_AND_CHANGE_EMAIL:sI,VERIFY_EMAIL:cI}},EmailAuthProvider:bS,FacebookAuthProvider:IS,GithubAuthProvider:SS,GoogleAuthProvider:ES,OAuthProvider:AS,SAMLAuthProvider:CS,PhoneAuthProvider:a_,PhoneMultiFactorGenerator:$N,RecaptchaVerifier:s_,TwitterAuthProvider:NS,Auth:n_,AuthCredential:UE,Error:Ht}).setInstantiationMode("LAZY").setMultipleInstances(!1)),o_.registerVersion("@firebase/auth-compat","0.2.24");function c_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Vu("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function l_(){if("undefined"===typeof Uint8Array)throw new Vu("unimplemented","Uint8Arrays are not available in this environment.")}function f_(){if("undefined"==typeof atob)throw new Vu("unimplemented","Blobs are unavailable in Firestore in this environment.")}var h_=function(){function e(t){u(this,e),this._delegate=t}return c(e,[{key:"toBase64",value:function(){return f_(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return l_(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return f_(),new e(dg.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return l_(),new e(dg.fromUint8Array(t))}}]),e}();function d_(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ge(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var p_=function(){function e(){u(this,e)}return c(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){hg(e=ky(e,ig));var n=ag(e),r=e._freezeSettings(),i=new dy;return ug(n,i,new fy(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){hg(e=ky(e,ig));var t=ag(e),n=e._freezeSettings(),r=new dy;return ug(t,r,new hy(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Vu(ju.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new qu;return e._queue.enqueueAndForgetEvenWhileRestricted(Ke(Ve().mark((function n(){return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ke(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Is.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Is.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(sp(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),v_=function(){function e(t,n,r){var i=this;u(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ec||(this._appCompat=t)}return c(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Lu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Iy(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return sg(this._delegate)}},{key:"disableNetwork",value:function(){return cg(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&vy("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new qu;return e.asyncQueue.enqueueAndForget(Ke(Ve().mark((function n(){return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=_m,n.next=3,Jy(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ag(e=ky(e,ig)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Ak(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Vu("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new N_(this,Cy(this._delegate,e))}catch(xx){throw w_(xx,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new b_(this,Ny(this._delegate,e))}catch(xx){throw w_(xx,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new S_(this,function(e,t){if(e=ky(e,Ay),py("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Vu(ju.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Sy(e,null,function(e){return new Yc(as.emptyPath(),e)}(t))}(this._delegate,e))}catch(xx){throw w_(xx,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=ky(e,ig);var r=Object.assign(Object.assign({},Sk),n);return function(e){if(e.maxAttempts<1)throw new Vu(ju.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new qu;return e.asyncQueue.enqueueAndForget(Ke(Ve().mark((function i(){var a;return Ve().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Yy(e);case 2:a=i.sent,new My(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(ag(e),(function(n){return t(new Nk(e,n))}),r)}(this._delegate,(function(n){return e(new y_(t,n))}))}},{key:"batch",value:function(){var e=this;return ag(this._delegate),new g_(new Tk(this._delegate,(function(t){return Ik(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return lg(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return fg(this._delegate,e).then((function(e){return e?new S_(t,e):null}))}}]),e}(),m_=function(e){f(n,e);var t=y(n);function n(e){var r;return u(this,n),(r=t.call(this)).firestore=e,r}return c(n,[{key:"convertBytes",value:function(e){return new h_(new dg(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return b_.forKey(t,this.firestore,null)}}]),n}(sk);var y_=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new m_(t)}return c(e,[{key:"get",value:function(e){var t=this,n=D_(e);return this._delegate.get(n).then((function(e){return new I_(t._firestore,new hk(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=D_(e);return n?(c_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=D_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=D_(e);return this._delegate.delete(t),this}}]),e}(),g_=function(){function e(t){u(this,e),this._delegate=t}return c(e,[{key:"set",value:function(e,t,n){var r=D_(e);return n?(c_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=D_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=D_(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),k_=function(){function e(t,n,r){u(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return c(e,[{key:"fromFirestore",value:function(e,t){var n=new dk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new E_(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new m_(t),n),i.set(n,a)),a}}]),e}();k_.INSTANCES=new WeakMap;var b_=function(){function e(t,n){u(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new m_(t)}return c(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new N_(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new N_(this.firestore,Cy(this._delegate,e))}catch(xx){throw w_(xx,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=un(e))instanceof Ey&&Dy(this._delegate,e)}},{key:"set",value:function(e,t){t=c_("DocumentReference.set",t);try{return t?bk(this._delegate,e,t):bk(this._delegate,e)}catch(xx){throw w_(xx,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?wk(this._delegate,e):wk.apply(void 0,[this._delegate,e,t].concat(r))}catch(xx){throw w_(xx,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Ik(ky(e.firestore,ig),[new Hl(e._key,Dl.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=x_(n),a=A_(n,(function(t){return new I_(e.firestore,new hk(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return xk(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?gk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ky(e,Ey);var t=ky(e.firestore,ig);return $y(ag(t),e._key,{source:"server"}).then((function(n){return Ek(t,e,n)}))}(this._delegate):function(e){e=ky(e,Ey);var t=ky(e.firestore,ig);return $y(ag(t),e._key).then((function(n){return Ek(t,e,n)}))}(this._delegate),t.then((function(e){return new I_(n.firestore,new hk(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(k_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Vu("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Ey(n._delegate,r,new ss(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Ey(n._delegate,r,t))}}]),e}();function w_(e,t,n){return e.message=e.message.replace(t,n),e}function x_(e){var t,n=Ge(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!d_(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function A_(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=d_(e[0])?e[0]:d_(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var I_=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n}return c(e,[{key:"ref",get:function(){return new b_(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return mk(this._delegate,e._delegate)}}]),e}(),E_=function(e){f(n,e);var t=y(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Bu()}(void 0!==t),t}}]),n}(I_),S_=function(){function e(t,n){u(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new m_(t)}return c(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Wg(this._delegate,function(e,t,n){var r=t,i=Hg("where",e);return new Jg(i,r,n)}(t,n,r)))}catch(xx){throw w_(xx,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Wg(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Hg("orderBy",e);return new Yg(n,t)}(t,n)))}catch(xx){throw w_(xx,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Wg(this._delegate,function(e){return by("limit",e),new Xg("limit",e,"F")}(t)))}catch(xx){throw w_(xx,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Wg(this._delegate,function(e){return by("limitToLast",e),new Xg("limitToLast",e,"L")}(t)))}catch(xx){throw w_(xx,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Wg(this._delegate,$g.apply(void 0,arguments)))}catch(xx){throw w_(xx,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Wg(this._delegate,ek.apply(void 0,arguments)))}catch(xx){throw w_(xx,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Wg(this._delegate,nk.apply(void 0,arguments)))}catch(xx){throw w_(xx,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Wg(this._delegate,rk.apply(void 0,arguments)))}catch(xx){throw w_(xx,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return _y(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?kk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ky(e,Sy);var t=ky(e.firestore,ig),n=ag(t),r=new yk(t);return eg(n,e._query,{source:"server"}).then((function(n){return new pk(t,r,e,n)}))}(this._delegate):function(e){e=ky(e,Sy);var t=ky(e.firestore,ig),n=ag(t),r=new yk(t);return Kg(e._query),eg(n,e._query).then((function(n){return new pk(t,r,e,n)}))}(this._delegate),t.then((function(e){return new C_(n.firestore,new pk(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=x_(n),a=A_(n,(function(t){return new C_(e.firestore,new pk(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return xk(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(k_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),T_=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n}return c(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new E_(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),C_=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n}return c(e,[{key:"query",get:function(){return new S_(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new E_(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new T_(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new E_(n._firestore,r))}))}},{key:"isEqual",value:function(e){return mk(this._delegate,e._delegate)}}]),e}(),N_=function(e){f(n,e);var t=y(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return c(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new b_(this.firestore,e):null}},{key:"doc",value:function(e){try{return new b_(this.firestore,void 0===e?Ny(this._delegate):Ny(this._delegate,e))}catch(xx){throw w_(xx,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=ky(e.firestore,ig),r=Ny(e),i=ck(e.converter,t);return Ik(n,[Ig(Ag(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Dl.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new b_(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Dy(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(k_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(S_);function D_(e){return ky(e,Ey)}var __=function(){function e(){u(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=E(pg,n)}return c(e,[{key:"isEqual",value:function(e){return(e=un(e))instanceof pg&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(us.keyField().canonicalString())}}]),e}(),R_=function(){function e(t){u(this,e),this._delegate=t}return c(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Tg("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Eg("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Dk.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=_k.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Dg("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),P_={Firestore:v_,GeoPoint:mg,Timestamp:ns,Blob:h_,Transaction:y_,WriteBatch:g_,DocumentReference:b_,DocumentSnapshot:I_,Query:S_,QueryDocumentSnapshot:E_,QuerySnapshot:C_,CollectionReference:N_,FieldPath:__,FieldValue:R_,setLogLevel:function(e){!function(e){_u.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new sn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},P_)))}(e,(function(e,t){return new v_(e,t,new p_)})),e.registerVersion("@firebase/firestore-compat","0.2.3")}(YA);var O_=o.createRoot(document.getElementById("root")),L_=YA.initializeApp({apiKey:"AIzaSyCJYu_Bm1eZgY5sm5a9lHLimckyJH19QlY",authDomain:"ssui-final-project.firebaseapp.com",projectId:"ssui-final-project",storageBucket:"ssui-final-project.appspot.com",messagingSenderId:"604660582335",appId:"1:604660582335:web:8d0052258ceeedd538830a",measurementId:"G-G5SSPKY9KB"}),M_=YA.firestore();sx(L_);O_.render((0,We.jsx)(qA,{})),zA();var B_=M_}()}();
//# sourceMappingURL=main.fb0ec017.js.map